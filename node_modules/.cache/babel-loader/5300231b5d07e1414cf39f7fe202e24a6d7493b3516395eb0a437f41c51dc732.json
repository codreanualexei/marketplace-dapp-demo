{"ast":null,"code":"import { ConnectionController } from '../controllers/ConnectionController.js';\nimport { ModalController } from '../controllers/ModalController.js';\nimport { RouterController } from '../controllers/RouterController.js';\nimport { SIWXUtil } from './SIWXUtil.js';\nexport const ModalUtil = {\n  isUnsupportedChainView() {\n    return RouterController.state.view === 'UnsupportedChain' || RouterController.state.view === 'SwitchNetwork' && RouterController.state.history.includes('UnsupportedChain');\n  },\n  async safeClose() {\n    if (this.isUnsupportedChainView()) {\n      ModalController.shake();\n      return;\n    }\n    const isSIWXCloseDisabled = await SIWXUtil.isSIWXCloseDisabled();\n    if (isSIWXCloseDisabled) {\n      ModalController.shake();\n      return;\n    }\n    if (RouterController.state.view === 'DataCapture' || RouterController.state.view === 'DataCaptureOtpConfirm') {\n      ConnectionController.disconnect();\n    }\n    ModalController.close();\n  }\n};","map":{"version":3,"names":["ConnectionController","ModalController","RouterController","SIWXUtil","ModalUtil","isUnsupportedChainView","state","view","history","includes","safeClose","shake","isSIWXCloseDisabled","disconnect","close"],"sources":["../../../../src/utils/ModalUtil.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,oBAAoB,QAAQ,wCAAwC;AAC7E,SAASC,eAAe,QAAQ,mCAAmC;AACnE,SAASC,gBAAgB,QAAQ,oCAAoC;AACrE,SAASC,QAAQ,QAAQ,eAAe;AAExC,OAAO,MAAMC,SAAS,GAAG;EACvBC,sBAAsBA,CAAA;IACpB,OACEH,gBAAgB,CAACI,KAAK,CAACC,IAAI,KAAK,kBAAkB,IACjDL,gBAAgB,CAACI,KAAK,CAACC,IAAI,KAAK,eAAe,IAC9CL,gBAAgB,CAACI,KAAK,CAACE,OAAO,CAACC,QAAQ,CAAC,kBAAkB,CAAE;EAElE,CAAC;EAED,MAAMC,SAASA,CAAA;IACb,IAAI,IAAI,CAACL,sBAAsB,EAAE,EAAE;MACjCJ,eAAe,CAACU,KAAK,EAAE;MAEvB;IACF;IAEA,MAAMC,mBAAmB,GAAG,MAAMT,QAAQ,CAACS,mBAAmB,EAAE;IAChE,IAAIA,mBAAmB,EAAE;MACvBX,eAAe,CAACU,KAAK,EAAE;MAEvB;IACF;IAEA,IACET,gBAAgB,CAACI,KAAK,CAACC,IAAI,KAAK,aAAa,IAC7CL,gBAAgB,CAACI,KAAK,CAACC,IAAI,KAAK,uBAAuB,EACvD;MACAP,oBAAoB,CAACa,UAAU,EAAE;IACnC;IAEAZ,eAAe,CAACa,KAAK,EAAE;EACzB;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}