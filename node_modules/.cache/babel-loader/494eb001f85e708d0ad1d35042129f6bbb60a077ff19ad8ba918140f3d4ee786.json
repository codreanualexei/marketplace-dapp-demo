{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { AssetUtil, ConnectionController, CoreHelperUtil, EventsController, RouterController, ThemeController } from '@reown/appkit-controllers';\nimport { customElement } from '@reown/appkit-ui';\nimport '@reown/appkit-ui/wui-flex';\nimport '@reown/appkit-ui/wui-icon';\nimport '@reown/appkit-ui/wui-link';\nimport '@reown/appkit-ui/wui-qr-code';\nimport '@reown/appkit-ui/wui-shimmer';\nimport '@reown/appkit-ui/wui-text';\nimport '@reown/appkit-ui/wui-ux-by-reown';\nimport { W3mConnectingWidget } from '../../utils/w3m-connecting-widget/index.js';\nimport '../w3m-mobile-download-links/index.js';\nimport styles from './styles.js';\nlet W3mConnectingWcQrcode = class W3mConnectingWcQrcode extends W3mConnectingWidget {\n  constructor() {\n    super();\n    this.basic = false;\n    this.forceUpdate = () => {\n      this.requestUpdate();\n    };\n    window.addEventListener('resize', this.forceUpdate);\n  }\n  firstUpdated() {\n    if (!this.basic) {\n      EventsController.sendEvent({\n        type: 'track',\n        event: 'SELECT_WALLET',\n        properties: {\n          name: this.wallet?.name ?? 'WalletConnect',\n          platform: 'qrcode',\n          displayIndex: this.wallet?.display_index,\n          walletRank: this.wallet?.order,\n          view: RouterController.state.view\n        }\n      });\n    }\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.unsubscribe?.forEach(unsub => unsub());\n    window.removeEventListener('resize', this.forceUpdate);\n  }\n  render() {\n    this.onRenderProxy();\n    return html`\n      <wui-flex\n        flexDirection=\"column\"\n        alignItems=\"center\"\n        .padding=${['0', '5', '5', '5']}\n        gap=\"5\"\n      >\n        <wui-shimmer width=\"100%\"> ${this.qrCodeTemplate()} </wui-shimmer>\n        <wui-text variant=\"lg-medium\" color=\"primary\"> Scan this QR Code with your phone </wui-text>\n        ${this.copyTemplate()}\n      </wui-flex>\n      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>\n    `;\n  }\n  onRenderProxy() {\n    if (!this.ready && this.uri) {\n      this.timeout = setTimeout(() => {\n        this.ready = true;\n      }, 200);\n    }\n  }\n  qrCodeTemplate() {\n    if (!this.uri || !this.ready) {\n      return null;\n    }\n    const size = this.getBoundingClientRect().width - 40;\n    const alt = this.wallet ? this.wallet.name : undefined;\n    ConnectionController.setWcLinking(undefined);\n    ConnectionController.setRecentWallet(this.wallet);\n    let uriWithLink = this.uri;\n    if (this.wallet?.mobile_link) {\n      const {\n        redirect\n      } = CoreHelperUtil.formatNativeUrl(this.wallet?.mobile_link, this.uri, null);\n      uriWithLink = redirect;\n    }\n    return html` <wui-qr-code\n      size=${size}\n      theme=${ThemeController.state.themeMode}\n      uri=${uriWithLink}\n      imageSrc=${ifDefined(AssetUtil.getWalletImage(this.wallet))}\n      color=${ifDefined(ThemeController.state.themeVariables['--w3m-qr-color'])}\n      alt=${ifDefined(alt)}\n      data-testid=\"wui-qr-code\"\n    ></wui-qr-code>`;\n  }\n  copyTemplate() {\n    const inactive = !this.uri || !this.ready;\n    return html`<wui-button\n      .disabled=${inactive}\n      @click=${this.onCopyUri}\n      variant=\"neutral-secondary\"\n      size=\"sm\"\n      data-testid=\"copy-wc2-uri\"\n    >\n      Copy link\n      <wui-icon size=\"sm\" color=\"inherit\" name=\"copy\" slot=\"iconRight\"></wui-icon>\n    </wui-button>`;\n  }\n};\nW3mConnectingWcQrcode.styles = styles;\n__decorate([property({\n  type: Boolean\n})], W3mConnectingWcQrcode.prototype, \"basic\", void 0);\nW3mConnectingWcQrcode = __decorate([customElement('w3m-connecting-wc-qrcode')], W3mConnectingWcQrcode);\nexport { W3mConnectingWcQrcode };","map":{"version":3,"names":["html","property","ifDefined","AssetUtil","ConnectionController","CoreHelperUtil","EventsController","RouterController","ThemeController","customElement","W3mConnectingWidget","styles","W3mConnectingWcQrcode","constructor","basic","forceUpdate","requestUpdate","window","addEventListener","firstUpdated","sendEvent","type","event","properties","name","wallet","platform","displayIndex","display_index","walletRank","order","view","state","disconnectedCallback","unsubscribe","forEach","unsub","removeEventListener","render","onRenderProxy","qrCodeTemplate","copyTemplate","ready","uri","timeout","setTimeout","size","getBoundingClientRect","width","alt","undefined","setWcLinking","setRecentWallet","uriWithLink","mobile_link","redirect","formatNativeUrl","themeMode","getWalletImage","themeVariables","inactive","onCopyUri","__decorate","Boolean"],"sources":["../../../../../src/partials/w3m-connecting-wc-qrcode/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}