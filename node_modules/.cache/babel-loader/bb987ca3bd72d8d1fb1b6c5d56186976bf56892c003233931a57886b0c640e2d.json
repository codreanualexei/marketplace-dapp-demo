{"ast":null,"code":"import _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { proxy, snapshot } from 'valtio/vanilla';\nimport { subscribeKey as subKey } from 'valtio/vanilla/utils';\nimport { ConstantsUtil } from '../utils/ConstantsUtil.js';\nimport { CoreHelperUtil } from '../utils/CoreHelperUtil.js';\nimport { OptionsUtil } from '../utils/OptionsUtil.js';\n// -- State --------------------------------------------- //\nconst state = proxy({\n  features: ConstantsUtil.DEFAULT_FEATURES,\n  projectId: '',\n  sdkType: 'appkit',\n  sdkVersion: 'html-wagmi-undefined',\n  defaultAccountTypes: ConstantsUtil.DEFAULT_ACCOUNT_TYPES,\n  enableNetworkSwitch: true,\n  experimental_preferUniversalLinks: false,\n  remoteFeatures: {},\n  enableMobileFullScreen: false\n});\n// -- Controller ---------------------------------------- //\nexport const OptionsController = {\n  state,\n  subscribeKey(key, callback) {\n    return subKey(state, key, callback);\n  },\n  setOptions(options) {\n    Object.assign(state, options);\n  },\n  setRemoteFeatures(remoteFeatures) {\n    var _state$remoteFeatures, _state$features;\n    if (!remoteFeatures) {\n      return;\n    }\n    const newRemoteFeatures = _objectSpread(_objectSpread({}, state.remoteFeatures), remoteFeatures);\n    state.remoteFeatures = newRemoteFeatures;\n    if ((_state$remoteFeatures = state.remoteFeatures) !== null && _state$remoteFeatures !== void 0 && _state$remoteFeatures.socials) {\n      state.remoteFeatures.socials = OptionsUtil.filterSocialsByPlatform(state.remoteFeatures.socials);\n    }\n    if ((_state$features = state.features) !== null && _state$features !== void 0 && _state$features.pay) {\n      state.remoteFeatures.email = false;\n      state.remoteFeatures.socials = false;\n    }\n  },\n  setFeatures(features) {\n    var _state$features2;\n    if (!features) {\n      return;\n    }\n    if (!state.features) {\n      state.features = ConstantsUtil.DEFAULT_FEATURES;\n    }\n    const newFeatures = _objectSpread(_objectSpread({}, state.features), features);\n    state.features = newFeatures;\n    if ((_state$features2 = state.features) !== null && _state$features2 !== void 0 && _state$features2.pay && state.remoteFeatures) {\n      state.remoteFeatures.email = false;\n      state.remoteFeatures.socials = false;\n    }\n  },\n  setProjectId(projectId) {\n    state.projectId = projectId;\n  },\n  setCustomRpcUrls(customRpcUrls) {\n    state.customRpcUrls = customRpcUrls;\n  },\n  setAllWallets(allWallets) {\n    state.allWallets = allWallets;\n  },\n  setIncludeWalletIds(includeWalletIds) {\n    state.includeWalletIds = includeWalletIds;\n  },\n  setExcludeWalletIds(excludeWalletIds) {\n    state.excludeWalletIds = excludeWalletIds;\n  },\n  setFeaturedWalletIds(featuredWalletIds) {\n    state.featuredWalletIds = featuredWalletIds;\n  },\n  setTokens(tokens) {\n    state.tokens = tokens;\n  },\n  setTermsConditionsUrl(termsConditionsUrl) {\n    state.termsConditionsUrl = termsConditionsUrl;\n  },\n  setPrivacyPolicyUrl(privacyPolicyUrl) {\n    state.privacyPolicyUrl = privacyPolicyUrl;\n  },\n  setCustomWallets(customWallets) {\n    state.customWallets = customWallets;\n  },\n  setIsSiweEnabled(isSiweEnabled) {\n    state.isSiweEnabled = isSiweEnabled;\n  },\n  setIsUniversalProvider(isUniversalProvider) {\n    state.isUniversalProvider = isUniversalProvider;\n  },\n  setSdkVersion(sdkVersion) {\n    state.sdkVersion = sdkVersion;\n  },\n  setMetadata(metadata) {\n    state.metadata = metadata;\n  },\n  setDisableAppend(disableAppend) {\n    state.disableAppend = disableAppend;\n  },\n  setEIP6963Enabled(enableEIP6963) {\n    state.enableEIP6963 = enableEIP6963;\n  },\n  setDebug(debug) {\n    state.debug = debug;\n  },\n  setEnableWalletGuide(enableWalletGuide) {\n    state.enableWalletGuide = enableWalletGuide;\n  },\n  setEnableAuthLogger(enableAuthLogger) {\n    state.enableAuthLogger = enableAuthLogger;\n  },\n  setEnableWallets(enableWallets) {\n    state.enableWallets = enableWallets;\n  },\n  setPreferUniversalLinks(preferUniversalLinks) {\n    state.experimental_preferUniversalLinks = preferUniversalLinks;\n  },\n  setSIWX(siwx) {\n    if (siwx) {\n      for (const [key, isVal] of Object.entries(ConstantsUtil.SIWX_DEFAULTS)) {\n        var _siwx$key;\n        /*\n         * Only writes when siwx[key] is null or undefined\n         * (use ||= if you only want to check “falsy”, not recommended here)\n         */\n        (_siwx$key = siwx[key]) !== null && _siwx$key !== void 0 ? _siwx$key : siwx[key] = isVal;\n      }\n    }\n    state.siwx = siwx;\n  },\n  setConnectMethodsOrder(connectMethodsOrder) {\n    state.features = _objectSpread(_objectSpread({}, state.features), {}, {\n      connectMethodsOrder\n    });\n  },\n  setWalletFeaturesOrder(walletFeaturesOrder) {\n    state.features = _objectSpread(_objectSpread({}, state.features), {}, {\n      walletFeaturesOrder\n    });\n  },\n  setSocialsOrder(socialsOrder) {\n    state.remoteFeatures = _objectSpread(_objectSpread({}, state.remoteFeatures), {}, {\n      socials: socialsOrder\n    });\n  },\n  setCollapseWallets(collapseWallets) {\n    state.features = _objectSpread(_objectSpread({}, state.features), {}, {\n      collapseWallets\n    });\n  },\n  setEnableEmbedded(enableEmbedded) {\n    state.enableEmbedded = enableEmbedded;\n  },\n  setAllowUnsupportedChain(allowUnsupportedChain) {\n    state.allowUnsupportedChain = allowUnsupportedChain;\n  },\n  setManualWCControl(manualWCControl) {\n    state.manualWCControl = manualWCControl;\n  },\n  setEnableNetworkSwitch(enableNetworkSwitch) {\n    state.enableNetworkSwitch = enableNetworkSwitch;\n  },\n  setEnableMobileFullScreen(enableMobileFullScreen) {\n    state.enableMobileFullScreen = CoreHelperUtil.isMobile() && enableMobileFullScreen;\n  },\n  setEnableReconnect(enableReconnect) {\n    state.enableReconnect = enableReconnect;\n  },\n  setDefaultAccountTypes() {\n    let defaultAccountType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    Object.entries(defaultAccountType).forEach(_ref => {\n      let [namespace, accountType] = _ref;\n      if (accountType) {\n        // @ts-expect-error - Keys are validated by the param type\n        state.defaultAccountTypes[namespace] = accountType;\n      }\n    });\n  },\n  setUniversalProviderConfigOverride(universalProviderConfigOverride) {\n    state.universalProviderConfigOverride = universalProviderConfigOverride;\n  },\n  getUniversalProviderConfigOverride() {\n    return state.universalProviderConfigOverride;\n  },\n  getSnapshot() {\n    return snapshot(state);\n  }\n};","map":{"version":3,"names":["proxy","snapshot","subscribeKey","subKey","ConstantsUtil","CoreHelperUtil","OptionsUtil","state","features","DEFAULT_FEATURES","projectId","sdkType","sdkVersion","defaultAccountTypes","DEFAULT_ACCOUNT_TYPES","enableNetworkSwitch","experimental_preferUniversalLinks","remoteFeatures","enableMobileFullScreen","OptionsController","key","callback","setOptions","options","Object","assign","setRemoteFeatures","_state$remoteFeatures","_state$features","newRemoteFeatures","_objectSpread","socials","filterSocialsByPlatform","pay","email","setFeatures","_state$features2","newFeatures","setProjectId","setCustomRpcUrls","customRpcUrls","setAllWallets","allWallets","setIncludeWalletIds","includeWalletIds","setExcludeWalletIds","excludeWalletIds","setFeaturedWalletIds","featuredWalletIds","setTokens","tokens","setTermsConditionsUrl","termsConditionsUrl","setPrivacyPolicyUrl","privacyPolicyUrl","setCustomWallets","customWallets","setIsSiweEnabled","isSiweEnabled","setIsUniversalProvider","isUniversalProvider","setSdkVersion","setMetadata","metadata","setDisableAppend","disableAppend","setEIP6963Enabled","enableEIP6963","setDebug","debug","setEnableWalletGuide","enableWalletGuide","setEnableAuthLogger","enableAuthLogger","setEnableWallets","enableWallets","setPreferUniversalLinks","preferUniversalLinks","setSIWX","siwx","isVal","entries","SIWX_DEFAULTS","_siwx$key","setConnectMethodsOrder","connectMethodsOrder","setWalletFeaturesOrder","walletFeaturesOrder","setSocialsOrder","socialsOrder","setCollapseWallets","collapseWallets","setEnableEmbedded","enableEmbedded","setAllowUnsupportedChain","allowUnsupportedChain","setManualWCControl","manualWCControl","setEnableNetworkSwitch","setEnableMobileFullScreen","isMobile","setEnableReconnect","enableReconnect","setDefaultAccountTypes","defaultAccountType","arguments","length","undefined","forEach","_ref","namespace","accountType","setUniversalProviderConfigOverride","universalProviderConfigOverride","getUniversalProviderConfigOverride","getSnapshot"],"sources":["../../../../src/controllers/OptionsController.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}