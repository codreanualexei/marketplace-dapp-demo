{"ast":null,"code":"import { getVersion } from './internal/errors.js';\n/**\n * Base error class inherited by all errors thrown by ox.\n *\n * @example\n * ```ts\n * import { Errors } from 'ox'\n * throw new Errors.BaseError('An error occurred')\n * ```\n */\nexport class BaseError extends Error {\n  constructor(shortMessage) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const details = (_options$cause => {\n      if (options.cause instanceof BaseError) {\n        if (options.cause.details) return options.cause.details;\n        if (options.cause.shortMessage) return options.cause.shortMessage;\n      }\n      if (options.cause && 'details' in options.cause && typeof options.cause.details === 'string') return options.cause.details;\n      if ((_options$cause = options.cause) !== null && _options$cause !== void 0 && _options$cause.message) return options.cause.message;\n      return options.details;\n    })();\n    const docsPath = (() => {\n      if (options.cause instanceof BaseError) return options.cause.docsPath || options.docsPath;\n      return options.docsPath;\n    })();\n    const docsBaseUrl = 'https://oxlib.sh';\n    const docs = \"\".concat(docsBaseUrl).concat(docsPath !== null && docsPath !== void 0 ? docsPath : '');\n    const message = [shortMessage || 'An error occurred.', ...(options.metaMessages ? ['', ...options.metaMessages] : []), ...(details || docsPath ? ['', details ? \"Details: \".concat(details) : undefined, docsPath ? \"See: \".concat(docs) : undefined] : [])].filter(x => typeof x === 'string').join('\\n');\n    super(message, options.cause ? {\n      cause: options.cause\n    } : undefined);\n    Object.defineProperty(this, \"details\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"docs\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"docsPath\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"shortMessage\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"cause\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'BaseError'\n    });\n    Object.defineProperty(this, \"version\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: \"ox@\".concat(getVersion())\n    });\n    this.cause = options.cause;\n    this.details = details;\n    this.docs = docs;\n    this.docsPath = docsPath;\n    this.shortMessage = shortMessage;\n  }\n  walk(fn) {\n    return walk(this, fn);\n  }\n}\n/** @internal */\nfunction walk(err, fn) {\n  if (fn !== null && fn !== void 0 && fn(err)) return err;\n  if (err && typeof err === 'object' && 'cause' in err && err.cause) return walk(err.cause, fn);\n  return fn ? null : err;\n}","map":{"version":3,"names":["getVersion","BaseError","Error","constructor","shortMessage","options","arguments","length","undefined","details","_options$cause","cause","message","docsPath","docsBaseUrl","docs","concat","metaMessages","filter","x","join","Object","defineProperty","walk","fn","err"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/viem/node_modules/ox/core/Errors.ts"],"sourcesContent":["import { getVersion } from './internal/errors.js'\n\nexport type GlobalErrorType<name extends string = 'Error'> = Error & {\n  name: name\n}\n\n/**\n * Base error class inherited by all errors thrown by ox.\n *\n * @example\n * ```ts\n * import { Errors } from 'ox'\n * throw new Errors.BaseError('An error occurred')\n * ```\n */\nexport class BaseError<\n  cause extends Error | undefined = undefined,\n> extends Error {\n  details: string\n  docs?: string | undefined\n  docsPath?: string | undefined\n  shortMessage: string\n\n  override cause: cause\n  override name = 'BaseError'\n\n  version = `ox@${getVersion()}`\n\n  constructor(shortMessage: string, options: BaseError.Options<cause> = {}) {\n    const details = (() => {\n      if (options.cause instanceof BaseError) {\n        if (options.cause.details) return options.cause.details\n        if (options.cause.shortMessage) return options.cause.shortMessage\n      }\n      if (\n        options.cause &&\n        'details' in options.cause &&\n        typeof options.cause.details === 'string'\n      )\n        return options.cause.details\n      if (options.cause?.message) return options.cause.message\n      return options.details!\n    })()\n    const docsPath = (() => {\n      if (options.cause instanceof BaseError)\n        return options.cause.docsPath || options.docsPath\n      return options.docsPath\n    })()\n\n    const docsBaseUrl = 'https://oxlib.sh'\n    const docs = `${docsBaseUrl}${docsPath ?? ''}`\n\n    const message = [\n      shortMessage || 'An error occurred.',\n      ...(options.metaMessages ? ['', ...options.metaMessages] : []),\n      ...(details || docsPath\n        ? [\n            '',\n            details ? `Details: ${details}` : undefined,\n            docsPath ? `See: ${docs}` : undefined,\n          ]\n        : []),\n    ]\n      .filter((x) => typeof x === 'string')\n      .join('\\n')\n\n    super(message, options.cause ? { cause: options.cause } : undefined)\n\n    this.cause = options.cause as any\n    this.details = details\n    this.docs = docs\n    this.docsPath = docsPath\n    this.shortMessage = shortMessage\n  }\n\n  walk(): Error\n  walk(fn: (err: unknown) => boolean): Error | null\n  walk(fn?: any): any {\n    return walk(this, fn)\n  }\n}\n\nexport declare namespace BaseError {\n  type Options<cause extends Error | undefined = Error | undefined> = {\n    cause?: cause | undefined\n    details?: string | undefined\n    docsPath?: string | undefined\n    metaMessages?: (string | undefined)[] | undefined\n  }\n}\n\n/** @internal */\nfunction walk(\n  err: unknown,\n  fn?: ((err: unknown) => boolean) | undefined,\n): unknown {\n  if (fn?.(err)) return err\n  if (err && typeof err === 'object' && 'cause' in err && err.cause)\n    return walk(err.cause, fn)\n  return fn ? null : err\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}