{"ast":null,"code":"import _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { bytesToHex, numberToHex } from '../encoding/toHex.js';\nimport { defineFormatter } from './formatter.js';\nexport const rpcTransactionType = {\n  legacy: '0x0',\n  eip2930: '0x1',\n  eip1559: '0x2',\n  eip4844: '0x3',\n  eip7702: '0x4'\n};\nexport function formatTransactionRequest(request, _) {\n  const rpcRequest = {};\n  if (typeof request.authorizationList !== 'undefined') rpcRequest.authorizationList = formatAuthorizationList(request.authorizationList);\n  if (typeof request.accessList !== 'undefined') rpcRequest.accessList = request.accessList;\n  if (typeof request.blobVersionedHashes !== 'undefined') rpcRequest.blobVersionedHashes = request.blobVersionedHashes;\n  if (typeof request.blobs !== 'undefined') {\n    if (typeof request.blobs[0] !== 'string') rpcRequest.blobs = request.blobs.map(x => bytesToHex(x));else rpcRequest.blobs = request.blobs;\n  }\n  if (typeof request.data !== 'undefined') rpcRequest.data = request.data;\n  if (typeof request.from !== 'undefined') rpcRequest.from = request.from;\n  if (typeof request.gas !== 'undefined') rpcRequest.gas = numberToHex(request.gas);\n  if (typeof request.gasPrice !== 'undefined') rpcRequest.gasPrice = numberToHex(request.gasPrice);\n  if (typeof request.maxFeePerBlobGas !== 'undefined') rpcRequest.maxFeePerBlobGas = numberToHex(request.maxFeePerBlobGas);\n  if (typeof request.maxFeePerGas !== 'undefined') rpcRequest.maxFeePerGas = numberToHex(request.maxFeePerGas);\n  if (typeof request.maxPriorityFeePerGas !== 'undefined') rpcRequest.maxPriorityFeePerGas = numberToHex(request.maxPriorityFeePerGas);\n  if (typeof request.nonce !== 'undefined') rpcRequest.nonce = numberToHex(request.nonce);\n  if (typeof request.to !== 'undefined') rpcRequest.to = request.to;\n  if (typeof request.type !== 'undefined') rpcRequest.type = rpcTransactionType[request.type];\n  if (typeof request.value !== 'undefined') rpcRequest.value = numberToHex(request.value);\n  return rpcRequest;\n}\nexport const defineTransactionRequest = /*#__PURE__*/defineFormatter('transactionRequest', formatTransactionRequest);\n//////////////////////////////////////////////////////////////////////////////\nfunction formatAuthorizationList(authorizationList) {\n  return authorizationList.map(authorization => _objectSpread(_objectSpread({\n    address: authorization.address,\n    r: authorization.r ? numberToHex(BigInt(authorization.r)) : authorization.r,\n    s: authorization.s ? numberToHex(BigInt(authorization.s)) : authorization.s,\n    chainId: numberToHex(authorization.chainId),\n    nonce: numberToHex(authorization.nonce)\n  }, typeof authorization.yParity !== 'undefined' ? {\n    yParity: numberToHex(authorization.yParity)\n  } : {}), typeof authorization.v !== 'undefined' && typeof authorization.yParity === 'undefined' ? {\n    v: numberToHex(authorization.v)\n  } : {}));\n}","map":{"version":3,"names":["bytesToHex","numberToHex","defineFormatter","rpcTransactionType","legacy","eip2930","eip1559","eip4844","eip7702","formatTransactionRequest","request","_","rpcRequest","authorizationList","formatAuthorizationList","accessList","blobVersionedHashes","blobs","map","x","data","from","gas","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value","defineTransactionRequest","authorization","_objectSpread","address","r","BigInt","s","chainId","yParity","v"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/viem/utils/formatters/transactionRequest.ts"],"sourcesContent":["import type { ErrorType } from '../../errors/utils.js'\nimport type { AuthorizationList } from '../../types/authorization.js'\nimport type {\n  Chain,\n  ExtractChainFormatterParameters,\n} from '../../types/chain.js'\nimport type { ByteArray } from '../../types/misc.js'\nimport type {\n  RpcAuthorizationList,\n  RpcTransactionRequest,\n} from '../../types/rpc.js'\nimport type { TransactionRequest } from '../../types/transaction.js'\nimport type { ExactPartial } from '../../types/utils.js'\nimport { bytesToHex, numberToHex } from '../encoding/toHex.js'\nimport { type DefineFormatterErrorType, defineFormatter } from './formatter.js'\n\nexport type FormattedTransactionRequest<\n  chain extends Chain | undefined = Chain | undefined,\n> = ExtractChainFormatterParameters<\n  chain,\n  'transactionRequest',\n  TransactionRequest\n>\n\nexport const rpcTransactionType = {\n  legacy: '0x0',\n  eip2930: '0x1',\n  eip1559: '0x2',\n  eip4844: '0x3',\n  eip7702: '0x4',\n} as const\n\nexport type FormatTransactionRequestErrorType = ErrorType\n\nexport function formatTransactionRequest(\n  request: ExactPartial<TransactionRequest>,\n  _?: string | undefined,\n) {\n  const rpcRequest = {} as RpcTransactionRequest\n\n  if (typeof request.authorizationList !== 'undefined')\n    rpcRequest.authorizationList = formatAuthorizationList(\n      request.authorizationList,\n    )\n  if (typeof request.accessList !== 'undefined')\n    rpcRequest.accessList = request.accessList\n  if (typeof request.blobVersionedHashes !== 'undefined')\n    rpcRequest.blobVersionedHashes = request.blobVersionedHashes\n  if (typeof request.blobs !== 'undefined') {\n    if (typeof request.blobs[0] !== 'string')\n      rpcRequest.blobs = (request.blobs as ByteArray[]).map((x) =>\n        bytesToHex(x),\n      )\n    else rpcRequest.blobs = request.blobs\n  }\n  if (typeof request.data !== 'undefined') rpcRequest.data = request.data\n  if (typeof request.from !== 'undefined') rpcRequest.from = request.from\n  if (typeof request.gas !== 'undefined')\n    rpcRequest.gas = numberToHex(request.gas)\n  if (typeof request.gasPrice !== 'undefined')\n    rpcRequest.gasPrice = numberToHex(request.gasPrice)\n  if (typeof request.maxFeePerBlobGas !== 'undefined')\n    rpcRequest.maxFeePerBlobGas = numberToHex(request.maxFeePerBlobGas)\n  if (typeof request.maxFeePerGas !== 'undefined')\n    rpcRequest.maxFeePerGas = numberToHex(request.maxFeePerGas)\n  if (typeof request.maxPriorityFeePerGas !== 'undefined')\n    rpcRequest.maxPriorityFeePerGas = numberToHex(request.maxPriorityFeePerGas)\n  if (typeof request.nonce !== 'undefined')\n    rpcRequest.nonce = numberToHex(request.nonce)\n  if (typeof request.to !== 'undefined') rpcRequest.to = request.to\n  if (typeof request.type !== 'undefined')\n    rpcRequest.type = rpcTransactionType[request.type]\n  if (typeof request.value !== 'undefined')\n    rpcRequest.value = numberToHex(request.value)\n\n  return rpcRequest\n}\n\nexport type DefineTransactionRequestErrorType =\n  | DefineFormatterErrorType\n  | ErrorType\n\nexport const defineTransactionRequest = /*#__PURE__*/ defineFormatter(\n  'transactionRequest',\n  formatTransactionRequest,\n)\n\n//////////////////////////////////////////////////////////////////////////////\n\nfunction formatAuthorizationList(\n  authorizationList: AuthorizationList<number, boolean>,\n): RpcAuthorizationList {\n  return authorizationList.map(\n    (authorization) =>\n      ({\n        address: authorization.address,\n        r: authorization.r\n          ? numberToHex(BigInt(authorization.r))\n          : authorization.r,\n        s: authorization.s\n          ? numberToHex(BigInt(authorization.s))\n          : authorization.s,\n        chainId: numberToHex(authorization.chainId),\n        nonce: numberToHex(authorization.nonce),\n        ...(typeof authorization.yParity !== 'undefined'\n          ? { yParity: numberToHex(authorization.yParity) }\n          : {}),\n        ...(typeof authorization.v !== 'undefined' &&\n        typeof authorization.yParity === 'undefined'\n          ? { v: numberToHex(authorization.v) }\n          : {}),\n      }) as any,\n  ) as RpcAuthorizationList\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}