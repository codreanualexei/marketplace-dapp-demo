{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GlobalErrorHandler = ({\n  children\n}) => {\n  _s();\n  useEffect(() => {\n    // Override the global error handler for uncaught errors\n    const handleError = event => {\n      var _event$error;\n      const errorMessage = ((_event$error = event.error) === null || _event$error === void 0 ? void 0 : _event$error.message) || event.message || '';\n      if (errorMessage.includes('No matching key. session topic doesn\\'t exist') || errorMessage.includes('session topic doesn\\'t exist') || errorMessage.includes('isValidSessionTopic') || errorMessage.includes('isValidUpdate') || errorMessage.includes('onSessionUpdateRequest') || errorMessage.includes('onSessionEventRequest') || errorMessage.includes('isValidEmit')) {\n        console.log('GlobalErrorHandler: Suppressing WalletConnect session error:', errorMessage);\n        event.preventDefault();\n        event.stopPropagation();\n        return false;\n      }\n    };\n\n    // Override the global unhandled promise rejection handler\n    const handleUnhandledRejection = event => {\n      var _event$reason, _event$reason2;\n      const errorMessage = ((_event$reason = event.reason) === null || _event$reason === void 0 ? void 0 : _event$reason.message) || ((_event$reason2 = event.reason) === null || _event$reason2 === void 0 ? void 0 : _event$reason2.toString()) || '';\n      if (errorMessage.includes('No matching key. session topic doesn\\'t exist') || errorMessage.includes('session topic doesn\\'t exist') || errorMessage.includes('isValidSessionTopic') || errorMessage.includes('isValidUpdate') || errorMessage.includes('onSessionUpdateRequest') || errorMessage.includes('onSessionEventRequest') || errorMessage.includes('isValidEmit')) {\n        console.log('GlobalErrorHandler: Suppressing WalletConnect session promise rejection:', errorMessage);\n        event.preventDefault();\n        event.stopPropagation();\n        return false;\n      }\n    };\n\n    // Add event listeners\n    window.addEventListener('error', handleError, true);\n    window.addEventListener('unhandledrejection', handleUnhandledRejection, true);\n\n    // Cleanup function\n    return () => {\n      window.removeEventListener('error', handleError, true);\n      window.removeEventListener('unhandledrejection', handleUnhandledRejection, true);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n};\n_s(GlobalErrorHandler, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = GlobalErrorHandler;\nexport default GlobalErrorHandler;\nvar _c;\n$RefreshReg$(_c, \"GlobalErrorHandler\");","map":{"version":3,"names":["React","useEffect","Fragment","_Fragment","jsxDEV","_jsxDEV","GlobalErrorHandler","children","_s","handleError","event","_event$error","errorMessage","error","message","includes","console","log","preventDefault","stopPropagation","handleUnhandledRejection","_event$reason","_event$reason2","reason","toString","window","addEventListener","removeEventListener","_c","$RefreshReg$"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/src/Components/GlobalErrorHandler.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\n\ninterface GlobalErrorHandlerProps {\n  children: React.ReactNode;\n}\n\nconst GlobalErrorHandler: React.FC<GlobalErrorHandlerProps> = ({ children }) => {\n  useEffect(() => {\n    // Override the global error handler for uncaught errors\n    const handleError = (event: ErrorEvent) => {\n      const errorMessage = event.error?.message || event.message || '';\n      \n      if (errorMessage.includes('No matching key. session topic doesn\\'t exist') ||\n          errorMessage.includes('session topic doesn\\'t exist') ||\n          errorMessage.includes('isValidSessionTopic') ||\n          errorMessage.includes('isValidUpdate') ||\n          errorMessage.includes('onSessionUpdateRequest') ||\n          errorMessage.includes('onSessionEventRequest') ||\n          errorMessage.includes('isValidEmit')) {\n        console.log('GlobalErrorHandler: Suppressing WalletConnect session error:', errorMessage);\n        event.preventDefault();\n        event.stopPropagation();\n        return false;\n      }\n    };\n\n    // Override the global unhandled promise rejection handler\n    const handleUnhandledRejection = (event: PromiseRejectionEvent) => {\n      const errorMessage = event.reason?.message || event.reason?.toString() || '';\n      \n      if (errorMessage.includes('No matching key. session topic doesn\\'t exist') ||\n          errorMessage.includes('session topic doesn\\'t exist') ||\n          errorMessage.includes('isValidSessionTopic') ||\n          errorMessage.includes('isValidUpdate') ||\n          errorMessage.includes('onSessionUpdateRequest') ||\n          errorMessage.includes('onSessionEventRequest') ||\n          errorMessage.includes('isValidEmit')) {\n        console.log('GlobalErrorHandler: Suppressing WalletConnect session promise rejection:', errorMessage);\n        event.preventDefault();\n        event.stopPropagation();\n        return false;\n      }\n    };\n\n    // Add event listeners\n    window.addEventListener('error', handleError, true);\n    window.addEventListener('unhandledrejection', handleUnhandledRejection, true);\n\n    // Cleanup function\n    return () => {\n      window.removeEventListener('error', handleError, true);\n      window.removeEventListener('unhandledrejection', handleUnhandledRejection, true);\n    };\n  }, []);\n\n  return <>{children}</>;\n};\n\nexport default GlobalErrorHandler;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAAC,SAAAC,QAAA,IAAAC,SAAA,EAAAC,MAAA,IAAAC,OAAA;AAMzC,MAAMC,kBAAqD,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC9EP,SAAS,CAAC,MAAM;IACd;IACA,MAAMQ,WAAW,GAAIC,KAAiB,IAAK;MAAA,IAAAC,YAAA;MACzC,MAAMC,YAAY,GAAG,EAAAD,YAAA,GAAAD,KAAK,CAACG,KAAK,cAAAF,YAAA,uBAAXA,YAAA,CAAaG,OAAO,KAAIJ,KAAK,CAACI,OAAO,IAAI,EAAE;MAEhE,IAAIF,YAAY,CAACG,QAAQ,CAAC,+CAA+C,CAAC,IACtEH,YAAY,CAACG,QAAQ,CAAC,8BAA8B,CAAC,IACrDH,YAAY,CAACG,QAAQ,CAAC,qBAAqB,CAAC,IAC5CH,YAAY,CAACG,QAAQ,CAAC,eAAe,CAAC,IACtCH,YAAY,CAACG,QAAQ,CAAC,wBAAwB,CAAC,IAC/CH,YAAY,CAACG,QAAQ,CAAC,uBAAuB,CAAC,IAC9CH,YAAY,CAACG,QAAQ,CAAC,aAAa,CAAC,EAAE;QACxCC,OAAO,CAACC,GAAG,CAAC,8DAA8D,EAAEL,YAAY,CAAC;QACzFF,KAAK,CAACQ,cAAc,CAAC,CAAC;QACtBR,KAAK,CAACS,eAAe,CAAC,CAAC;QACvB,OAAO,KAAK;MACd;IACF,CAAC;;IAED;IACA,MAAMC,wBAAwB,GAAIV,KAA4B,IAAK;MAAA,IAAAW,aAAA,EAAAC,cAAA;MACjE,MAAMV,YAAY,GAAG,EAAAS,aAAA,GAAAX,KAAK,CAACa,MAAM,cAAAF,aAAA,uBAAZA,aAAA,CAAcP,OAAO,OAAAQ,cAAA,GAAIZ,KAAK,CAACa,MAAM,cAAAD,cAAA,uBAAZA,cAAA,CAAcE,QAAQ,CAAC,CAAC,KAAI,EAAE;MAE5E,IAAIZ,YAAY,CAACG,QAAQ,CAAC,+CAA+C,CAAC,IACtEH,YAAY,CAACG,QAAQ,CAAC,8BAA8B,CAAC,IACrDH,YAAY,CAACG,QAAQ,CAAC,qBAAqB,CAAC,IAC5CH,YAAY,CAACG,QAAQ,CAAC,eAAe,CAAC,IACtCH,YAAY,CAACG,QAAQ,CAAC,wBAAwB,CAAC,IAC/CH,YAAY,CAACG,QAAQ,CAAC,uBAAuB,CAAC,IAC9CH,YAAY,CAACG,QAAQ,CAAC,aAAa,CAAC,EAAE;QACxCC,OAAO,CAACC,GAAG,CAAC,0EAA0E,EAAEL,YAAY,CAAC;QACrGF,KAAK,CAACQ,cAAc,CAAC,CAAC;QACtBR,KAAK,CAACS,eAAe,CAAC,CAAC;QACvB,OAAO,KAAK;MACd;IACF,CAAC;;IAED;IACAM,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAEjB,WAAW,EAAE,IAAI,CAAC;IACnDgB,MAAM,CAACC,gBAAgB,CAAC,oBAAoB,EAAEN,wBAAwB,EAAE,IAAI,CAAC;;IAE7E;IACA,OAAO,MAAM;MACXK,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAElB,WAAW,EAAE,IAAI,CAAC;MACtDgB,MAAM,CAACE,mBAAmB,CAAC,oBAAoB,EAAEP,wBAAwB,EAAE,IAAI,CAAC;IAClF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOf,OAAA,CAAAF,SAAA;IAAAI,QAAA,EAAGA;EAAQ,gBAAG,CAAC;AACxB,CAAC;AAACC,EAAA,CAlDIF,kBAAqD;AAAAsB,EAAA,GAArDtB,kBAAqD;AAoD3D,eAAeA,kBAAkB;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}