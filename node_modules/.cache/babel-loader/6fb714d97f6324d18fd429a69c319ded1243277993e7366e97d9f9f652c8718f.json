{"ast":null,"code":"import _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { proxy, subscribe as sub } from 'valtio/vanilla';\nimport { subscribeKey as subKey } from 'valtio/vanilla/utils';\nimport { NumberUtil } from '@reown/appkit-common';\nimport { ConstantsUtil as CommonConstantsUtil } from '@reown/appkit-common';\nimport { W3mFrameRpcConstants } from '@reown/appkit-wallet/utils';\nimport { BalanceUtil } from '../utils/BalanceUtil.js';\nimport { getActiveNetworkTokenAddress, getPreferredAccountType } from '../utils/ChainControllerUtil.js';\nimport { ConstantsUtil } from '../utils/ConstantsUtil.js';\nimport { CoreHelperUtil } from '../utils/CoreHelperUtil.js';\nimport { SwapApiUtil } from '../utils/SwapApiUtil.js';\nimport { SwapCalculationUtil } from '../utils/SwapCalculationUtil.js';\nimport { withErrorBoundary } from '../utils/withErrorBoundary.js';\nimport { AlertController } from './AlertController.js';\nimport { BlockchainApiController } from './BlockchainApiController.js';\nimport { ChainController } from './ChainController.js';\nimport { ConnectionController } from './ConnectionController.js';\nimport { ConnectorController } from './ConnectorController.js';\nimport { EventsController } from './EventsController.js';\nimport { RouterController } from './RouterController.js';\nimport { SnackController } from './SnackController.js';\n// -- Constants ---------------------------------------- //\nexport const INITIAL_GAS_LIMIT = 150000;\nexport const TO_AMOUNT_DECIMALS = 6;\nclass TransactionError extends Error {\n  constructor(message, displayMessage) {\n    super(message);\n    this.name = 'TransactionError';\n    this.displayMessage = displayMessage;\n  }\n}\n// -- State --------------------------------------------- //\nconst initialState = {\n  // Loading states\n  initializing: false,\n  initialized: false,\n  loadingPrices: false,\n  loadingQuote: false,\n  loadingApprovalTransaction: false,\n  loadingBuildTransaction: false,\n  loadingTransaction: false,\n  // Control states\n  switchingTokens: false,\n  // Error states\n  fetchError: false,\n  // Approval & Swap transaction states\n  approvalTransaction: undefined,\n  swapTransaction: undefined,\n  transactionError: undefined,\n  // Input values\n  sourceToken: undefined,\n  sourceTokenAmount: '',\n  sourceTokenPriceInUSD: 0,\n  toToken: undefined,\n  toTokenAmount: '',\n  toTokenPriceInUSD: 0,\n  networkPrice: '0',\n  networkBalanceInUSD: '0',\n  networkTokenSymbol: '',\n  inputError: undefined,\n  // Request values\n  slippage: ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE,\n  // Tokens\n  tokens: undefined,\n  popularTokens: undefined,\n  suggestedTokens: undefined,\n  foundTokens: undefined,\n  myTokensWithBalance: undefined,\n  tokensPriceMap: {},\n  // Calculations\n  gasFee: '0',\n  gasPriceInUSD: 0,\n  priceImpact: undefined,\n  maxSlippage: undefined,\n  providerFee: undefined\n};\nconst state = proxy(_objectSpread({}, initialState));\n// -- Controller ---------------------------------------- //\nconst controller = {\n  state,\n  subscribe(callback) {\n    return sub(state, () => callback(state));\n  },\n  subscribeKey(key, callback) {\n    return subKey(state, key, callback);\n  },\n  getParams() {\n    var _ChainController$getA, _ChainController$getA2, _state$toToken, _state$toToken2, _state$sourceToken, _state$sourceToken2, _state$sourceToken3, _state$toToken3, _state$toToken4, _state$sourceToken4;\n    const namespace = ChainController.state.activeChain;\n    const caipAddress = (_ChainController$getA = (_ChainController$getA2 = ChainController.getAccountData(namespace)) === null || _ChainController$getA2 === void 0 ? void 0 : _ChainController$getA2.caipAddress) !== null && _ChainController$getA !== void 0 ? _ChainController$getA : ChainController.state.activeCaipAddress;\n    const address = CoreHelperUtil.getPlainAddress(caipAddress);\n    const networkAddress = getActiveNetworkTokenAddress();\n    const connectorId = ConnectorController.getConnectorId(ChainController.state.activeChain);\n    if (!address) {\n      throw new Error('No address found to swap the tokens from.');\n    }\n    const invalidToToken = !((_state$toToken = state.toToken) !== null && _state$toToken !== void 0 && _state$toToken.address) || !((_state$toToken2 = state.toToken) !== null && _state$toToken2 !== void 0 && _state$toToken2.decimals);\n    const invalidSourceToken = !((_state$sourceToken = state.sourceToken) !== null && _state$sourceToken !== void 0 && _state$sourceToken.address) || !((_state$sourceToken2 = state.sourceToken) !== null && _state$sourceToken2 !== void 0 && _state$sourceToken2.decimals) || !NumberUtil.bigNumber(state.sourceTokenAmount).gt(0);\n    const invalidSourceTokenAmount = !state.sourceTokenAmount;\n    return {\n      networkAddress,\n      fromAddress: address,\n      fromCaipAddress: caipAddress,\n      sourceTokenAddress: (_state$sourceToken3 = state.sourceToken) === null || _state$sourceToken3 === void 0 ? void 0 : _state$sourceToken3.address,\n      toTokenAddress: (_state$toToken3 = state.toToken) === null || _state$toToken3 === void 0 ? void 0 : _state$toToken3.address,\n      toTokenAmount: state.toTokenAmount,\n      toTokenDecimals: (_state$toToken4 = state.toToken) === null || _state$toToken4 === void 0 ? void 0 : _state$toToken4.decimals,\n      sourceTokenAmount: state.sourceTokenAmount,\n      sourceTokenDecimals: (_state$sourceToken4 = state.sourceToken) === null || _state$sourceToken4 === void 0 ? void 0 : _state$sourceToken4.decimals,\n      invalidToToken,\n      invalidSourceToken,\n      invalidSourceTokenAmount,\n      availableToSwap: caipAddress && !invalidToToken && !invalidSourceToken && !invalidSourceTokenAmount,\n      isAuthConnector: connectorId === CommonConstantsUtil.CONNECTOR_ID.AUTH\n    };\n  },\n  async setSourceToken(sourceToken) {\n    if (!sourceToken) {\n      state.sourceToken = sourceToken;\n      state.sourceTokenAmount = '';\n      state.sourceTokenPriceInUSD = 0;\n      return;\n    }\n    state.sourceToken = sourceToken;\n    await SwapController.setTokenPrice(sourceToken.address, 'sourceToken');\n  },\n  setSourceTokenAmount(amount) {\n    state.sourceTokenAmount = amount;\n  },\n  async setToToken(toToken) {\n    if (!toToken) {\n      state.toToken = toToken;\n      state.toTokenAmount = '';\n      state.toTokenPriceInUSD = 0;\n      return;\n    }\n    state.toToken = toToken;\n    await SwapController.setTokenPrice(toToken.address, 'toToken');\n  },\n  setToTokenAmount(amount) {\n    state.toTokenAmount = amount ? NumberUtil.toFixed(amount, TO_AMOUNT_DECIMALS) : '';\n  },\n  async setTokenPrice(address, target) {\n    let price = state.tokensPriceMap[address] || 0;\n    if (!price) {\n      state.loadingPrices = true;\n      price = await SwapController.getAddressPrice(address);\n    }\n    if (target === 'sourceToken') {\n      state.sourceTokenPriceInUSD = price;\n    } else if (target === 'toToken') {\n      state.toTokenPriceInUSD = price;\n    }\n    if (state.loadingPrices) {\n      state.loadingPrices = false;\n    }\n    if (SwapController.getParams().availableToSwap && !state.switchingTokens) {\n      SwapController.swapTokens();\n    }\n  },\n  async switchTokens() {\n    if (state.initializing || !state.initialized || state.switchingTokens) {\n      return;\n    }\n    state.switchingTokens = true;\n    try {\n      const newSourceToken = state.toToken ? _objectSpread({}, state.toToken) : undefined;\n      const newToToken = state.sourceToken ? _objectSpread({}, state.sourceToken) : undefined;\n      const newSourceTokenAmount = newSourceToken && state.toTokenAmount === '' ? '1' : state.toTokenAmount;\n      SwapController.setSourceTokenAmount(newSourceTokenAmount);\n      SwapController.setToTokenAmount('');\n      await SwapController.setSourceToken(newSourceToken);\n      await SwapController.setToToken(newToToken);\n      state.switchingTokens = false;\n      SwapController.swapTokens();\n    } catch (error) {\n      state.switchingTokens = false;\n      throw error;\n    }\n  },\n  resetState() {\n    state.myTokensWithBalance = initialState.myTokensWithBalance;\n    state.tokensPriceMap = initialState.tokensPriceMap;\n    state.initialized = initialState.initialized;\n    state.initializing = initialState.initializing;\n    state.switchingTokens = initialState.switchingTokens;\n    state.sourceToken = initialState.sourceToken;\n    state.sourceTokenAmount = initialState.sourceTokenAmount;\n    state.sourceTokenPriceInUSD = initialState.sourceTokenPriceInUSD;\n    state.toToken = initialState.toToken;\n    state.toTokenAmount = initialState.toTokenAmount;\n    state.toTokenPriceInUSD = initialState.toTokenPriceInUSD;\n    state.networkPrice = initialState.networkPrice;\n    state.networkTokenSymbol = initialState.networkTokenSymbol;\n    state.networkBalanceInUSD = initialState.networkBalanceInUSD;\n    state.inputError = initialState.inputError;\n  },\n  resetValues() {\n    var _state$tokens;\n    const {\n      networkAddress\n    } = SwapController.getParams();\n    const networkToken = (_state$tokens = state.tokens) === null || _state$tokens === void 0 ? void 0 : _state$tokens.find(token => token.address === networkAddress);\n    SwapController.setSourceToken(networkToken);\n    SwapController.setToToken(undefined);\n  },\n  getApprovalLoadingState() {\n    return state.loadingApprovalTransaction;\n  },\n  clearError() {\n    state.transactionError = undefined;\n  },\n  async initializeState() {\n    if (state.initializing) {\n      return;\n    }\n    state.initializing = true;\n    if (!state.initialized) {\n      try {\n        await SwapController.fetchTokens();\n        state.initialized = true;\n      } catch (error) {\n        state.initialized = false;\n        SnackController.showError('Failed to initialize swap');\n        RouterController.goBack();\n      }\n    }\n    state.initializing = false;\n  },\n  async fetchTokens() {\n    var _state$myTokensWithBa;\n    const {\n      networkAddress\n    } = SwapController.getParams();\n    await SwapController.getNetworkTokenPrice();\n    await SwapController.getMyTokensWithBalance();\n    const networkToken = (_state$myTokensWithBa = state.myTokensWithBalance) === null || _state$myTokensWithBa === void 0 ? void 0 : _state$myTokensWithBa.find(token => token.address === networkAddress);\n    if (networkToken) {\n      state.networkTokenSymbol = networkToken.symbol;\n      SwapController.setSourceToken(networkToken);\n      SwapController.setSourceTokenAmount('0');\n    }\n  },\n  async getTokenList() {\n    var _ChainController$stat;\n    const activeCaipNetworkId = (_ChainController$stat = ChainController.state.activeCaipNetwork) === null || _ChainController$stat === void 0 ? void 0 : _ChainController$stat.caipNetworkId;\n    if (state.caipNetworkId === activeCaipNetworkId && state.tokens) {\n      return;\n    }\n    try {\n      state.tokensLoading = true;\n      const tokens = await SwapApiUtil.getTokenList(activeCaipNetworkId);\n      state.tokens = tokens;\n      state.caipNetworkId = activeCaipNetworkId;\n      state.popularTokens = tokens.sort((aTokenInfo, bTokenInfo) => {\n        if (aTokenInfo.symbol < bTokenInfo.symbol) {\n          return -1;\n        }\n        if (aTokenInfo.symbol > bTokenInfo.symbol) {\n          return 1;\n        }\n        return 0;\n      });\n      state.suggestedTokens = tokens.filter(token => {\n        if (ConstantsUtil.SWAP_SUGGESTED_TOKENS.includes(token.symbol)) {\n          return true;\n        }\n        return false;\n      });\n    } catch (error) {\n      state.tokens = [];\n      state.popularTokens = [];\n      state.suggestedTokens = [];\n    } finally {\n      state.tokensLoading = false;\n    }\n  },\n  async getAddressPrice(address) {\n    var _allTokens$find, _fungibles$find;\n    const existPrice = state.tokensPriceMap[address];\n    if (existPrice) {\n      return existPrice;\n    }\n    const response = await BlockchainApiController.fetchTokenPrice({\n      addresses: [address]\n    });\n    const fungibles = (response === null || response === void 0 ? void 0 : response.fungibles) || [];\n    const allTokens = [...(state.tokens || []), ...(state.myTokensWithBalance || [])];\n    const symbol = allTokens === null || allTokens === void 0 || (_allTokens$find = allTokens.find(token => token.address === address)) === null || _allTokens$find === void 0 ? void 0 : _allTokens$find.symbol;\n    const price = ((_fungibles$find = fungibles.find(p => p.symbol.toLowerCase() === (symbol === null || symbol === void 0 ? void 0 : symbol.toLowerCase()))) === null || _fungibles$find === void 0 ? void 0 : _fungibles$find.price) || 0;\n    const priceAsFloat = parseFloat(price.toString());\n    state.tokensPriceMap[address] = priceAsFloat;\n    return priceAsFloat;\n  },\n  async getNetworkTokenPrice() {\n    var _response$fungibles;\n    const {\n      networkAddress\n    } = SwapController.getParams();\n    const response = await BlockchainApiController.fetchTokenPrice({\n      addresses: [networkAddress]\n    }).catch(() => {\n      SnackController.showError('Failed to fetch network token price');\n      return {\n        fungibles: []\n      };\n    });\n    const token = (_response$fungibles = response.fungibles) === null || _response$fungibles === void 0 ? void 0 : _response$fungibles[0];\n    const price = (token === null || token === void 0 ? void 0 : token.price.toString()) || '0';\n    state.tokensPriceMap[networkAddress] = parseFloat(price);\n    state.networkTokenSymbol = (token === null || token === void 0 ? void 0 : token.symbol) || '';\n    state.networkPrice = price;\n  },\n  async getMyTokensWithBalance(forceUpdate) {\n    const balances = await BalanceUtil.getMyTokensWithBalance(forceUpdate);\n    const swapBalances = SwapApiUtil.mapBalancesToSwapTokens(balances);\n    if (!swapBalances) {\n      return;\n    }\n    await SwapController.getInitialGasPrice();\n    SwapController.setBalances(swapBalances);\n  },\n  setBalances(balances) {\n    const {\n      networkAddress\n    } = SwapController.getParams();\n    const caipNetwork = ChainController.state.activeCaipNetwork;\n    if (!caipNetwork) {\n      return;\n    }\n    const networkToken = balances.find(token => token.address === networkAddress);\n    balances.forEach(token => {\n      state.tokensPriceMap[token.address] = token.price || 0;\n    });\n    state.myTokensWithBalance = balances.filter(token => token.address.startsWith(caipNetwork.caipNetworkId));\n    state.networkBalanceInUSD = networkToken ? NumberUtil.multiply(networkToken.quantity.numeric, networkToken.price).toString() : '0';\n  },\n  async getInitialGasPrice() {\n    var _ChainController$stat2, _res$standard, _res$standard2;\n    const res = await SwapApiUtil.fetchGasPrice();\n    if (!res) {\n      return {\n        gasPrice: null,\n        gasPriceInUSD: null\n      };\n    }\n    switch ((_ChainController$stat2 = ChainController.state) === null || _ChainController$stat2 === void 0 || (_ChainController$stat2 = _ChainController$stat2.activeCaipNetwork) === null || _ChainController$stat2 === void 0 ? void 0 : _ChainController$stat2.chainNamespace) {\n      case CommonConstantsUtil.CHAIN.SOLANA:\n        state.gasFee = (_res$standard = res.standard) !== null && _res$standard !== void 0 ? _res$standard : '0';\n        state.gasPriceInUSD = NumberUtil.multiply(res.standard, state.networkPrice).div(1e9).toNumber();\n        return {\n          gasPrice: BigInt(state.gasFee),\n          gasPriceInUSD: Number(state.gasPriceInUSD)\n        };\n      case CommonConstantsUtil.CHAIN.EVM:\n      default:\n        // eslint-disable-next-line no-case-declarations\n        const value = (_res$standard2 = res.standard) !== null && _res$standard2 !== void 0 ? _res$standard2 : '0';\n        // eslint-disable-next-line no-case-declarations\n        const gasFee = BigInt(value);\n        // eslint-disable-next-line no-case-declarations\n        const gasLimit = BigInt(INITIAL_GAS_LIMIT);\n        // eslint-disable-next-line no-case-declarations\n        const gasPrice = SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, gasLimit, gasFee);\n        state.gasFee = value;\n        state.gasPriceInUSD = gasPrice;\n        return {\n          gasPrice: gasFee,\n          gasPriceInUSD: gasPrice\n        };\n    }\n  },\n  // -- Swap -------------------------------------- //\n  async swapTokens() {\n    var _ChainController$getA3;\n    const address = (_ChainController$getA3 = ChainController.getAccountData()) === null || _ChainController$getA3 === void 0 ? void 0 : _ChainController$getA3.address;\n    const sourceToken = state.sourceToken;\n    const toToken = state.toToken;\n    const haveSourceTokenAmount = NumberUtil.bigNumber(state.sourceTokenAmount).gt(0);\n    if (!haveSourceTokenAmount) {\n      SwapController.setToTokenAmount('');\n    }\n    if (!toToken || !sourceToken || state.loadingPrices || !haveSourceTokenAmount || !address) {\n      return;\n    }\n    state.loadingQuote = true;\n    const amountDecimal = NumberUtil.bigNumber(state.sourceTokenAmount).times(10 ** sourceToken.decimals).round(0);\n    try {\n      var _quoteResponse$quotes;\n      const quoteResponse = await BlockchainApiController.fetchSwapQuote({\n        userAddress: address,\n        from: sourceToken.address,\n        to: toToken.address,\n        gasPrice: state.gasFee,\n        amount: amountDecimal.toString()\n      });\n      state.loadingQuote = false;\n      const quoteToAmount = quoteResponse === null || quoteResponse === void 0 || (_quoteResponse$quotes = quoteResponse.quotes) === null || _quoteResponse$quotes === void 0 || (_quoteResponse$quotes = _quoteResponse$quotes[0]) === null || _quoteResponse$quotes === void 0 ? void 0 : _quoteResponse$quotes.toAmount;\n      if (!quoteToAmount) {\n        AlertController.open({\n          displayMessage: 'Incorrect amount',\n          debugMessage: 'Please enter a valid amount'\n        }, 'error');\n        return;\n      }\n      const toTokenAmount = NumberUtil.bigNumber(quoteToAmount).div(10 ** toToken.decimals).toString();\n      SwapController.setToTokenAmount(toTokenAmount);\n      const isInsufficientToken = SwapController.hasInsufficientToken(state.sourceTokenAmount, sourceToken.address);\n      if (isInsufficientToken) {\n        state.inputError = 'Insufficient balance';\n      } else {\n        state.inputError = undefined;\n        SwapController.setTransactionDetails();\n      }\n    } catch (error) {\n      const response = await SwapApiUtil.handleSwapError(error);\n      state.loadingQuote = false;\n      state.inputError = response || 'Insufficient balance';\n    }\n  },\n  // -- Create Transactions -------------------------------------- //\n  async getTransaction() {\n    const {\n      fromCaipAddress,\n      availableToSwap\n    } = SwapController.getParams();\n    const sourceToken = state.sourceToken;\n    const toToken = state.toToken;\n    if (!fromCaipAddress || !availableToSwap || !sourceToken || !toToken || state.loadingQuote) {\n      return undefined;\n    }\n    try {\n      state.loadingBuildTransaction = true;\n      const hasAllowance = await SwapApiUtil.fetchSwapAllowance({\n        userAddress: fromCaipAddress,\n        tokenAddress: sourceToken.address,\n        sourceTokenAmount: state.sourceTokenAmount,\n        sourceTokenDecimals: sourceToken.decimals\n      });\n      let transaction = undefined;\n      if (hasAllowance) {\n        transaction = await SwapController.createSwapTransaction();\n      } else {\n        transaction = await SwapController.createAllowanceTransaction();\n      }\n      state.loadingBuildTransaction = false;\n      state.fetchError = false;\n      return transaction;\n    } catch (error) {\n      RouterController.goBack();\n      SnackController.showError('Failed to check allowance');\n      state.loadingBuildTransaction = false;\n      state.approvalTransaction = undefined;\n      state.swapTransaction = undefined;\n      state.fetchError = true;\n      return undefined;\n    }\n  },\n  async createAllowanceTransaction() {\n    const {\n      fromCaipAddress,\n      sourceTokenAddress,\n      toTokenAddress\n    } = SwapController.getParams();\n    if (!fromCaipAddress || !toTokenAddress) {\n      return undefined;\n    }\n    if (!sourceTokenAddress) {\n      throw new Error('createAllowanceTransaction - No source token address found.');\n    }\n    try {\n      const response = await BlockchainApiController.generateApproveCalldata({\n        from: sourceTokenAddress,\n        to: toTokenAddress,\n        userAddress: fromCaipAddress\n      });\n      const address = CoreHelperUtil.getPlainAddress(response.tx.from);\n      if (!address) {\n        throw new Error('SwapController:createAllowanceTransaction - address is required');\n      }\n      const transaction = {\n        data: response.tx.data,\n        to: address,\n        gasPrice: BigInt(response.tx.eip155.gasPrice),\n        value: BigInt(response.tx.value),\n        toAmount: state.toTokenAmount\n      };\n      state.swapTransaction = undefined;\n      state.approvalTransaction = {\n        data: transaction.data,\n        to: transaction.to,\n        gasPrice: transaction.gasPrice,\n        value: transaction.value,\n        toAmount: transaction.toAmount\n      };\n      return {\n        data: transaction.data,\n        to: transaction.to,\n        gasPrice: transaction.gasPrice,\n        value: transaction.value,\n        toAmount: transaction.toAmount\n      };\n    } catch (error) {\n      RouterController.goBack();\n      SnackController.showError('Failed to create approval transaction');\n      state.approvalTransaction = undefined;\n      state.swapTransaction = undefined;\n      state.fetchError = true;\n      return undefined;\n    }\n  },\n  async createSwapTransaction() {\n    var _ConnectionController;\n    const {\n      networkAddress,\n      fromCaipAddress,\n      sourceTokenAmount\n    } = SwapController.getParams();\n    const sourceToken = state.sourceToken;\n    const toToken = state.toToken;\n    if (!fromCaipAddress || !sourceTokenAmount || !sourceToken || !toToken) {\n      return undefined;\n    }\n    const amount = (_ConnectionController = ConnectionController.parseUnits(sourceTokenAmount, sourceToken.decimals)) === null || _ConnectionController === void 0 ? void 0 : _ConnectionController.toString();\n    try {\n      const response = await BlockchainApiController.generateSwapCalldata({\n        userAddress: fromCaipAddress,\n        from: sourceToken.address,\n        to: toToken.address,\n        amount: amount,\n        disableEstimate: true\n      });\n      const isSourceTokenIsNetworkToken = sourceToken.address === networkAddress;\n      const gas = BigInt(response.tx.eip155.gas);\n      const gasPrice = BigInt(response.tx.eip155.gasPrice);\n      const address = CoreHelperUtil.getPlainAddress(response.tx.to);\n      if (!address) {\n        throw new Error('SwapController:createSwapTransaction - address is required');\n      }\n      const transaction = {\n        data: response.tx.data,\n        to: address,\n        gas,\n        gasPrice,\n        value: isSourceTokenIsNetworkToken ? BigInt(amount !== null && amount !== void 0 ? amount : '0') : BigInt('0'),\n        toAmount: state.toTokenAmount\n      };\n      state.gasPriceInUSD = SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, gas, gasPrice);\n      state.approvalTransaction = undefined;\n      state.swapTransaction = transaction;\n      return transaction;\n    } catch (error) {\n      RouterController.goBack();\n      SnackController.showError('Failed to create transaction');\n      state.approvalTransaction = undefined;\n      state.swapTransaction = undefined;\n      state.fetchError = true;\n      return undefined;\n    }\n  },\n  onEmbeddedWalletApprovalSuccess() {\n    SnackController.showLoading('Approve limit increase in your wallet');\n    RouterController.replace('SwapPreview');\n  },\n  // -- Send Transactions --------------------------------- //\n  async sendTransactionForApproval(data) {\n    const {\n      fromAddress,\n      isAuthConnector\n    } = SwapController.getParams();\n    state.loadingApprovalTransaction = true;\n    const approveLimitMessage = \"Approve limit increase in your wallet\";\n    if (isAuthConnector) {\n      RouterController.pushTransactionStack({\n        onSuccess: SwapController.onEmbeddedWalletApprovalSuccess\n      });\n    } else {\n      SnackController.showLoading(approveLimitMessage);\n    }\n    try {\n      await ConnectionController.sendTransaction({\n        address: fromAddress,\n        to: data.to,\n        data: data.data,\n        value: data.value,\n        chainNamespace: CommonConstantsUtil.CHAIN.EVM\n      });\n      await SwapController.swapTokens();\n      await SwapController.getTransaction();\n      state.approvalTransaction = undefined;\n      state.loadingApprovalTransaction = false;\n    } catch (err) {\n      var _ChainController$stat3, _SwapController$state, _SwapController$state2;\n      const error = err;\n      state.transactionError = error === null || error === void 0 ? void 0 : error.displayMessage;\n      state.loadingApprovalTransaction = false;\n      SnackController.showError((error === null || error === void 0 ? void 0 : error.displayMessage) || 'Transaction error');\n      EventsController.sendEvent({\n        type: 'track',\n        event: 'SWAP_APPROVAL_ERROR',\n        properties: {\n          message: (error === null || error === void 0 ? void 0 : error.displayMessage) || (error === null || error === void 0 ? void 0 : error.message) || 'Unknown',\n          network: ((_ChainController$stat3 = ChainController.state.activeCaipNetwork) === null || _ChainController$stat3 === void 0 ? void 0 : _ChainController$stat3.caipNetworkId) || '',\n          swapFromToken: ((_SwapController$state = SwapController.state.sourceToken) === null || _SwapController$state === void 0 ? void 0 : _SwapController$state.symbol) || '',\n          swapToToken: ((_SwapController$state2 = SwapController.state.toToken) === null || _SwapController$state2 === void 0 ? void 0 : _SwapController$state2.symbol) || '',\n          swapFromAmount: SwapController.state.sourceTokenAmount || '',\n          swapToAmount: SwapController.state.toTokenAmount || '',\n          isSmartAccount: getPreferredAccountType(CommonConstantsUtil.CHAIN.EVM) === W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n        }\n      });\n    }\n  },\n  async sendTransactionForSwap(data) {\n    var _state$sourceToken5, _state$toToken5, _state$sourceToken6, _state$toToken6;\n    if (!data) {\n      return undefined;\n    }\n    const {\n      fromAddress,\n      toTokenAmount,\n      isAuthConnector\n    } = SwapController.getParams();\n    state.loadingTransaction = true;\n    const snackbarPendingMessage = \"Swapping \".concat((_state$sourceToken5 = state.sourceToken) === null || _state$sourceToken5 === void 0 ? void 0 : _state$sourceToken5.symbol, \" to \").concat(NumberUtil.formatNumberToLocalString(toTokenAmount, 3), \" \").concat((_state$toToken5 = state.toToken) === null || _state$toToken5 === void 0 ? void 0 : _state$toToken5.symbol);\n    const snackbarSuccessMessage = \"Swapped \".concat((_state$sourceToken6 = state.sourceToken) === null || _state$sourceToken6 === void 0 ? void 0 : _state$sourceToken6.symbol, \" to \").concat(NumberUtil.formatNumberToLocalString(toTokenAmount, 3), \" \").concat((_state$toToken6 = state.toToken) === null || _state$toToken6 === void 0 ? void 0 : _state$toToken6.symbol);\n    if (isAuthConnector) {\n      RouterController.pushTransactionStack({\n        onSuccess() {\n          RouterController.replace('Account');\n          SnackController.showLoading(snackbarPendingMessage);\n          controller.resetState();\n        }\n      });\n    } else {\n      SnackController.showLoading('Confirm transaction in your wallet');\n    }\n    try {\n      var _state$sourceToken7, _state$toToken7, _ChainController$stat4, _SwapController$state3, _SwapController$state4;\n      const forceUpdateAddresses = [(_state$sourceToken7 = state.sourceToken) === null || _state$sourceToken7 === void 0 ? void 0 : _state$sourceToken7.address, (_state$toToken7 = state.toToken) === null || _state$toToken7 === void 0 ? void 0 : _state$toToken7.address].join(',');\n      const transactionHash = await ConnectionController.sendTransaction({\n        address: fromAddress,\n        to: data.to,\n        data: data.data,\n        value: data.value,\n        chainNamespace: CommonConstantsUtil.CHAIN.EVM\n      });\n      state.loadingTransaction = false;\n      SnackController.showSuccess(snackbarSuccessMessage);\n      EventsController.sendEvent({\n        type: 'track',\n        event: 'SWAP_SUCCESS',\n        properties: {\n          network: ((_ChainController$stat4 = ChainController.state.activeCaipNetwork) === null || _ChainController$stat4 === void 0 ? void 0 : _ChainController$stat4.caipNetworkId) || '',\n          swapFromToken: ((_SwapController$state3 = SwapController.state.sourceToken) === null || _SwapController$state3 === void 0 ? void 0 : _SwapController$state3.symbol) || '',\n          swapToToken: ((_SwapController$state4 = SwapController.state.toToken) === null || _SwapController$state4 === void 0 ? void 0 : _SwapController$state4.symbol) || '',\n          swapFromAmount: SwapController.state.sourceTokenAmount || '',\n          swapToAmount: SwapController.state.toTokenAmount || '',\n          isSmartAccount: getPreferredAccountType(CommonConstantsUtil.CHAIN.EVM) === W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n        }\n      });\n      controller.resetState();\n      if (!isAuthConnector) {\n        RouterController.replace('Account');\n      }\n      controller.getMyTokensWithBalance(forceUpdateAddresses);\n      return transactionHash;\n    } catch (err) {\n      var _ChainController$stat5, _SwapController$state5, _SwapController$state6;\n      const error = err;\n      state.transactionError = error === null || error === void 0 ? void 0 : error.displayMessage;\n      state.loadingTransaction = false;\n      SnackController.showError((error === null || error === void 0 ? void 0 : error.displayMessage) || 'Transaction error');\n      EventsController.sendEvent({\n        type: 'track',\n        event: 'SWAP_ERROR',\n        properties: {\n          message: (error === null || error === void 0 ? void 0 : error.displayMessage) || (error === null || error === void 0 ? void 0 : error.message) || 'Unknown',\n          network: ((_ChainController$stat5 = ChainController.state.activeCaipNetwork) === null || _ChainController$stat5 === void 0 ? void 0 : _ChainController$stat5.caipNetworkId) || '',\n          swapFromToken: ((_SwapController$state5 = SwapController.state.sourceToken) === null || _SwapController$state5 === void 0 ? void 0 : _SwapController$state5.symbol) || '',\n          swapToToken: ((_SwapController$state6 = SwapController.state.toToken) === null || _SwapController$state6 === void 0 ? void 0 : _SwapController$state6.symbol) || '',\n          swapFromAmount: SwapController.state.sourceTokenAmount || '',\n          swapToAmount: SwapController.state.toTokenAmount || '',\n          isSmartAccount: getPreferredAccountType(CommonConstantsUtil.CHAIN.EVM) === W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n        }\n      });\n      return undefined;\n    }\n  },\n  // -- Checks -------------------------------------------- //\n  hasInsufficientToken(sourceTokenAmount, sourceTokenAddress) {\n    const isInsufficientSourceTokenForSwap = SwapCalculationUtil.isInsufficientSourceTokenForSwap(sourceTokenAmount, sourceTokenAddress, state.myTokensWithBalance);\n    return isInsufficientSourceTokenForSwap;\n  },\n  // -- Calculations -------------------------------------- //\n  setTransactionDetails() {\n    const {\n      toTokenAddress,\n      toTokenDecimals\n    } = SwapController.getParams();\n    if (!toTokenAddress || !toTokenDecimals) {\n      return;\n    }\n    state.gasPriceInUSD = SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, BigInt(state.gasFee), BigInt(INITIAL_GAS_LIMIT));\n    state.priceImpact = SwapCalculationUtil.getPriceImpact({\n      sourceTokenAmount: state.sourceTokenAmount,\n      sourceTokenPriceInUSD: state.sourceTokenPriceInUSD,\n      toTokenPriceInUSD: state.toTokenPriceInUSD,\n      toTokenAmount: state.toTokenAmount\n    });\n    state.maxSlippage = SwapCalculationUtil.getMaxSlippage(state.slippage, state.toTokenAmount);\n    state.providerFee = SwapCalculationUtil.getProviderFee(state.sourceTokenAmount);\n  }\n};\n// Export the controller wrapped with our error boundary\nexport const SwapController = withErrorBoundary(controller);","map":{"version":3,"names":["proxy","subscribe","sub","subscribeKey","subKey","NumberUtil","ConstantsUtil","CommonConstantsUtil","W3mFrameRpcConstants","BalanceUtil","getActiveNetworkTokenAddress","getPreferredAccountType","CoreHelperUtil","SwapApiUtil","SwapCalculationUtil","withErrorBoundary","AlertController","BlockchainApiController","ChainController","ConnectionController","ConnectorController","EventsController","RouterController","SnackController","INITIAL_GAS_LIMIT","TO_AMOUNT_DECIMALS","TransactionError","Error","constructor","message","displayMessage","name","initialState","initializing","initialized","loadingPrices","loadingQuote","loadingApprovalTransaction","loadingBuildTransaction","loadingTransaction","switchingTokens","fetchError","approvalTransaction","undefined","swapTransaction","transactionError","sourceToken","sourceTokenAmount","sourceTokenPriceInUSD","toToken","toTokenAmount","toTokenPriceInUSD","networkPrice","networkBalanceInUSD","networkTokenSymbol","inputError","slippage","CONVERT_SLIPPAGE_TOLERANCE","tokens","popularTokens","suggestedTokens","foundTokens","myTokensWithBalance","tokensPriceMap","gasFee","gasPriceInUSD","priceImpact","maxSlippage","providerFee","state","_objectSpread","controller","callback","key","getParams","_ChainController$getA","_ChainController$getA2","_state$toToken","_state$toToken2","_state$sourceToken","_state$sourceToken2","_state$sourceToken3","_state$toToken3","_state$toToken4","_state$sourceToken4","namespace","activeChain","caipAddress","getAccountData","activeCaipAddress","address","getPlainAddress","networkAddress","connectorId","getConnectorId","invalidToToken","decimals","invalidSourceToken","bigNumber","gt","invalidSourceTokenAmount","fromAddress","fromCaipAddress","sourceTokenAddress","toTokenAddress","toTokenDecimals","sourceTokenDecimals","availableToSwap","isAuthConnector","CONNECTOR_ID","AUTH","setSourceToken","SwapController","setTokenPrice","setSourceTokenAmount","amount","setToToken","setToTokenAmount","toFixed","target","price","getAddressPrice","swapTokens","switchTokens","newSourceToken","newToToken","newSourceTokenAmount","error","resetState","resetValues","_state$tokens","networkToken","find","token","getApprovalLoadingState","clearError","initializeState","fetchTokens","showError","goBack","_state$myTokensWithBa","getNetworkTokenPrice","getMyTokensWithBalance","symbol","getTokenList","_ChainController$stat","activeCaipNetworkId","activeCaipNetwork","caipNetworkId","tokensLoading","sort","aTokenInfo","bTokenInfo","filter","SWAP_SUGGESTED_TOKENS","includes","_allTokens$find","_fungibles$find","existPrice","response","fetchTokenPrice","addresses","fungibles","allTokens","p","toLowerCase","priceAsFloat","parseFloat","toString","_response$fungibles","catch","forceUpdate","balances","swapBalances","mapBalancesToSwapTokens","getInitialGasPrice","setBalances","caipNetwork","forEach","startsWith","multiply","quantity","numeric","_ChainController$stat2","_res$standard","_res$standard2","res","fetchGasPrice","gasPrice","chainNamespace","CHAIN","SOLANA","standard","div","toNumber","BigInt","Number","EVM","value","gasLimit","getGasPriceInUSD","_ChainController$getA3","haveSourceTokenAmount","amountDecimal","times","round","_quoteResponse$quotes","quoteResponse","fetchSwapQuote","userAddress","from","to","quoteToAmount","quotes","toAmount","open","debugMessage","isInsufficientToken","hasInsufficientToken","setTransactionDetails","handleSwapError","getTransaction","hasAllowance","fetchSwapAllowance","tokenAddress","transaction","createSwapTransaction","createAllowanceTransaction","generateApproveCalldata","tx","data","eip155","_ConnectionController","parseUnits","generateSwapCalldata","disableEstimate","isSourceTokenIsNetworkToken","gas","onEmbeddedWalletApprovalSuccess","showLoading","replace","sendTransactionForApproval","approveLimitMessage","pushTransactionStack","onSuccess","sendTransaction","err","_ChainController$stat3","_SwapController$state","_SwapController$state2","sendEvent","type","event","properties","network","swapFromToken","swapToToken","swapFromAmount","swapToAmount","isSmartAccount","ACCOUNT_TYPES","SMART_ACCOUNT","sendTransactionForSwap","_state$sourceToken5","_state$toToken5","_state$sourceToken6","_state$toToken6","snackbarPendingMessage","concat","formatNumberToLocalString","snackbarSuccessMessage","_state$sourceToken7","_state$toToken7","_ChainController$stat4","_SwapController$state3","_SwapController$state4","forceUpdateAddresses","join","transactionHash","showSuccess","_ChainController$stat5","_SwapController$state5","_SwapController$state6","isInsufficientSourceTokenForSwap","getPriceImpact","getMaxSlippage","getProviderFee"],"sources":["../../../../src/controllers/SwapController.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}