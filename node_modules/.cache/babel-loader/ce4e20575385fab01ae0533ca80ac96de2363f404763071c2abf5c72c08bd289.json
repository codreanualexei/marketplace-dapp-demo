{"ast":null,"code":"import { proxy } from 'valtio/vanilla';\nimport { subscribeKey as subKey } from 'valtio/vanilla/utils';\nimport { withErrorBoundary } from '../utils/withErrorBoundary.js';\nimport { OptionsController } from './OptionsController.js';\n// -- State --------------------------------------------- //\nconst state = proxy({\n  message: '',\n  variant: 'info',\n  open: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n  state,\n  subscribeKey(key, callback) {\n    return subKey(state, key, callback);\n  },\n  open(message, variant) {\n    const {\n      debug\n    } = OptionsController.state;\n    const {\n      code,\n      displayMessage,\n      debugMessage\n    } = message;\n    if (displayMessage && debug) {\n      state.message = displayMessage;\n      state.variant = variant;\n      state.open = true;\n    }\n    if (debugMessage) {\n      // eslint-disable-next-line no-console\n      console.error(typeof debugMessage === 'function' ? debugMessage() : debugMessage, code ? {\n        code\n      } : undefined);\n    }\n  },\n  warn(title, description, code) {\n    state.open = true;\n    state.message = title;\n    state.variant = 'warning';\n    if (description) {\n      console.warn(description, code);\n    }\n  },\n  close() {\n    state.open = false;\n    state.message = '';\n    state.variant = 'info';\n  }\n};\n// Export the controller wrapped with our error boundary\nexport const AlertController = withErrorBoundary(controller);","map":{"version":3,"names":["proxy","subscribeKey","subKey","withErrorBoundary","OptionsController","state","message","variant","open","controller","key","callback","debug","code","displayMessage","debugMessage","console","error","undefined","warn","title","description","close","AlertController"],"sources":["../../../../src/controllers/AlertController.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,KAAK,QAAQ,gBAAgB;AACtC,SAASC,YAAY,IAAIC,MAAM,QAAQ,sBAAsB;AAE7D,SAASC,iBAAiB,QAAQ,+BAA+B;AACjE,SAASC,iBAAiB,QAAQ,wBAAwB;AAiB1D;AACA,MAAMC,KAAK,GAAGL,KAAK,CAAuB;EACxCM,OAAO,EAAE,EAAE;EACXC,OAAO,EAAE,MAAM;EACfC,IAAI,EAAE;CACP,CAAC;AAEF;AACA,MAAMC,UAAU,GAAG;EACjBJ,KAAK;EAELJ,YAAYA,CAAqBS,GAAM,EAAEC,QAAkD;IACzF,OAAOT,MAAM,CAACG,KAAK,EAAEK,GAAG,EAAEC,QAAQ,CAAC;EACrC,CAAC;EAEDH,IAAIA,CAACF,OAA8B,EAAEC,OAAwC;IAC3E,MAAM;MAAEK;IAAK,CAAE,GAAGR,iBAAiB,CAACC,KAAK;IAEzC,MAAM;MAAEQ,IAAI;MAAEC,cAAc;MAAEC;IAAY,CAAE,GAAGT,OAAO;IAEtD,IAAIQ,cAAc,IAAIF,KAAK,EAAE;MAC3BP,KAAK,CAACC,OAAO,GAAGQ,cAAc;MAC9BT,KAAK,CAACE,OAAO,GAAGA,OAAO;MACvBF,KAAK,CAACG,IAAI,GAAG,IAAI;IACnB;IAEA,IAAIO,YAAY,EAAE;MAChB;MACAC,OAAO,CAACC,KAAK,CACX,OAAOF,YAAY,KAAK,UAAU,GAAGA,YAAY,EAAE,GAAGA,YAAY,EAClEF,IAAI,GAAG;QAAEA;MAAI,CAAE,GAAGK,SAAS,CAC5B;IACH;EACF,CAAC;EAEDC,IAAIA,CAACC,KAAa,EAAEC,WAAmB,EAAER,IAAY;IACnDR,KAAK,CAACG,IAAI,GAAG,IAAI;IACjBH,KAAK,CAACC,OAAO,GAAGc,KAAK;IACrBf,KAAK,CAACE,OAAO,GAAG,SAAS;IAEzB,IAAIc,WAAW,EAAE;MACfL,OAAO,CAACG,IAAI,CAACE,WAAW,EAAER,IAAI,CAAC;IACjC;EACF,CAAC;EAEDS,KAAKA,CAAA;IACHjB,KAAK,CAACG,IAAI,GAAG,KAAK;IAClBH,KAAK,CAACC,OAAO,GAAG,EAAE;IAClBD,KAAK,CAACE,OAAO,GAAG,MAAM;EACxB;CACD;AAED;AACA,OAAO,MAAMgB,eAAe,GAAGpB,iBAAiB,CAACM,UAAU,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}