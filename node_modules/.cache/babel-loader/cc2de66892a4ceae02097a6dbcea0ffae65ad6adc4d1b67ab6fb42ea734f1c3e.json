{"ast":null,"code":"import { PresetsUtil } from '../PresetsUtil.js';\nexport const EthersHelpersUtil = {\n  hexStringToNumber(value) {\n    const string = value.startsWith('0x') ? value.slice(2) : value;\n    const number = parseInt(string, 16);\n    return number;\n  },\n  numberToHexString(value) {\n    return \"0x\".concat(value.toString(16));\n  },\n  async getUserInfo(provider) {\n    const [addresses, chainId] = await Promise.all([EthersHelpersUtil.getAddresses(provider), EthersHelpersUtil.getChainId(provider)]);\n    return {\n      chainId,\n      addresses\n    };\n  },\n  async getChainId(provider) {\n    const chainId = await provider.request({\n      method: 'eth_chainId'\n    });\n    return Number(chainId);\n  },\n  async getAddress(provider) {\n    const [address] = await provider.request({\n      method: 'eth_accounts'\n    });\n    return address;\n  },\n  async getAddresses(provider) {\n    const addresses = await provider.request({\n      method: 'eth_accounts'\n    });\n    return addresses;\n  },\n  async addEthereumChain(provider, caipNetwork) {\n    var _caipNetwork$rpcUrls$, _caipNetwork$blockExp;\n    const rpcUrls = ((_caipNetwork$rpcUrls$ = caipNetwork.rpcUrls['chainDefault']) === null || _caipNetwork$rpcUrls$ === void 0 ? void 0 : _caipNetwork$rpcUrls$.http) || [];\n    await provider.request({\n      method: 'wallet_addEthereumChain',\n      params: [{\n        chainId: EthersHelpersUtil.numberToHexString(caipNetwork.id),\n        rpcUrls: [...rpcUrls],\n        chainName: caipNetwork.name,\n        nativeCurrency: {\n          name: caipNetwork.nativeCurrency.name,\n          decimals: caipNetwork.nativeCurrency.decimals,\n          symbol: caipNetwork.nativeCurrency.symbol\n        },\n        blockExplorerUrls: [(_caipNetwork$blockExp = caipNetwork.blockExplorers) === null || _caipNetwork$blockExp === void 0 ? void 0 : _caipNetwork$blockExp.default.url],\n        iconUrls: [PresetsUtil.NetworkImageIds[caipNetwork.id]]\n      }]\n    });\n  }\n};","map":{"version":3,"names":["PresetsUtil","EthersHelpersUtil","hexStringToNumber","value","string","startsWith","slice","number","parseInt","numberToHexString","concat","toString","getUserInfo","provider","addresses","chainId","Promise","all","getAddresses","getChainId","request","method","Number","getAddress","address","addEthereumChain","caipNetwork","_caipNetwork$rpcUrls$","_caipNetwork$blockExp","rpcUrls","http","params","id","chainName","name","nativeCurrency","decimals","symbol","blockExplorerUrls","blockExplorers","default","url","iconUrls","NetworkImageIds"],"sources":["../../../../src/ethers/EthersHelpersUtil.ts"],"sourcesContent":[null],"mappings":"AAEA,SAASA,WAAW,QAAQ,mBAAmB;AAG/C,OAAO,MAAMC,iBAAiB,GAAG;EAC/BC,iBAAiBA,CAACC,KAAa;IAC7B,MAAMC,MAAM,GAAGD,KAAK,CAACE,UAAU,CAAC,IAAI,CAAC,GAAGF,KAAK,CAACG,KAAK,CAAC,CAAC,CAAC,GAAGH,KAAK;IAC9D,MAAMI,MAAM,GAAGC,QAAQ,CAACJ,MAAM,EAAE,EAAE,CAAC;IAEnC,OAAOG,MAAM;EACf,CAAC;EACDE,iBAAiBA,CAACN,KAAsB;IACtC,YAAAO,MAAA,CAAYP,KAAK,CAACQ,QAAQ,CAAC,EAAE,CAAC;EAChC,CAAC;EACD,MAAMC,WAAWA,CAACC,QAAkB;IAClC,MAAM,CAACC,SAAS,EAAEC,OAAO,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC7ChB,iBAAiB,CAACiB,YAAY,CAACL,QAAQ,CAAC,EACxCZ,iBAAiB,CAACkB,UAAU,CAACN,QAAQ,CAAC,CACvC,CAAC;IAEF,OAAO;MAAEE,OAAO;MAAED;IAAS,CAAE;EAC/B,CAAC;EACD,MAAMK,UAAUA,CAACN,QAAkB;IACjC,MAAME,OAAO,GAAG,MAAMF,QAAQ,CAACO,OAAO,CAAkB;MAAEC,MAAM,EAAE;IAAa,CAAE,CAAC;IAElF,OAAOC,MAAM,CAACP,OAAO,CAAC;EACxB,CAAC;EACD,MAAMQ,UAAUA,CAACV,QAAkB;IACjC,MAAM,CAACW,OAAO,CAAC,GAAG,MAAMX,QAAQ,CAACO,OAAO,CAAW;MAAEC,MAAM,EAAE;IAAc,CAAE,CAAC;IAE9E,OAAOG,OAAO;EAChB,CAAC;EACD,MAAMN,YAAYA,CAACL,QAAkB;IACnC,MAAMC,SAAS,GAAG,MAAMD,QAAQ,CAACO,OAAO,CAAW;MAAEC,MAAM,EAAE;IAAc,CAAE,CAAC;IAE9E,OAAOP,SAAS;EAClB,CAAC;EACD,MAAMW,gBAAgBA,CAACZ,QAAkB,EAAEa,WAAwB;IAAA,IAAAC,qBAAA,EAAAC,qBAAA;IACjE,MAAMC,OAAO,GAAG,EAAAF,qBAAA,GAAAD,WAAW,CAACG,OAAO,CAAC,cAAc,CAAC,cAAAF,qBAAA,uBAAnCA,qBAAA,CAAqCG,IAAI,KAAI,EAAE;IAC/D,MAAMjB,QAAQ,CAACO,OAAO,CAAC;MACrBC,MAAM,EAAE,yBAAyB;MACjCU,MAAM,EAAE,CACN;QACEhB,OAAO,EAAEd,iBAAiB,CAACQ,iBAAiB,CAACiB,WAAW,CAACM,EAAE,CAAC;QAC5DH,OAAO,EAAE,CAAC,GAAGA,OAAO,CAAC;QACrBI,SAAS,EAAEP,WAAW,CAACQ,IAAI;QAC3BC,cAAc,EAAE;UACdD,IAAI,EAAER,WAAW,CAACS,cAAc,CAACD,IAAI;UACrCE,QAAQ,EAAEV,WAAW,CAACS,cAAc,CAACC,QAAQ;UAC7CC,MAAM,EAAEX,WAAW,CAACS,cAAc,CAACE;SACpC;QACDC,iBAAiB,EAAE,EAAAV,qBAAA,GAACF,WAAW,CAACa,cAAc,cAAAX,qBAAA,uBAA1BA,qBAAA,CAA4BY,OAAO,CAACC,GAAG,CAAC;QAC5DC,QAAQ,EAAE,CAAC1C,WAAW,CAAC2C,eAAe,CAACjB,WAAW,CAACM,EAAE,CAAC;OACvD;KAEJ,CAAC;EACJ;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}