{"ast":null,"code":"import { AlertController, ApiController, ConstantsUtil } from '@reown/appkit-controllers';\nimport { ErrorUtil } from '@reown/appkit-utils';\nconst FEATURE_KEYS = ['email', 'socials', 'swaps', 'onramp', 'activity', 'reownBranding', 'multiWallet', 'emailCapture', 'payWithExchange', 'payments', 'reownAuthentication'];\nconst featureConfig = {\n  email: {\n    apiFeatureName: 'social_login',\n    localFeatureName: 'email',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => {\n      if (!(apiConfig !== null && apiConfig !== void 0 && apiConfig.config)) {\n        return false;\n      }\n      const config = apiConfig.config;\n      return Boolean(apiConfig.isEnabled) && config.includes('email');\n    },\n    processFallback: localValue => {\n      if (localValue === undefined) {\n        return ConstantsUtil.DEFAULT_REMOTE_FEATURES.email;\n      }\n      return Boolean(localValue);\n    }\n  },\n  socials: {\n    apiFeatureName: 'social_login',\n    localFeatureName: 'socials',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => {\n      if (!(apiConfig !== null && apiConfig !== void 0 && apiConfig.config)) {\n        return false;\n      }\n      const config = apiConfig.config;\n      return Boolean(apiConfig.isEnabled) && config.length > 0 ? config.filter(s => s !== 'email') : false;\n    },\n    processFallback: localValue => {\n      if (localValue === undefined) {\n        return ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials;\n      }\n      if (typeof localValue === 'boolean') {\n        return localValue ? ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials : false;\n      }\n      return localValue;\n    }\n  },\n  swaps: {\n    apiFeatureName: 'swap',\n    localFeatureName: 'swaps',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => {\n      if (!(apiConfig !== null && apiConfig !== void 0 && apiConfig.config)) {\n        return false;\n      }\n      const config = apiConfig.config;\n      return Boolean(apiConfig.isEnabled) && config.length > 0 ? config : false;\n    },\n    processFallback: localValue => {\n      if (localValue === undefined) {\n        return ConstantsUtil.DEFAULT_REMOTE_FEATURES.swaps;\n      }\n      if (typeof localValue === 'boolean') {\n        return localValue ? ConstantsUtil.DEFAULT_REMOTE_FEATURES.swaps : false;\n      }\n      return localValue;\n    }\n  },\n  onramp: {\n    apiFeatureName: 'onramp',\n    localFeatureName: 'onramp',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => {\n      if (!(apiConfig !== null && apiConfig !== void 0 && apiConfig.config)) {\n        return false;\n      }\n      const config = apiConfig.config;\n      return Boolean(apiConfig.isEnabled) && config.length > 0 ? config : false;\n    },\n    processFallback: localValue => {\n      if (localValue === undefined) {\n        return ConstantsUtil.DEFAULT_REMOTE_FEATURES.onramp;\n      }\n      if (typeof localValue === 'boolean') {\n        return localValue ? ConstantsUtil.DEFAULT_REMOTE_FEATURES.onramp : false;\n      }\n      return localValue;\n    }\n  },\n  activity: {\n    apiFeatureName: 'activity',\n    localFeatureName: 'history',\n    returnType: false,\n    isLegacy: true,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => Boolean(apiConfig.isEnabled),\n    processFallback: localValue => {\n      if (localValue === undefined) {\n        return ConstantsUtil.DEFAULT_REMOTE_FEATURES.activity;\n      }\n      return Boolean(localValue);\n    }\n  },\n  reownBranding: {\n    apiFeatureName: 'reown_branding',\n    localFeatureName: 'reownBranding',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => Boolean(apiConfig.isEnabled),\n    processFallback: localValue => {\n      if (localValue === undefined) {\n        return ConstantsUtil.DEFAULT_REMOTE_FEATURES.reownBranding;\n      }\n      return Boolean(localValue);\n    }\n  },\n  emailCapture: {\n    apiFeatureName: 'email_capture',\n    localFeatureName: 'emailCapture',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => {\n      var _apiConfig$config;\n      return apiConfig.isEnabled && ((_apiConfig$config = apiConfig.config) !== null && _apiConfig$config !== void 0 ? _apiConfig$config : []);\n    },\n    processFallback: _localValue => false\n  },\n  multiWallet: {\n    apiFeatureName: 'multi_wallet',\n    localFeatureName: 'multiWallet',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => Boolean(apiConfig.isEnabled),\n    processFallback: () => ConstantsUtil.DEFAULT_REMOTE_FEATURES.multiWallet\n  },\n  payWithExchange: {\n    apiFeatureName: 'fund_from_exchange',\n    localFeatureName: 'payWithExchange',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => Boolean(apiConfig.isEnabled),\n    processFallback: () => ConstantsUtil.DEFAULT_REMOTE_FEATURES.payWithExchange\n  },\n  payments: {\n    apiFeatureName: 'payments',\n    localFeatureName: 'payments',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => Boolean(apiConfig.isEnabled),\n    processFallback: () => ConstantsUtil.DEFAULT_REMOTE_FEATURES.payments\n  },\n  reownAuthentication: {\n    apiFeatureName: 'reown_authentication',\n    localFeatureName: 'reownAuthentication',\n    returnType: false,\n    isLegacy: false,\n    isAvailableOnBasic: false,\n    processApi: apiConfig => Boolean(apiConfig.isEnabled),\n    processFallback: localValue => {\n      if (typeof localValue === 'undefined') {\n        return ConstantsUtil.DEFAULT_REMOTE_FEATURES.reownAuthentication;\n      }\n      return Boolean(localValue);\n    }\n  }\n};\nexport const ConfigUtil = {\n  localSettingsOverridden: new Set(),\n  getApiConfig(id, apiProjectConfig) {\n    return apiProjectConfig === null || apiProjectConfig === void 0 ? void 0 : apiProjectConfig.find(f => f.id === id);\n  },\n  addWarning(localFeatureValue, featureKey) {\n    if (localFeatureValue !== undefined) {\n      const config = featureConfig[featureKey];\n      const warningName = config.isLegacy ? \"\\\"features.\".concat(config.localFeatureName, \"\\\" (now \\\"\").concat(featureKey, \"\\\")\") : \"\\\"features.\".concat(featureKey, \"\\\"\");\n      this.localSettingsOverridden.add(warningName);\n    }\n  },\n  processFeature(featureKey, localFeatures, apiProjectConfig, useApi, isBasic) {\n    const config = featureConfig[featureKey];\n    const localValue = localFeatures[config.localFeatureName];\n    if (isBasic && !config.isAvailableOnBasic) {\n      return false;\n    }\n    if (useApi) {\n      const apiConfig = this.getApiConfig(config.apiFeatureName, apiProjectConfig);\n      if ((apiConfig === null || apiConfig === void 0 ? void 0 : apiConfig.config) === null) {\n        return this.processFallbackFeature(featureKey, localValue);\n      }\n      if (!(apiConfig !== null && apiConfig !== void 0 && apiConfig.config)) {\n        return false;\n      }\n      if (localValue !== undefined) {\n        this.addWarning(localValue, featureKey);\n      }\n      return this.processApiFeature(featureKey, apiConfig);\n    }\n    return this.processFallbackFeature(featureKey, localValue);\n  },\n  processApiFeature(featureKey, apiConfig) {\n    return featureConfig[featureKey].processApi(apiConfig);\n  },\n  processFallbackFeature(featureKey, localValue) {\n    return featureConfig[featureKey].processFallback(localValue);\n  },\n  async fetchRemoteFeatures(config) {\n    var _config$basic;\n    const isBasic = (_config$basic = config.basic) !== null && _config$basic !== void 0 ? _config$basic : false;\n    const localFeatures = config.features || {};\n    this.localSettingsOverridden.clear();\n    let apiProjectConfig = null;\n    let shouldUseApiConfig = false;\n    try {\n      apiProjectConfig = await ApiController.fetchProjectConfig();\n      shouldUseApiConfig = apiProjectConfig !== null && apiProjectConfig !== undefined;\n    } catch (e) {\n      console.warn('[Reown Config] Failed to fetch remote project configuration. Using local/default values.', e);\n    }\n    const remoteFeaturesConfig = shouldUseApiConfig && !isBasic ? ConstantsUtil.DEFAULT_REMOTE_FEATURES : ConstantsUtil.DEFAULT_REMOTE_FEATURES_DISABLED;\n    try {\n      for (const featureKey of FEATURE_KEYS) {\n        const result = this.processFeature(featureKey, localFeatures, apiProjectConfig, shouldUseApiConfig, isBasic);\n        Object.assign(remoteFeaturesConfig, {\n          [featureKey]: result\n        });\n      }\n    } catch (e) {\n      console.warn('[Reown Config] Failed to process the configuration from Cloud. Using default values.', e);\n      return ConstantsUtil.DEFAULT_REMOTE_FEATURES;\n    }\n    if (shouldUseApiConfig && this.localSettingsOverridden.size > 0) {\n      const warningMessage = \"Your local configuration for \".concat(Array.from(this.localSettingsOverridden).join(', '), \" was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.\");\n      AlertController.open({\n        debugMessage: ErrorUtil.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(warningMessage)\n      }, 'warning');\n    }\n    return remoteFeaturesConfig;\n  }\n};","map":{"version":3,"names":["AlertController","ApiController","ConstantsUtil","ErrorUtil","FEATURE_KEYS","featureConfig","email","apiFeatureName","localFeatureName","returnType","isLegacy","isAvailableOnBasic","processApi","apiConfig","config","Boolean","isEnabled","includes","processFallback","localValue","undefined","DEFAULT_REMOTE_FEATURES","socials","length","filter","s","swaps","onramp","activity","reownBranding","emailCapture","_apiConfig$config","_localValue","multiWallet","payWithExchange","payments","reownAuthentication","ConfigUtil","localSettingsOverridden","Set","getApiConfig","id","apiProjectConfig","find","f","addWarning","localFeatureValue","featureKey","warningName","concat","add","processFeature","localFeatures","useApi","isBasic","processFallbackFeature","processApiFeature","fetchRemoteFeatures","_config$basic","basic","features","clear","shouldUseApiConfig","fetchProjectConfig","e","console","warn","remoteFeaturesConfig","DEFAULT_REMOTE_FEATURES_DISABLED","result","Object","assign","size","warningMessage","Array","from","join","open","debugMessage","ALERT_WARNINGS","LOCAL_CONFIGURATION_IGNORED"],"sources":["../../../../src/utils/ConfigUtil.ts"],"sourcesContent":[null],"mappings":"AAEA,SAASA,eAAe,EAAEC,aAAa,EAAEC,aAAa,QAAQ,2BAA2B;AASzF,SAASC,SAAS,QAAQ,qBAAqB;AAM/C,MAAMC,YAAY,GAAiB,CACjC,OAAO,EACP,SAAS,EACT,OAAO,EACP,QAAQ,EACR,UAAU,EACV,eAAe,EACf,aAAa,EACb,cAAc,EACd,iBAAiB,EACjB,UAAU,EACV,qBAAqB,CACtB;AAED,MAAMC,aAAa,GAAG;EACpBC,KAAK,EAAE;IACLC,cAAc,EAAE,cAAuB;IACvCC,gBAAgB,EAAE,OAAO;IACzBC,UAAU,EAAE,KAAgB;IAC5BC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAAa;MACrD,IAAI,EAACA,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEC,MAAM,GAAE;QACtB,OAAO,KAAK;MACd;MACA,MAAMA,MAAM,GAAGD,SAAS,CAACC,MAAsC;MAE/D,OAAOC,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC,IAAIF,MAAM,CAACG,QAAQ,CAAC,OAAO,CAAC;IACjE,CAAC;IACDC,eAAe,EAAGC,UAAmB,IAAa;MAChD,IAAIA,UAAU,KAAKC,SAAS,EAAE;QAC5B,OAAOlB,aAAa,CAACmB,uBAAuB,CAACf,KAAK;MACpD;MAEA,OAAOS,OAAO,CAACI,UAAU,CAAC;IAC5B;GACD;EACDG,OAAO,EAAE;IACPf,cAAc,EAAE,cAAuB;IACvCC,gBAAgB,EAAE,SAAS;IAC3BC,UAAU,EAAE,KAAiC;IAC7CC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAA8B;MACtE,IAAI,EAACA,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEC,MAAM,GAAE;QACtB,OAAO,KAAK;MACd;MACA,MAAMA,MAAM,GAAGD,SAAS,CAACC,MAAsC;MAE/D,OAAOC,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC,IAAIF,MAAM,CAACS,MAAM,GAAG,CAAC,GACpDT,MAAM,CAACU,MAAM,CAAEC,CAAC,IAA0BA,CAAC,KAAK,OAAO,CAAC,GACxD,KAAK;IACX,CAAC;IACDP,eAAe,EAAGC,UAAmB,IAA8B;MACjE,IAAIA,UAAU,KAAKC,SAAS,EAAE;QAC5B,OAAOlB,aAAa,CAACmB,uBAAuB,CAACC,OAAO;MACtD;MACA,IAAI,OAAOH,UAAU,KAAK,SAAS,EAAE;QACnC,OAAOA,UAAU,GAAGjB,aAAa,CAACmB,uBAAuB,CAACC,OAAO,GAAG,KAAK;MAC3E;MAEA,OAAOH,UAAsC;IAC/C;GACD;EACDO,KAAK,EAAE;IACLnB,cAAc,EAAE,MAAe;IAC/BC,gBAAgB,EAAE,OAAO;IACzBC,UAAU,EAAE,KAA+B;IAC3CC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAA4B;MACpE,IAAI,EAACA,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEC,MAAM,GAAE;QACtB,OAAO,KAAK;MACd;MACA,MAAMA,MAAM,GAAGD,SAAS,CAACC,MAAwB;MAEjD,OAAOC,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC,IAAIF,MAAM,CAACS,MAAM,GAAG,CAAC,GAAGT,MAAM,GAAG,KAAK;IAC3E,CAAC;IACDI,eAAe,EAAGC,UAAmB,IAA4B;MAC/D,IAAIA,UAAU,KAAKC,SAAS,EAAE;QAC5B,OAAOlB,aAAa,CAACmB,uBAAuB,CAACK,KAAK;MACpD;MACA,IAAI,OAAOP,UAAU,KAAK,SAAS,EAAE;QACnC,OAAOA,UAAU,GAAGjB,aAAa,CAACmB,uBAAuB,CAACK,KAAK,GAAG,KAAK;MACzE;MAEA,OAAOP,UAAoC;IAC7C;GACD;EACDQ,MAAM,EAAE;IACNpB,cAAc,EAAE,QAAiB;IACjCC,gBAAgB,EAAE,QAAQ;IAC1BC,UAAU,EAAE,KAAiC;IAC7CC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAA8B;MACtE,IAAI,EAACA,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEC,MAAM,GAAE;QACtB,OAAO,KAAK;MACd;MACA,MAAMA,MAAM,GAAGD,SAAS,CAACC,MAA0B;MAEnD,OAAOC,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC,IAAIF,MAAM,CAACS,MAAM,GAAG,CAAC,GAAGT,MAAM,GAAG,KAAK;IAC3E,CAAC;IACDI,eAAe,EAAGC,UAAmB,IAA8B;MACjE,IAAIA,UAAU,KAAKC,SAAS,EAAE;QAC5B,OAAOlB,aAAa,CAACmB,uBAAuB,CAACM,MAAM;MACrD;MACA,IAAI,OAAOR,UAAU,KAAK,SAAS,EAAE;QACnC,OAAOA,UAAU,GAAGjB,aAAa,CAACmB,uBAAuB,CAACM,MAAM,GAAG,KAAK;MAC1E;MAEA,OAAOR,UAAsC;IAC/C;GACD;EACDS,QAAQ,EAAE;IACRrB,cAAc,EAAE,UAAmB;IACnCC,gBAAgB,EAAE,SAAS;IAC3BC,UAAU,EAAE,KAAgB;IAC5BC,QAAQ,EAAE,IAAI;IACdC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAAcE,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC;IACpFE,eAAe,EAAGC,UAAmB,IAAa;MAChD,IAAIA,UAAU,KAAKC,SAAS,EAAE;QAC5B,OAAOlB,aAAa,CAACmB,uBAAuB,CAACO,QAAQ;MACvD;MAEA,OAAOb,OAAO,CAACI,UAAU,CAAC;IAC5B;GACD;EACDU,aAAa,EAAE;IACbtB,cAAc,EAAE,gBAAyB;IACzCC,gBAAgB,EAAE,eAAe;IACjCC,UAAU,EAAE,KAAgB;IAC5BC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAAcE,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC;IACpFE,eAAe,EAAGC,UAAmB,IAAa;MAChD,IAAIA,UAAU,KAAKC,SAAS,EAAE;QAC5B,OAAOlB,aAAa,CAACmB,uBAAuB,CAACQ,aAAa;MAC5D;MAEA,OAAOd,OAAO,CAACI,UAAU,CAAC;IAC5B;GACD;EACDW,YAAY,EAAE;IACZvB,cAAc,EAAE,eAAwB;IACxCC,gBAAgB,EAAE,cAAc;IAChCC,UAAU,EAAE,KAAwC;IACpDC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B;MAAA,IAAAkB,iBAAA;MAAA,OACxClB,SAAS,CAACG,SAAS,MAAAe,iBAAA,GAAMlB,SAAS,CAACC,MAAM,cAAAiB,iBAAA,cAAAA,iBAAA,GAAI,EAAE,CAA2B;IAAA;IAC5Eb,eAAe,EAAGc,WAAoB,IAAsC;GAC7E;EACDC,WAAW,EAAE;IACX1B,cAAc,EAAE,cAAuB;IACvCC,gBAAgB,EAAE,aAAa;IAC/BC,UAAU,EAAE,KAAgB;IAC5BC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAAKE,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC;IAC3EE,eAAe,EAAEA,CAAA,KAAMhB,aAAa,CAACmB,uBAAuB,CAACY;GAC9D;EACDC,eAAe,EAAE;IACf3B,cAAc,EAAE,oBAA6B;IAC7CC,gBAAgB,EAAE,iBAAiB;IACnCC,UAAU,EAAE,KAAgB;IAC5BC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAAKE,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC;IAC3EE,eAAe,EAAEA,CAAA,KAAMhB,aAAa,CAACmB,uBAAuB,CAACa;GAC9D;EACDC,QAAQ,EAAE;IACR5B,cAAc,EAAE,UAAmB;IACnCC,gBAAgB,EAAE,UAAU;IAC5BC,UAAU,EAAE,KAAgB;IAC5BC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAAKE,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC;IAC3EE,eAAe,EAAEA,CAAA,KAAMhB,aAAa,CAACmB,uBAAuB,CAACc;GAC9D;EACDC,mBAAmB,EAAE;IACnB7B,cAAc,EAAE,sBAA+B;IAC/CC,gBAAgB,EAAE,qBAAqB;IACvCC,UAAU,EAAE,KAAgB;IAC5BC,QAAQ,EAAE,KAAK;IACfC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAGC,SAA6B,IAAKE,OAAO,CAACF,SAAS,CAACG,SAAS,CAAC;IAC3EE,eAAe,EAAGC,UAAmB,IAAa;MAChD,IAAI,OAAOA,UAAU,KAAK,WAAW,EAAE;QACrC,OAAOjB,aAAa,CAACmB,uBAAuB,CAACe,mBAAmB;MAClE;MAEA,OAAOrB,OAAO,CAACI,UAAU,CAAC;IAC5B;;CAEH;AAED,OAAO,MAAMkB,UAAU,GAAG;EACxBC,uBAAuB,EAAE,IAAIC,GAAG,EAAU;EAE1CC,YAAYA,CAAsBC,EAAK,EAAEC,gBAA6C;IACpF,OAAOA,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEC,IAAI,CAAEC,CAAC,IAAkDA,CAAC,CAACH,EAAE,KAAKA,EAAE,CAAC;EAChG,CAAC;EAEDI,UAAUA,CAACC,iBAA0B,EAAEC,UAAsB;IAC3D,IAAID,iBAAiB,KAAK1B,SAAS,EAAE;MACnC,MAAMN,MAAM,GAAGT,aAAa,CAAC0C,UAAU,CAAC;MACxC,MAAMC,WAAW,GAAGlC,MAAM,CAACJ,QAAQ,iBAAAuC,MAAA,CAClBnC,MAAM,CAACN,gBAAgB,gBAAAyC,MAAA,CAAWF,UAAU,yBAAAE,MAAA,CAC5CF,UAAU,OAAG;MAC9B,IAAI,CAACT,uBAAuB,CAACY,GAAG,CAACF,WAAW,CAAC;IAC/C;EACF,CAAC;EAEDG,cAAcA,CACZJ,UAAa,EACbK,aAAsC,EACtCV,gBAA6C,EAC7CW,MAAe,EACfC,OAAgB;IAEhB,MAAMxC,MAAM,GAAGT,aAAa,CAAC0C,UAAU,CAAC;IACxC,MAAM5B,UAAU,GAAGiC,aAAa,CAACtC,MAAM,CAACN,gBAAgB,CAAC;IAEzD,IAAI8C,OAAO,IAAI,CAACxC,MAAM,CAACH,kBAAkB,EAAE;MACzC,OAAO,KAA0C;IACnD;IAEA,IAAI0C,MAAM,EAAE;MACV,MAAMxC,SAAS,GAAG,IAAI,CAAC2B,YAAY,CAAC1B,MAAM,CAACP,cAAc,EAAEmC,gBAAgB,CAAC;MAE5E,IAAI,CAAA7B,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEC,MAAM,MAAK,IAAI,EAAE;QAC9B,OAAO,IAAI,CAACyC,sBAAsB,CAACR,UAAU,EAAE5B,UAAU,CAAC;MAC5D;MAEA,IAAI,EAACN,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEC,MAAM,GAAE;QACtB,OAAO,KAA0C;MACnD;MAEA,IAAIK,UAAU,KAAKC,SAAS,EAAE;QAC5B,IAAI,CAACyB,UAAU,CAAC1B,UAAU,EAAE4B,UAAU,CAAC;MACzC;MAEA,OAAO,IAAI,CAACS,iBAAiB,CAACT,UAAU,EAAElC,SAAS,CAAC;IACtD;IAEA,OAAO,IAAI,CAAC0C,sBAAsB,CAACR,UAAU,EAAE5B,UAAU,CAAC;EAC5D,CAAC;EAEDqC,iBAAiBA,CACfT,UAAa,EACblC,SAA6B;IAE7B,OAAOR,aAAa,CAAC0C,UAAU,CAAC,CAACnC,UAAU,CAACC,SAAS,CAAC;EACxD,CAAC;EAED0C,sBAAsBA,CACpBR,UAAa,EACb5B,UAAmB;IAEnB,OAAOd,aAAa,CAAC0C,UAAU,CAAC,CAAC7B,eAAe,CAACC,UAAU,CAAC;EAC9D,CAAC;EAED,MAAMsC,mBAAmBA,CAAC3C,MAA4B;IAAA,IAAA4C,aAAA;IACpD,MAAMJ,OAAO,IAAAI,aAAA,GAAG5C,MAAM,CAAC6C,KAAK,cAAAD,aAAA,cAAAA,aAAA,GAAI,KAAK;IACrC,MAAMN,aAAa,GAAGtC,MAAM,CAAC8C,QAAQ,IAAI,EAAE;IAE3C,IAAI,CAACtB,uBAAuB,CAACuB,KAAK,EAAE;IAEpC,IAAInB,gBAAgB,GAAgC,IAAI;IACxD,IAAIoB,kBAAkB,GAAG,KAAK;IAE9B,IAAI;MACFpB,gBAAgB,GAAG,MAAMzC,aAAa,CAAC8D,kBAAkB,EAAE;MAC3DD,kBAAkB,GAAGpB,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAKtB,SAAS;IAClF,CAAC,CAAC,OAAO4C,CAAC,EAAE;MACVC,OAAO,CAACC,IAAI,CACV,0FAA0F,EAC1FF,CAAC,CACF;IACH;IAEA,MAAMG,oBAAoB,GACxBL,kBAAkB,IAAI,CAACR,OAAO,GAC1BpD,aAAa,CAACmB,uBAAuB,GACrCnB,aAAa,CAACkE,gCAAgC;IAEpD,IAAI;MACF,KAAK,MAAMrB,UAAU,IAAI3C,YAAY,EAAE;QACrC,MAAMiE,MAAM,GAAG,IAAI,CAAClB,cAAc,CAChCJ,UAAU,EACVK,aAAa,EACbV,gBAAgB,EAChBoB,kBAAkB,EAClBR,OAAO,CACR;QACDgB,MAAM,CAACC,MAAM,CAACJ,oBAAoB,EAAE;UAAE,CAACpB,UAAU,GAAGsB;QAAM,CAAE,CAAC;MAC/D;IACF,CAAC,CAAC,OAAOL,CAAC,EAAE;MACVC,OAAO,CAACC,IAAI,CACV,sFAAsF,EACtFF,CAAC,CACF;MAED,OAAO9D,aAAa,CAACmB,uBAAuB;IAC9C;IAEA,IAAIyC,kBAAkB,IAAI,IAAI,CAACxB,uBAAuB,CAACkC,IAAI,GAAG,CAAC,EAAE;MAC/D,MAAMC,cAAc,mCAAAxB,MAAA,CAAmCyB,KAAK,CAACC,IAAI,CAAC,IAAI,CAACrC,uBAAuB,CAAC,CAACsC,IAAI,CAAC,IAAI,CAAC,0JAAuJ;MACjQ5E,eAAe,CAAC6E,IAAI,CAClB;QACEC,YAAY,EACV3E,SAAS,CAAC4E,cAAc,CAACC,2BAA2B,CAACF,YAAY,CAACL,cAAc;OACnF,EACD,SAAS,CACV;IACH;IAEA,OAAON,oBAAoB;EAC7B;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}