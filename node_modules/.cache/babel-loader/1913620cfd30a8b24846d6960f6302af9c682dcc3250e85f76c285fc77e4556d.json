{"ast":null,"code":"import React,{useState}from'react';import{useWallet}from'../contexts/WalletContext';import'./WalletButton.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WalletButton=()=>{const{account,balance,connectWallet,disconnectWallet,isConnecting,error,walletType}=useWallet();const[showDropdown,setShowDropdown]=useState(false);const[showWalletOptions,setShowWalletOptions]=useState(false);const formatAddress=address=>{return\"\".concat(address.slice(0,6),\"...\").concat(address.slice(-4));};const handleWalletConnect=async walletType=>{setShowWalletOptions(false);await connectWallet(walletType);};const getWalletDisplayName=type=>{switch(type){case'metamask':return'MetaMask';case'walletconnect':return'WalletConnect';default:return'Wallet';}};if(!account){return/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-button-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"wallet-connect-button\",onClick:()=>setShowWalletOptions(!showWalletOptions),disabled:isConnecting,children:isConnecting?'Connecting...':'Connect Wallet'}),showWalletOptions&&/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-options-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"wallet-option-button\",onClick:()=>handleWalletConnect('metamask'),disabled:isConnecting,children:[/*#__PURE__*/_jsx(\"span\",{className:\"wallet-icon\",children:\"\\uD83E\\uDD8A\"}),\"MetaMask\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"wallet-option-button\",onClick:()=>handleWalletConnect('walletconnect'),disabled:isConnecting,children:[/*#__PURE__*/_jsx(\"span\",{className:\"wallet-icon\",children:\"\\uD83D\\uDD17\"}),\"WalletConnect\"]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"wallet-error\",children:error}),showWalletOptions&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-overlay\",onClick:()=>setShowWalletOptions(false)})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-button-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-info-wrapper\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"wallet-connected-button\",onClick:()=>setShowDropdown(!showDropdown),children:[/*#__PURE__*/_jsxs(\"span\",{className:\"wallet-balance\",children:[balance,\" ETH\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"wallet-address\",children:formatAddress(account)}),/*#__PURE__*/_jsx(\"span\",{className:\"wallet-type\",children:getWalletDisplayName(walletType)})]}),showDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-dropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-label\",children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-value\",children:formatAddress(account)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-label\",children:\"Balance:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"dropdown-value\",children:[balance,\" ETH\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-label\",children:\"Wallet:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-value\",children:getWalletDisplayName(walletType)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"disconnect-button\",onClick:()=>{disconnectWallet();setShowDropdown(false);},children:\"Disconnect\"})]})]}),showDropdown&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-overlay\",onClick:()=>setShowDropdown(false)})]});};export default WalletButton;","map":{"version":3,"names":["React","useState","useWallet","jsx","_jsx","jsxs","_jsxs","WalletButton","account","balance","connectWallet","disconnectWallet","isConnecting","error","walletType","showDropdown","setShowDropdown","showWalletOptions","setShowWalletOptions","formatAddress","address","concat","slice","handleWalletConnect","getWalletDisplayName","type","className","children","onClick","disabled"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/src/Components/WalletButton.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useWallet, WalletType } from '../contexts/WalletContext';\nimport './WalletButton.css';\n\nconst WalletButton: React.FC = () => {\n  const { account, balance, connectWallet, disconnectWallet, isConnecting, error, walletType } = useWallet();\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [showWalletOptions, setShowWalletOptions] = useState(false);\n\n  const formatAddress = (address: string) => {\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\n  };\n\n  const handleWalletConnect = async (walletType: WalletType) => {\n    setShowWalletOptions(false);\n    await connectWallet(walletType);\n  };\n\n  const getWalletDisplayName = (type: WalletType | null) => {\n    switch (type) {\n      case 'metamask':\n        return 'MetaMask';\n      case 'walletconnect':\n        return 'WalletConnect';\n      default:\n        return 'Wallet';\n    }\n  };\n\n  if (!account) {\n    return (\n      <div className=\"wallet-button-container\">\n        <button \n          className=\"wallet-connect-button\"\n          onClick={() => setShowWalletOptions(!showWalletOptions)}\n          disabled={isConnecting}\n        >\n          {isConnecting ? 'Connecting...' : 'Connect Wallet'}\n        </button>\n        \n        {showWalletOptions && (\n          <div className=\"wallet-options-dropdown\">\n            <button \n              className=\"wallet-option-button\"\n              onClick={() => handleWalletConnect('metamask')}\n              disabled={isConnecting}\n            >\n              <span className=\"wallet-icon\">ðŸ¦Š</span>\n              MetaMask\n            </button>\n            <button \n              className=\"wallet-option-button\"\n              onClick={() => handleWalletConnect('walletconnect')}\n              disabled={isConnecting}\n            >\n              <span className=\"wallet-icon\">ðŸ”—</span>\n              WalletConnect\n            </button>\n          </div>\n        )}\n        \n        {error && <div className=\"wallet-error\">{error}</div>}\n        {showWalletOptions && (\n          <div \n            className=\"dropdown-overlay\" \n            onClick={() => setShowWalletOptions(false)}\n          />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"wallet-button-container\">\n      <div className=\"wallet-info-wrapper\">\n        <button \n          className=\"wallet-connected-button\"\n          onClick={() => setShowDropdown(!showDropdown)}\n        >\n          <span className=\"wallet-balance\">{balance} ETH</span>\n          <span className=\"wallet-address\">{formatAddress(account)}</span>\n          <span className=\"wallet-type\">{getWalletDisplayName(walletType)}</span>\n        </button>\n        \n        {showDropdown && (\n          <div className=\"wallet-dropdown\">\n            <div className=\"dropdown-item\">\n              <span className=\"dropdown-label\">Address:</span>\n              <span className=\"dropdown-value\">{formatAddress(account)}</span>\n            </div>\n            <div className=\"dropdown-item\">\n              <span className=\"dropdown-label\">Balance:</span>\n              <span className=\"dropdown-value\">{balance} ETH</span>\n            </div>\n            <div className=\"dropdown-item\">\n              <span className=\"dropdown-label\">Wallet:</span>\n              <span className=\"dropdown-value\">{getWalletDisplayName(walletType)}</span>\n            </div>\n            <button \n              className=\"disconnect-button\"\n              onClick={() => {\n                disconnectWallet();\n                setShowDropdown(false);\n              }}\n            >\n              Disconnect\n            </button>\n          </div>\n        )}\n      </div>\n      {showDropdown && (\n        <div \n          className=\"dropdown-overlay\" \n          onClick={() => setShowDropdown(false)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default WalletButton;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}