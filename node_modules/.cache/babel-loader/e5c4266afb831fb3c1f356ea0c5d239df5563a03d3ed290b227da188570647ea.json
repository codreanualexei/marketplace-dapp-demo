{"ast":null,"code":"/**\n * Towered extension fields.\n * Rather than implementing a massive 12th-degree extension directly, it is more efficient\n * to build it up from smaller extensions: a tower of extensions.\n *\n * For BLS12-381, the Fp12 field is implemented as a quadratic (degree two) extension,\n * on top of a cubic (degree three) extension, on top of a quadratic extension of Fp.\n *\n * For more info: \"Pairings for beginners\" by Costello, section 7.3.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport * as mod from \"./modular.js\";\nimport { bitLen, bitMask, concatBytes, notImplemented } from \"./utils.js\";\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0),\n  _1n = BigInt(1),\n  _2n = BigInt(2),\n  _3n = BigInt(3);\nfunction calcFrobeniusCoefficients(Fp, nonResidue, modulus, degree) {\n  let num = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  let divisor = arguments.length > 5 ? arguments[5] : undefined;\n  const _divisor = BigInt(divisor === undefined ? degree : divisor);\n  const towerModulus = modulus ** BigInt(degree);\n  const res = [];\n  for (let i = 0; i < num; i++) {\n    const a = BigInt(i + 1);\n    const powers = [];\n    for (let j = 0, qPower = _1n; j < degree; j++) {\n      const power = (a * qPower - a) / _divisor % towerModulus;\n      powers.push(Fp.pow(nonResidue, power));\n      qPower *= modulus;\n    }\n    res.push(powers);\n  }\n  return res;\n}\n// This works same at least for bls12-381, bn254 and bls12-377\nexport function psiFrobenius(Fp, Fp2, base) {\n  // GLV endomorphism Ψ(P)\n  const PSI_X = Fp2.pow(base, (Fp.ORDER - _1n) / _3n); // u^((p-1)/3)\n  const PSI_Y = Fp2.pow(base, (Fp.ORDER - _1n) / _2n); // u^((p-1)/2)\n  function psi(x, y) {\n    // This x10 faster than previous version in bls12-381\n    const x2 = Fp2.mul(Fp2.frobeniusMap(x, 1), PSI_X);\n    const y2 = Fp2.mul(Fp2.frobeniusMap(y, 1), PSI_Y);\n    return [x2, y2];\n  }\n  // Ψ²(P) endomorphism (psi2(x) = psi(psi(x)))\n  const PSI2_X = Fp2.pow(base, (Fp.ORDER ** _2n - _1n) / _3n); // u^((p^2 - 1)/3)\n  // This equals -1, which causes y to be Fp2.neg(y).\n  // But not sure if there are case when this is not true?\n  const PSI2_Y = Fp2.pow(base, (Fp.ORDER ** _2n - _1n) / _2n); // u^((p^2 - 1)/3)\n  if (!Fp2.eql(PSI2_Y, Fp2.neg(Fp2.ONE))) throw new Error('psiFrobenius: PSI2_Y!==-1');\n  function psi2(x, y) {\n    return [Fp2.mul(x, PSI2_X), Fp2.neg(y)];\n  }\n  // Map points\n  const mapAffine = fn => (c, P) => {\n    const affine = P.toAffine();\n    const p = fn(affine.x, affine.y);\n    return c.fromAffine({\n      x: p[0],\n      y: p[1]\n    });\n  };\n  const G2psi = mapAffine(psi);\n  const G2psi2 = mapAffine(psi2);\n  return {\n    psi,\n    psi2,\n    G2psi,\n    G2psi2,\n    PSI_X,\n    PSI_Y,\n    PSI2_X,\n    PSI2_Y\n  };\n}\nexport function tower12(opts) {\n  const {\n    ORDER\n  } = opts;\n  // Fp\n  const Fp = mod.Field(ORDER);\n  const FpNONRESIDUE = Fp.create(opts.NONRESIDUE || BigInt(-1));\n  const Fpdiv2 = Fp.div(Fp.ONE, _2n); // 1/2\n  // Fp2\n  const FP2_FROBENIUS_COEFFICIENTS = calcFrobeniusCoefficients(Fp, FpNONRESIDUE, Fp.ORDER, 2)[0];\n  const Fp2Add = (_ref, _ref2) => {\n    let {\n      c0,\n      c1\n    } = _ref;\n    let {\n      c0: r0,\n      c1: r1\n    } = _ref2;\n    return {\n      c0: Fp.add(c0, r0),\n      c1: Fp.add(c1, r1)\n    };\n  };\n  const Fp2Subtract = (_ref3, _ref4) => {\n    let {\n      c0,\n      c1\n    } = _ref3;\n    let {\n      c0: r0,\n      c1: r1\n    } = _ref4;\n    return {\n      c0: Fp.sub(c0, r0),\n      c1: Fp.sub(c1, r1)\n    };\n  };\n  const Fp2Multiply = (_ref5, rhs) => {\n    let {\n      c0,\n      c1\n    } = _ref5;\n    if (typeof rhs === 'bigint') return {\n      c0: Fp.mul(c0, rhs),\n      c1: Fp.mul(c1, rhs)\n    };\n    // (a+bi)(c+di) = (ac−bd) + (ad+bc)i\n    const {\n      c0: r0,\n      c1: r1\n    } = rhs;\n    let t1 = Fp.mul(c0, r0); // c0 * o0\n    let t2 = Fp.mul(c1, r1); // c1 * o1\n    // (T1 - T2) + ((c0 + c1) * (r0 + r1) - (T1 + T2))*i\n    const o0 = Fp.sub(t1, t2);\n    const o1 = Fp.sub(Fp.mul(Fp.add(c0, c1), Fp.add(r0, r1)), Fp.add(t1, t2));\n    return {\n      c0: o0,\n      c1: o1\n    };\n  };\n  const Fp2Square = _ref6 => {\n    let {\n      c0,\n      c1\n    } = _ref6;\n    const a = Fp.add(c0, c1);\n    const b = Fp.sub(c0, c1);\n    const c = Fp.add(c0, c0);\n    return {\n      c0: Fp.mul(a, b),\n      c1: Fp.mul(c, c1)\n    };\n  };\n  const Fp2fromBigTuple = tuple => {\n    if (tuple.length !== 2) throw new Error('invalid tuple');\n    const fps = tuple.map(n => Fp.create(n));\n    return {\n      c0: fps[0],\n      c1: fps[1]\n    };\n  };\n  const FP2_ORDER = ORDER * ORDER;\n  const Fp2Nonresidue = Fp2fromBigTuple(opts.FP2_NONRESIDUE);\n  const Fp2 = {\n    ORDER: FP2_ORDER,\n    isLE: Fp.isLE,\n    NONRESIDUE: Fp2Nonresidue,\n    BITS: bitLen(FP2_ORDER),\n    BYTES: Math.ceil(bitLen(FP2_ORDER) / 8),\n    MASK: bitMask(bitLen(FP2_ORDER)),\n    ZERO: {\n      c0: Fp.ZERO,\n      c1: Fp.ZERO\n    },\n    ONE: {\n      c0: Fp.ONE,\n      c1: Fp.ZERO\n    },\n    create: num => num,\n    isValid: _ref7 => {\n      let {\n        c0,\n        c1\n      } = _ref7;\n      return typeof c0 === 'bigint' && typeof c1 === 'bigint';\n    },\n    is0: _ref8 => {\n      let {\n        c0,\n        c1\n      } = _ref8;\n      return Fp.is0(c0) && Fp.is0(c1);\n    },\n    eql: (_ref9, _ref0) => {\n      let {\n        c0,\n        c1\n      } = _ref9;\n      let {\n        c0: r0,\n        c1: r1\n      } = _ref0;\n      return Fp.eql(c0, r0) && Fp.eql(c1, r1);\n    },\n    neg: _ref1 => {\n      let {\n        c0,\n        c1\n      } = _ref1;\n      return {\n        c0: Fp.neg(c0),\n        c1: Fp.neg(c1)\n      };\n    },\n    pow: (num, power) => mod.FpPow(Fp2, num, power),\n    invertBatch: nums => mod.FpInvertBatch(Fp2, nums),\n    // Normalized\n    add: Fp2Add,\n    sub: Fp2Subtract,\n    mul: Fp2Multiply,\n    sqr: Fp2Square,\n    // NonNormalized stuff\n    addN: Fp2Add,\n    subN: Fp2Subtract,\n    mulN: Fp2Multiply,\n    sqrN: Fp2Square,\n    // Why inversion for bigint inside Fp instead of Fp2? it is even used in that context?\n    div: (lhs, rhs) => Fp2.mul(lhs, typeof rhs === 'bigint' ? Fp.inv(Fp.create(rhs)) : Fp2.inv(rhs)),\n    inv: _ref10 => {\n      let {\n        c0: a,\n        c1: b\n      } = _ref10;\n      // We wish to find the multiplicative inverse of a nonzero\n      // element a + bu in Fp2. We leverage an identity\n      //\n      // (a + bu)(a - bu) = a² + b²\n      //\n      // which holds because u² = -1. This can be rewritten as\n      //\n      // (a + bu)(a - bu)/(a² + b²) = 1\n      //\n      // because a² + b² = 0 has no nonzero solutions for (a, b).\n      // This gives that (a - bu)/(a² + b²) is the inverse\n      // of (a + bu). Importantly, this can be computing using\n      // only a single inversion in Fp.\n      const factor = Fp.inv(Fp.create(a * a + b * b));\n      return {\n        c0: Fp.mul(factor, Fp.create(a)),\n        c1: Fp.mul(factor, Fp.create(-b))\n      };\n    },\n    sqrt: num => {\n      if (opts.Fp2sqrt) return opts.Fp2sqrt(num);\n      // This is generic for all quadratic extensions (Fp2)\n      const {\n        c0,\n        c1\n      } = num;\n      if (Fp.is0(c1)) {\n        // if c0 is quadratic residue\n        if (mod.FpLegendre(Fp, c0) === 1) return Fp2.create({\n          c0: Fp.sqrt(c0),\n          c1: Fp.ZERO\n        });else return Fp2.create({\n          c0: Fp.ZERO,\n          c1: Fp.sqrt(Fp.div(c0, FpNONRESIDUE))\n        });\n      }\n      const a = Fp.sqrt(Fp.sub(Fp.sqr(c0), Fp.mul(Fp.sqr(c1), FpNONRESIDUE)));\n      let d = Fp.mul(Fp.add(a, c0), Fpdiv2);\n      const legendre = mod.FpLegendre(Fp, d);\n      // -1, Quadratic non residue\n      if (legendre === -1) d = Fp.sub(d, a);\n      const a0 = Fp.sqrt(d);\n      const candidateSqrt = Fp2.create({\n        c0: a0,\n        c1: Fp.div(Fp.mul(c1, Fpdiv2), a0)\n      });\n      if (!Fp2.eql(Fp2.sqr(candidateSqrt), num)) throw new Error('Cannot find square root');\n      // Normalize root: at this point candidateSqrt ** 2 = num, but also -candidateSqrt ** 2 = num\n      const x1 = candidateSqrt;\n      const x2 = Fp2.neg(x1);\n      const {\n        re: re1,\n        im: im1\n      } = Fp2.reim(x1);\n      const {\n        re: re2,\n        im: im2\n      } = Fp2.reim(x2);\n      if (im1 > im2 || im1 === im2 && re1 > re2) return x1;\n      return x2;\n    },\n    // Same as sgn0_m_eq_2 in RFC 9380\n    isOdd: x => {\n      const {\n        re: x0,\n        im: x1\n      } = Fp2.reim(x);\n      const sign_0 = x0 % _2n;\n      const zero_0 = x0 === _0n;\n      const sign_1 = x1 % _2n;\n      return BigInt(sign_0 || zero_0 && sign_1) == _1n;\n    },\n    // Bytes util\n    fromBytes(b) {\n      if (b.length !== Fp2.BYTES) throw new Error('fromBytes invalid length=' + b.length);\n      return {\n        c0: Fp.fromBytes(b.subarray(0, Fp.BYTES)),\n        c1: Fp.fromBytes(b.subarray(Fp.BYTES))\n      };\n    },\n    toBytes: _ref11 => {\n      let {\n        c0,\n        c1\n      } = _ref11;\n      return concatBytes(Fp.toBytes(c0), Fp.toBytes(c1));\n    },\n    cmov: (_ref12, _ref13, c) => {\n      let {\n        c0,\n        c1\n      } = _ref12;\n      let {\n        c0: r0,\n        c1: r1\n      } = _ref13;\n      return {\n        c0: Fp.cmov(c0, r0, c),\n        c1: Fp.cmov(c1, r1, c)\n      };\n    },\n    reim: _ref14 => {\n      let {\n        c0,\n        c1\n      } = _ref14;\n      return {\n        re: c0,\n        im: c1\n      };\n    },\n    // multiply by u + 1\n    mulByNonresidue: _ref15 => {\n      let {\n        c0,\n        c1\n      } = _ref15;\n      return Fp2.mul({\n        c0,\n        c1\n      }, Fp2Nonresidue);\n    },\n    mulByB: opts.Fp2mulByB,\n    fromBigTuple: Fp2fromBigTuple,\n    frobeniusMap: (_ref16, power) => {\n      let {\n        c0,\n        c1\n      } = _ref16;\n      return {\n        c0,\n        c1: Fp.mul(c1, FP2_FROBENIUS_COEFFICIENTS[power % 2])\n      };\n    }\n  };\n  // Fp6\n  const Fp6Add = (_ref17, _ref18) => {\n    let {\n      c0,\n      c1,\n      c2\n    } = _ref17;\n    let {\n      c0: r0,\n      c1: r1,\n      c2: r2\n    } = _ref18;\n    return {\n      c0: Fp2.add(c0, r0),\n      c1: Fp2.add(c1, r1),\n      c2: Fp2.add(c2, r2)\n    };\n  };\n  const Fp6Subtract = (_ref19, _ref20) => {\n    let {\n      c0,\n      c1,\n      c2\n    } = _ref19;\n    let {\n      c0: r0,\n      c1: r1,\n      c2: r2\n    } = _ref20;\n    return {\n      c0: Fp2.sub(c0, r0),\n      c1: Fp2.sub(c1, r1),\n      c2: Fp2.sub(c2, r2)\n    };\n  };\n  const Fp6Multiply = (_ref21, rhs) => {\n    let {\n      c0,\n      c1,\n      c2\n    } = _ref21;\n    if (typeof rhs === 'bigint') {\n      return {\n        c0: Fp2.mul(c0, rhs),\n        c1: Fp2.mul(c1, rhs),\n        c2: Fp2.mul(c2, rhs)\n      };\n    }\n    const {\n      c0: r0,\n      c1: r1,\n      c2: r2\n    } = rhs;\n    const t0 = Fp2.mul(c0, r0); // c0 * o0\n    const t1 = Fp2.mul(c1, r1); // c1 * o1\n    const t2 = Fp2.mul(c2, r2); // c2 * o2\n    return {\n      // t0 + (c1 + c2) * (r1 * r2) - (T1 + T2) * (u + 1)\n      c0: Fp2.add(t0, Fp2.mulByNonresidue(Fp2.sub(Fp2.mul(Fp2.add(c1, c2), Fp2.add(r1, r2)), Fp2.add(t1, t2)))),\n      // (c0 + c1) * (r0 + r1) - (T0 + T1) + T2 * (u + 1)\n      c1: Fp2.add(Fp2.sub(Fp2.mul(Fp2.add(c0, c1), Fp2.add(r0, r1)), Fp2.add(t0, t1)), Fp2.mulByNonresidue(t2)),\n      // T1 + (c0 + c2) * (r0 + r2) - T0 + T2\n      c2: Fp2.sub(Fp2.add(t1, Fp2.mul(Fp2.add(c0, c2), Fp2.add(r0, r2))), Fp2.add(t0, t2))\n    };\n  };\n  const Fp6Square = _ref22 => {\n    let {\n      c0,\n      c1,\n      c2\n    } = _ref22;\n    let t0 = Fp2.sqr(c0); // c0²\n    let t1 = Fp2.mul(Fp2.mul(c0, c1), _2n); // 2 * c0 * c1\n    let t3 = Fp2.mul(Fp2.mul(c1, c2), _2n); // 2 * c1 * c2\n    let t4 = Fp2.sqr(c2); // c2²\n    return {\n      c0: Fp2.add(Fp2.mulByNonresidue(t3), t0),\n      // T3 * (u + 1) + T0\n      c1: Fp2.add(Fp2.mulByNonresidue(t4), t1),\n      // T4 * (u + 1) + T1\n      // T1 + (c0 - c1 + c2)² + T3 - T0 - T4\n      c2: Fp2.sub(Fp2.sub(Fp2.add(Fp2.add(t1, Fp2.sqr(Fp2.add(Fp2.sub(c0, c1), c2))), t3), t0), t4)\n    };\n  };\n  const [FP6_FROBENIUS_COEFFICIENTS_1, FP6_FROBENIUS_COEFFICIENTS_2] = calcFrobeniusCoefficients(Fp2, Fp2Nonresidue, Fp.ORDER, 6, 2, 3);\n  const Fp6 = {\n    ORDER: Fp2.ORDER,\n    // TODO: unused, but need to verify\n    isLE: Fp2.isLE,\n    BITS: 3 * Fp2.BITS,\n    BYTES: 3 * Fp2.BYTES,\n    MASK: bitMask(3 * Fp2.BITS),\n    ZERO: {\n      c0: Fp2.ZERO,\n      c1: Fp2.ZERO,\n      c2: Fp2.ZERO\n    },\n    ONE: {\n      c0: Fp2.ONE,\n      c1: Fp2.ZERO,\n      c2: Fp2.ZERO\n    },\n    create: num => num,\n    isValid: _ref23 => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref23;\n      return Fp2.isValid(c0) && Fp2.isValid(c1) && Fp2.isValid(c2);\n    },\n    is0: _ref24 => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref24;\n      return Fp2.is0(c0) && Fp2.is0(c1) && Fp2.is0(c2);\n    },\n    neg: _ref25 => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref25;\n      return {\n        c0: Fp2.neg(c0),\n        c1: Fp2.neg(c1),\n        c2: Fp2.neg(c2)\n      };\n    },\n    eql: (_ref26, _ref27) => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref26;\n      let {\n        c0: r0,\n        c1: r1,\n        c2: r2\n      } = _ref27;\n      return Fp2.eql(c0, r0) && Fp2.eql(c1, r1) && Fp2.eql(c2, r2);\n    },\n    sqrt: notImplemented,\n    // Do we need division by bigint at all? Should be done via order:\n    div: (lhs, rhs) => Fp6.mul(lhs, typeof rhs === 'bigint' ? Fp.inv(Fp.create(rhs)) : Fp6.inv(rhs)),\n    pow: (num, power) => mod.FpPow(Fp6, num, power),\n    invertBatch: nums => mod.FpInvertBatch(Fp6, nums),\n    // Normalized\n    add: Fp6Add,\n    sub: Fp6Subtract,\n    mul: Fp6Multiply,\n    sqr: Fp6Square,\n    // NonNormalized stuff\n    addN: Fp6Add,\n    subN: Fp6Subtract,\n    mulN: Fp6Multiply,\n    sqrN: Fp6Square,\n    inv: _ref28 => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref28;\n      let t0 = Fp2.sub(Fp2.sqr(c0), Fp2.mulByNonresidue(Fp2.mul(c2, c1))); // c0² - c2 * c1 * (u + 1)\n      let t1 = Fp2.sub(Fp2.mulByNonresidue(Fp2.sqr(c2)), Fp2.mul(c0, c1)); // c2² * (u + 1) - c0 * c1\n      let t2 = Fp2.sub(Fp2.sqr(c1), Fp2.mul(c0, c2)); // c1² - c0 * c2\n      // 1/(((c2 * T1 + c1 * T2) * v) + c0 * T0)\n      let t4 = Fp2.inv(Fp2.add(Fp2.mulByNonresidue(Fp2.add(Fp2.mul(c2, t1), Fp2.mul(c1, t2))), Fp2.mul(c0, t0)));\n      return {\n        c0: Fp2.mul(t4, t0),\n        c1: Fp2.mul(t4, t1),\n        c2: Fp2.mul(t4, t2)\n      };\n    },\n    // Bytes utils\n    fromBytes: b => {\n      if (b.length !== Fp6.BYTES) throw new Error('fromBytes invalid length=' + b.length);\n      return {\n        c0: Fp2.fromBytes(b.subarray(0, Fp2.BYTES)),\n        c1: Fp2.fromBytes(b.subarray(Fp2.BYTES, 2 * Fp2.BYTES)),\n        c2: Fp2.fromBytes(b.subarray(2 * Fp2.BYTES))\n      };\n    },\n    toBytes: _ref29 => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref29;\n      return concatBytes(Fp2.toBytes(c0), Fp2.toBytes(c1), Fp2.toBytes(c2));\n    },\n    cmov: (_ref30, _ref31, c) => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref30;\n      let {\n        c0: r0,\n        c1: r1,\n        c2: r2\n      } = _ref31;\n      return {\n        c0: Fp2.cmov(c0, r0, c),\n        c1: Fp2.cmov(c1, r1, c),\n        c2: Fp2.cmov(c2, r2, c)\n      };\n    },\n    fromBigSix: t => {\n      if (!Array.isArray(t) || t.length !== 6) throw new Error('invalid Fp6 usage');\n      return {\n        c0: Fp2.fromBigTuple(t.slice(0, 2)),\n        c1: Fp2.fromBigTuple(t.slice(2, 4)),\n        c2: Fp2.fromBigTuple(t.slice(4, 6))\n      };\n    },\n    frobeniusMap: (_ref32, power) => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref32;\n      return {\n        c0: Fp2.frobeniusMap(c0, power),\n        c1: Fp2.mul(Fp2.frobeniusMap(c1, power), FP6_FROBENIUS_COEFFICIENTS_1[power % 6]),\n        c2: Fp2.mul(Fp2.frobeniusMap(c2, power), FP6_FROBENIUS_COEFFICIENTS_2[power % 6])\n      };\n    },\n    mulByFp2: (_ref33, rhs) => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref33;\n      return {\n        c0: Fp2.mul(c0, rhs),\n        c1: Fp2.mul(c1, rhs),\n        c2: Fp2.mul(c2, rhs)\n      };\n    },\n    mulByNonresidue: _ref34 => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref34;\n      return {\n        c0: Fp2.mulByNonresidue(c2),\n        c1: c0,\n        c2: c1\n      };\n    },\n    // Sparse multiplication\n    mul1: (_ref35, b1) => {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref35;\n      return {\n        c0: Fp2.mulByNonresidue(Fp2.mul(c2, b1)),\n        c1: Fp2.mul(c0, b1),\n        c2: Fp2.mul(c1, b1)\n      };\n    },\n    // Sparse multiplication\n    mul01(_ref36, b0, b1) {\n      let {\n        c0,\n        c1,\n        c2\n      } = _ref36;\n      let t0 = Fp2.mul(c0, b0); // c0 * b0\n      let t1 = Fp2.mul(c1, b1); // c1 * b1\n      return {\n        // ((c1 + c2) * b1 - T1) * (u + 1) + T0\n        c0: Fp2.add(Fp2.mulByNonresidue(Fp2.sub(Fp2.mul(Fp2.add(c1, c2), b1), t1)), t0),\n        // (b0 + b1) * (c0 + c1) - T0 - T1\n        c1: Fp2.sub(Fp2.sub(Fp2.mul(Fp2.add(b0, b1), Fp2.add(c0, c1)), t0), t1),\n        // (c0 + c2) * b0 - T0 + T1\n        c2: Fp2.add(Fp2.sub(Fp2.mul(Fp2.add(c0, c2), b0), t0), t1)\n      };\n    }\n  };\n  // Fp12\n  const FP12_FROBENIUS_COEFFICIENTS = calcFrobeniusCoefficients(Fp2, Fp2Nonresidue, Fp.ORDER, 12, 1, 6)[0];\n  const Fp12Add = (_ref37, _ref38) => {\n    let {\n      c0,\n      c1\n    } = _ref37;\n    let {\n      c0: r0,\n      c1: r1\n    } = _ref38;\n    return {\n      c0: Fp6.add(c0, r0),\n      c1: Fp6.add(c1, r1)\n    };\n  };\n  const Fp12Subtract = (_ref39, _ref40) => {\n    let {\n      c0,\n      c1\n    } = _ref39;\n    let {\n      c0: r0,\n      c1: r1\n    } = _ref40;\n    return {\n      c0: Fp6.sub(c0, r0),\n      c1: Fp6.sub(c1, r1)\n    };\n  };\n  const Fp12Multiply = (_ref41, rhs) => {\n    let {\n      c0,\n      c1\n    } = _ref41;\n    if (typeof rhs === 'bigint') return {\n      c0: Fp6.mul(c0, rhs),\n      c1: Fp6.mul(c1, rhs)\n    };\n    let {\n      c0: r0,\n      c1: r1\n    } = rhs;\n    let t1 = Fp6.mul(c0, r0); // c0 * r0\n    let t2 = Fp6.mul(c1, r1); // c1 * r1\n    return {\n      c0: Fp6.add(t1, Fp6.mulByNonresidue(t2)),\n      // T1 + T2 * v\n      // (c0 + c1) * (r0 + r1) - (T1 + T2)\n      c1: Fp6.sub(Fp6.mul(Fp6.add(c0, c1), Fp6.add(r0, r1)), Fp6.add(t1, t2))\n    };\n  };\n  const Fp12Square = _ref42 => {\n    let {\n      c0,\n      c1\n    } = _ref42;\n    let ab = Fp6.mul(c0, c1); // c0 * c1\n    return {\n      // (c1 * v + c0) * (c0 + c1) - AB - AB * v\n      c0: Fp6.sub(Fp6.sub(Fp6.mul(Fp6.add(Fp6.mulByNonresidue(c1), c0), Fp6.add(c0, c1)), ab), Fp6.mulByNonresidue(ab)),\n      c1: Fp6.add(ab, ab)\n    }; // AB + AB\n  };\n  function Fp4Square(a, b) {\n    const a2 = Fp2.sqr(a);\n    const b2 = Fp2.sqr(b);\n    return {\n      first: Fp2.add(Fp2.mulByNonresidue(b2), a2),\n      // b² * Nonresidue + a²\n      second: Fp2.sub(Fp2.sub(Fp2.sqr(Fp2.add(a, b)), a2), b2) // (a + b)² - a² - b²\n    };\n  }\n  const Fp12 = {\n    ORDER: Fp2.ORDER,\n    // TODO: unused, but need to verify\n    isLE: Fp6.isLE,\n    BITS: 2 * Fp6.BITS,\n    BYTES: 2 * Fp6.BYTES,\n    MASK: bitMask(2 * Fp6.BITS),\n    ZERO: {\n      c0: Fp6.ZERO,\n      c1: Fp6.ZERO\n    },\n    ONE: {\n      c0: Fp6.ONE,\n      c1: Fp6.ZERO\n    },\n    create: num => num,\n    isValid: _ref43 => {\n      let {\n        c0,\n        c1\n      } = _ref43;\n      return Fp6.isValid(c0) && Fp6.isValid(c1);\n    },\n    is0: _ref44 => {\n      let {\n        c0,\n        c1\n      } = _ref44;\n      return Fp6.is0(c0) && Fp6.is0(c1);\n    },\n    neg: _ref45 => {\n      let {\n        c0,\n        c1\n      } = _ref45;\n      return {\n        c0: Fp6.neg(c0),\n        c1: Fp6.neg(c1)\n      };\n    },\n    eql: (_ref46, _ref47) => {\n      let {\n        c0,\n        c1\n      } = _ref46;\n      let {\n        c0: r0,\n        c1: r1\n      } = _ref47;\n      return Fp6.eql(c0, r0) && Fp6.eql(c1, r1);\n    },\n    sqrt: notImplemented,\n    inv: _ref48 => {\n      let {\n        c0,\n        c1\n      } = _ref48;\n      let t = Fp6.inv(Fp6.sub(Fp6.sqr(c0), Fp6.mulByNonresidue(Fp6.sqr(c1)))); // 1 / (c0² - c1² * v)\n      return {\n        c0: Fp6.mul(c0, t),\n        c1: Fp6.neg(Fp6.mul(c1, t))\n      }; // ((C0 * T) * T) + (-C1 * T) * w\n    },\n    div: (lhs, rhs) => Fp12.mul(lhs, typeof rhs === 'bigint' ? Fp.inv(Fp.create(rhs)) : Fp12.inv(rhs)),\n    pow: (num, power) => mod.FpPow(Fp12, num, power),\n    invertBatch: nums => mod.FpInvertBatch(Fp12, nums),\n    // Normalized\n    add: Fp12Add,\n    sub: Fp12Subtract,\n    mul: Fp12Multiply,\n    sqr: Fp12Square,\n    // NonNormalized stuff\n    addN: Fp12Add,\n    subN: Fp12Subtract,\n    mulN: Fp12Multiply,\n    sqrN: Fp12Square,\n    // Bytes utils\n    fromBytes: b => {\n      if (b.length !== Fp12.BYTES) throw new Error('fromBytes invalid length=' + b.length);\n      return {\n        c0: Fp6.fromBytes(b.subarray(0, Fp6.BYTES)),\n        c1: Fp6.fromBytes(b.subarray(Fp6.BYTES))\n      };\n    },\n    toBytes: _ref49 => {\n      let {\n        c0,\n        c1\n      } = _ref49;\n      return concatBytes(Fp6.toBytes(c0), Fp6.toBytes(c1));\n    },\n    cmov: (_ref50, _ref51, c) => {\n      let {\n        c0,\n        c1\n      } = _ref50;\n      let {\n        c0: r0,\n        c1: r1\n      } = _ref51;\n      return {\n        c0: Fp6.cmov(c0, r0, c),\n        c1: Fp6.cmov(c1, r1, c)\n      };\n    },\n    // Utils\n    // toString() {\n    //   return '' + 'Fp12(' + this.c0 + this.c1 + '* w');\n    // },\n    // fromTuple(c: [Fp6, Fp6]) {\n    //   return new Fp12(...c);\n    // }\n    fromBigTwelve: t => ({\n      c0: Fp6.fromBigSix(t.slice(0, 6)),\n      c1: Fp6.fromBigSix(t.slice(6, 12))\n    }),\n    // Raises to q**i -th power\n    frobeniusMap(lhs, power) {\n      const {\n        c0,\n        c1,\n        c2\n      } = Fp6.frobeniusMap(lhs.c1, power);\n      const coeff = FP12_FROBENIUS_COEFFICIENTS[power % 12];\n      return {\n        c0: Fp6.frobeniusMap(lhs.c0, power),\n        c1: Fp6.create({\n          c0: Fp2.mul(c0, coeff),\n          c1: Fp2.mul(c1, coeff),\n          c2: Fp2.mul(c2, coeff)\n        })\n      };\n    },\n    mulByFp2: (_ref52, rhs) => {\n      let {\n        c0,\n        c1\n      } = _ref52;\n      return {\n        c0: Fp6.mulByFp2(c0, rhs),\n        c1: Fp6.mulByFp2(c1, rhs)\n      };\n    },\n    conjugate: _ref53 => {\n      let {\n        c0,\n        c1\n      } = _ref53;\n      return {\n        c0,\n        c1: Fp6.neg(c1)\n      };\n    },\n    // Sparse multiplication\n    mul014: (_ref54, o0, o1, o4) => {\n      let {\n        c0,\n        c1\n      } = _ref54;\n      let t0 = Fp6.mul01(c0, o0, o1);\n      let t1 = Fp6.mul1(c1, o4);\n      return {\n        c0: Fp6.add(Fp6.mulByNonresidue(t1), t0),\n        // T1 * v + T0\n        // (c1 + c0) * [o0, o1+o4] - T0 - T1\n        c1: Fp6.sub(Fp6.sub(Fp6.mul01(Fp6.add(c1, c0), o0, Fp2.add(o1, o4)), t0), t1)\n      };\n    },\n    mul034: (_ref55, o0, o3, o4) => {\n      let {\n        c0,\n        c1\n      } = _ref55;\n      const a = Fp6.create({\n        c0: Fp2.mul(c0.c0, o0),\n        c1: Fp2.mul(c0.c1, o0),\n        c2: Fp2.mul(c0.c2, o0)\n      });\n      const b = Fp6.mul01(c1, o3, o4);\n      const e = Fp6.mul01(Fp6.add(c0, c1), Fp2.add(o0, o3), o4);\n      return {\n        c0: Fp6.add(Fp6.mulByNonresidue(b), a),\n        c1: Fp6.sub(e, Fp6.add(a, b))\n      };\n    },\n    // A cyclotomic group is a subgroup of Fp^n defined by\n    //   GΦₙ(p) = {α ∈ Fpⁿ : α^Φₙ(p) = 1}\n    // The result of any pairing is in a cyclotomic subgroup\n    // https://eprint.iacr.org/2009/565.pdf\n    _cyclotomicSquare: opts.Fp12cyclotomicSquare,\n    _cyclotomicExp: opts.Fp12cyclotomicExp,\n    // https://eprint.iacr.org/2010/354.pdf\n    // https://eprint.iacr.org/2009/565.pdf\n    finalExponentiate: opts.Fp12finalExponentiate\n  };\n  return {\n    Fp,\n    Fp2,\n    Fp6,\n    Fp4Square,\n    Fp12\n  };\n}","map":{"version":3,"names":["mod","bitLen","bitMask","concatBytes","notImplemented","_0n","BigInt","_1n","_2n","_3n","calcFrobeniusCoefficients","Fp","nonResidue","modulus","degree","num","arguments","length","undefined","divisor","_divisor","towerModulus","res","i","a","powers","j","qPower","power","push","pow","psiFrobenius","Fp2","base","PSI_X","ORDER","PSI_Y","psi","x","y","x2","mul","frobeniusMap","y2","PSI2_X","PSI2_Y","eql","neg","ONE","Error","psi2","mapAffine","fn","c","P","affine","toAffine","p","fromAffine","G2psi","G2psi2","tower12","opts","Field","FpNONRESIDUE","create","NONRESIDUE","Fpdiv2","div","FP2_FROBENIUS_COEFFICIENTS","Fp2Add","_ref","_ref2","c0","c1","r0","r1","add","Fp2Subtract","_ref3","_ref4","sub","Fp2Multiply","_ref5","rhs","t1","t2","o0","o1","Fp2Square","_ref6","b","Fp2fromBigTuple","tuple","fps","map","n","FP2_ORDER","Fp2Nonresidue","FP2_NONRESIDUE","isLE","BITS","BYTES","Math","ceil","MASK","ZERO","isValid","_ref7","is0","_ref8","_ref9","_ref0","_ref1","FpPow","invertBatch","nums","FpInvertBatch","sqr","addN","subN","mulN","sqrN","lhs","inv","_ref10","factor","sqrt","Fp2sqrt","FpLegendre","d","legendre","a0","candidateSqrt","x1","re","re1","im","im1","reim","re2","im2","isOdd","x0","sign_0","zero_0","sign_1","fromBytes","subarray","toBytes","_ref11","cmov","_ref12","_ref13","_ref14","mulByNonresidue","_ref15","mulByB","Fp2mulByB","fromBigTuple","_ref16","Fp6Add","_ref17","_ref18","c2","r2","Fp6Subtract","_ref19","_ref20","Fp6Multiply","_ref21","t0","Fp6Square","_ref22","t3","t4","FP6_FROBENIUS_COEFFICIENTS_1","FP6_FROBENIUS_COEFFICIENTS_2","Fp6","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","_ref31","fromBigSix","t","Array","isArray","slice","_ref32","mulByFp2","_ref33","_ref34","mul1","_ref35","b1","mul01","_ref36","b0","FP12_FROBENIUS_COEFFICIENTS","Fp12Add","_ref37","_ref38","Fp12Subtract","_ref39","_ref40","Fp12Multiply","_ref41","Fp12Square","_ref42","ab","Fp4Square","a2","b2","first","second","Fp12","_ref43","_ref44","_ref45","_ref46","_ref47","_ref48","_ref49","_ref50","_ref51","fromBigTwelve","coeff","_ref52","conjugate","_ref53","mul014","_ref54","o4","mul034","_ref55","o3","e","_cyclotomicSquare","Fp12cyclotomicSquare","_cyclotomicExp","Fp12cyclotomicExp","finalExponentiate","Fp12finalExponentiate"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/ox/node_modules/@noble/curves/src/abstract/tower.ts"],"sourcesContent":["/**\n * Towered extension fields.\n * Rather than implementing a massive 12th-degree extension directly, it is more efficient\n * to build it up from smaller extensions: a tower of extensions.\n *\n * For BLS12-381, the Fp12 field is implemented as a quadratic (degree two) extension,\n * on top of a cubic (degree three) extension, on top of a quadratic extension of Fp.\n *\n * For more info: \"Pairings for beginners\" by Costello, section 7.3.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport * as mod from './modular.ts';\nimport { bitLen, bitMask, concatBytes, notImplemented } from './utils.ts';\nimport type { ProjConstructor, ProjPointType } from './weierstrass.ts';\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n\n// Fp₂ over complex plane\nexport type BigintTuple = [bigint, bigint];\nexport type Fp = bigint;\n// Finite extension field over irreducible polynominal.\n// Fp(u) / (u² - β) where β = -1\nexport type Fp2 = { c0: bigint; c1: bigint };\nexport type BigintSix = [bigint, bigint, bigint, bigint, bigint, bigint];\nexport type Fp6 = { c0: Fp2; c1: Fp2; c2: Fp2 };\nexport type Fp12 = { c0: Fp6; c1: Fp6 }; // Fp₁₂ = Fp₆² => Fp₂³, Fp₆(w) / (w² - γ) where γ = v\n// prettier-ignore\nexport type BigintTwelve = [\n  bigint, bigint, bigint, bigint, bigint, bigint,\n  bigint, bigint, bigint, bigint, bigint, bigint\n];\n\nexport type Fp2Bls = mod.IField<Fp2> & {\n  reim: (num: Fp2) => { re: Fp; im: Fp };\n  mulByB: (num: Fp2) => Fp2;\n  frobeniusMap(num: Fp2, power: number): Fp2;\n  fromBigTuple(num: [bigint, bigint]): Fp2;\n};\n\nexport type Fp12Bls = mod.IField<Fp12> & {\n  frobeniusMap(num: Fp12, power: number): Fp12;\n  mul014(num: Fp12, o0: Fp2, o1: Fp2, o4: Fp2): Fp12;\n  mul034(num: Fp12, o0: Fp2, o3: Fp2, o4: Fp2): Fp12;\n  conjugate(num: Fp12): Fp12;\n  finalExponentiate(num: Fp12): Fp12;\n  fromBigTwelve(num: BigintTwelve): Fp12;\n};\n\nfunction calcFrobeniusCoefficients<T>(\n  Fp: mod.IField<T>,\n  nonResidue: T,\n  modulus: bigint,\n  degree: number,\n  num: number = 1,\n  divisor?: number\n) {\n  const _divisor = BigInt(divisor === undefined ? degree : divisor);\n  const towerModulus: any = modulus ** BigInt(degree);\n  const res: T[][] = [];\n  for (let i = 0; i < num; i++) {\n    const a = BigInt(i + 1);\n    const powers: T[] = [];\n    for (let j = 0, qPower = _1n; j < degree; j++) {\n      const power = ((a * qPower - a) / _divisor) % towerModulus;\n      powers.push(Fp.pow(nonResidue, power));\n      qPower *= modulus;\n    }\n    res.push(powers);\n  }\n  return res;\n}\n\n// This works same at least for bls12-381, bn254 and bls12-377\nexport function psiFrobenius(\n  Fp: mod.IField<Fp>,\n  Fp2: Fp2Bls,\n  base: Fp2\n): {\n  psi: (x: Fp2, y: Fp2) => [Fp2, Fp2];\n  psi2: (x: Fp2, y: Fp2) => [Fp2, Fp2];\n  G2psi: (c: ProjConstructor<Fp2>, P: ProjPointType<Fp2>) => ProjPointType<Fp2>;\n  G2psi2: (c: ProjConstructor<Fp2>, P: ProjPointType<Fp2>) => ProjPointType<Fp2>;\n  PSI_X: Fp2;\n  PSI_Y: Fp2;\n  PSI2_X: Fp2;\n  PSI2_Y: Fp2;\n} {\n  // GLV endomorphism Ψ(P)\n  const PSI_X = Fp2.pow(base, (Fp.ORDER - _1n) / _3n); // u^((p-1)/3)\n  const PSI_Y = Fp2.pow(base, (Fp.ORDER - _1n) / _2n); // u^((p-1)/2)\n  function psi(x: Fp2, y: Fp2): [Fp2, Fp2] {\n    // This x10 faster than previous version in bls12-381\n    const x2 = Fp2.mul(Fp2.frobeniusMap(x, 1), PSI_X);\n    const y2 = Fp2.mul(Fp2.frobeniusMap(y, 1), PSI_Y);\n    return [x2, y2];\n  }\n  // Ψ²(P) endomorphism (psi2(x) = psi(psi(x)))\n  const PSI2_X = Fp2.pow(base, (Fp.ORDER ** _2n - _1n) / _3n); // u^((p^2 - 1)/3)\n  // This equals -1, which causes y to be Fp2.neg(y).\n  // But not sure if there are case when this is not true?\n  const PSI2_Y = Fp2.pow(base, (Fp.ORDER ** _2n - _1n) / _2n); // u^((p^2 - 1)/3)\n  if (!Fp2.eql(PSI2_Y, Fp2.neg(Fp2.ONE))) throw new Error('psiFrobenius: PSI2_Y!==-1');\n  function psi2(x: Fp2, y: Fp2): [Fp2, Fp2] {\n    return [Fp2.mul(x, PSI2_X), Fp2.neg(y)];\n  }\n  // Map points\n  const mapAffine =\n    <T>(fn: (x: T, y: T) => [T, T]) =>\n    (c: ProjConstructor<T>, P: ProjPointType<T>) => {\n      const affine = P.toAffine();\n      const p = fn(affine.x, affine.y);\n      return c.fromAffine({ x: p[0], y: p[1] });\n    };\n  const G2psi = mapAffine(psi);\n  const G2psi2 = mapAffine(psi2);\n  return { psi, psi2, G2psi, G2psi2, PSI_X, PSI_Y, PSI2_X, PSI2_Y };\n}\n\nexport type Tower12Opts = {\n  ORDER: bigint;\n  NONRESIDUE?: Fp;\n  // Fp2\n  FP2_NONRESIDUE: BigintTuple;\n  Fp2sqrt?: (num: Fp2) => Fp2;\n  Fp2mulByB: (num: Fp2) => Fp2;\n  // Fp12\n  Fp12cyclotomicSquare: (num: Fp12) => Fp12;\n  Fp12cyclotomicExp: (num: Fp12, n: bigint) => Fp12;\n  Fp12finalExponentiate: (num: Fp12) => Fp12;\n};\n\nexport function tower12(opts: Tower12Opts): {\n  Fp: Readonly<mod.IField<bigint> & Required<Pick<mod.IField<bigint>, 'isOdd'>>>;\n  Fp2: mod.IField<Fp2> & {\n    NONRESIDUE: Fp2;\n    fromBigTuple: (tuple: BigintTuple | bigint[]) => Fp2;\n    reim: (num: Fp2) => { re: bigint; im: bigint };\n    mulByNonresidue: (num: Fp2) => Fp2;\n    mulByB: (num: Fp2) => Fp2;\n    frobeniusMap(num: Fp2, power: number): Fp2;\n  };\n  Fp6: mod.IField<Fp6> & {\n    fromBigSix: (tuple: BigintSix) => Fp6;\n    mulByNonresidue: (num: Fp6) => Fp6;\n    frobeniusMap(num: Fp6, power: number): Fp6;\n    mul1(num: Fp6, b1: Fp2): Fp6;\n    mul01(num: Fp6, b0: Fp2, b1: Fp2): Fp6;\n    mulByFp2(lhs: Fp6, rhs: Fp2): Fp6;\n  };\n  Fp4Square: (a: Fp2, b: Fp2) => { first: Fp2; second: Fp2 };\n  Fp12: mod.IField<Fp12> & {\n    fromBigTwelve: (t: BigintTwelve) => Fp12;\n    frobeniusMap(num: Fp12, power: number): Fp12;\n    mul014(num: Fp12, o0: Fp2, o1: Fp2, o4: Fp2): Fp12;\n    mul034(num: Fp12, o0: Fp2, o3: Fp2, o4: Fp2): Fp12;\n    mulByFp2(lhs: Fp12, rhs: Fp2): Fp12;\n    conjugate(num: Fp12): Fp12;\n    finalExponentiate(num: Fp12): Fp12;\n    _cyclotomicSquare(num: Fp12): Fp12;\n    _cyclotomicExp(num: Fp12, n: bigint): Fp12;\n  };\n} {\n  const { ORDER } = opts;\n  // Fp\n  const Fp = mod.Field(ORDER);\n  const FpNONRESIDUE = Fp.create(opts.NONRESIDUE || BigInt(-1));\n  const Fpdiv2 = Fp.div(Fp.ONE, _2n); // 1/2\n\n  // Fp2\n  const FP2_FROBENIUS_COEFFICIENTS = calcFrobeniusCoefficients(Fp, FpNONRESIDUE, Fp.ORDER, 2)[0];\n  const Fp2Add = ({ c0, c1 }: Fp2, { c0: r0, c1: r1 }: Fp2) => ({\n    c0: Fp.add(c0, r0),\n    c1: Fp.add(c1, r1),\n  });\n  const Fp2Subtract = ({ c0, c1 }: Fp2, { c0: r0, c1: r1 }: Fp2) => ({\n    c0: Fp.sub(c0, r0),\n    c1: Fp.sub(c1, r1),\n  });\n  const Fp2Multiply = ({ c0, c1 }: Fp2, rhs: Fp2) => {\n    if (typeof rhs === 'bigint') return { c0: Fp.mul(c0, rhs), c1: Fp.mul(c1, rhs) };\n    // (a+bi)(c+di) = (ac−bd) + (ad+bc)i\n    const { c0: r0, c1: r1 } = rhs;\n    let t1 = Fp.mul(c0, r0); // c0 * o0\n    let t2 = Fp.mul(c1, r1); // c1 * o1\n    // (T1 - T2) + ((c0 + c1) * (r0 + r1) - (T1 + T2))*i\n    const o0 = Fp.sub(t1, t2);\n    const o1 = Fp.sub(Fp.mul(Fp.add(c0, c1), Fp.add(r0, r1)), Fp.add(t1, t2));\n    return { c0: o0, c1: o1 };\n  };\n  const Fp2Square = ({ c0, c1 }: Fp2) => {\n    const a = Fp.add(c0, c1);\n    const b = Fp.sub(c0, c1);\n    const c = Fp.add(c0, c0);\n    return { c0: Fp.mul(a, b), c1: Fp.mul(c, c1) };\n  };\n  type Fp2Utils = {\n    NONRESIDUE: Fp2;\n    fromBigTuple: (tuple: BigintTuple | bigint[]) => Fp2;\n    reim: (num: Fp2) => { re: bigint; im: bigint };\n    mulByNonresidue: (num: Fp2) => Fp2;\n    mulByB: (num: Fp2) => Fp2;\n    frobeniusMap(num: Fp2, power: number): Fp2;\n  };\n  const Fp2fromBigTuple = (tuple: BigintTuple | bigint[]) => {\n    if (tuple.length !== 2) throw new Error('invalid tuple');\n    const fps = tuple.map((n) => Fp.create(n)) as [Fp, Fp];\n    return { c0: fps[0], c1: fps[1] };\n  };\n\n  const FP2_ORDER = ORDER * ORDER;\n  const Fp2Nonresidue = Fp2fromBigTuple(opts.FP2_NONRESIDUE);\n  const Fp2: mod.IField<Fp2> & Fp2Utils = {\n    ORDER: FP2_ORDER,\n    isLE: Fp.isLE,\n    NONRESIDUE: Fp2Nonresidue,\n    BITS: bitLen(FP2_ORDER),\n    BYTES: Math.ceil(bitLen(FP2_ORDER) / 8),\n    MASK: bitMask(bitLen(FP2_ORDER)),\n    ZERO: { c0: Fp.ZERO, c1: Fp.ZERO },\n    ONE: { c0: Fp.ONE, c1: Fp.ZERO },\n    create: (num) => num,\n    isValid: ({ c0, c1 }) => typeof c0 === 'bigint' && typeof c1 === 'bigint',\n    is0: ({ c0, c1 }) => Fp.is0(c0) && Fp.is0(c1),\n    eql: ({ c0, c1 }: Fp2, { c0: r0, c1: r1 }: Fp2) => Fp.eql(c0, r0) && Fp.eql(c1, r1),\n    neg: ({ c0, c1 }) => ({ c0: Fp.neg(c0), c1: Fp.neg(c1) }),\n    pow: (num, power) => mod.FpPow(Fp2, num, power),\n    invertBatch: (nums) => mod.FpInvertBatch(Fp2, nums),\n    // Normalized\n    add: Fp2Add,\n    sub: Fp2Subtract,\n    mul: Fp2Multiply,\n    sqr: Fp2Square,\n    // NonNormalized stuff\n    addN: Fp2Add,\n    subN: Fp2Subtract,\n    mulN: Fp2Multiply,\n    sqrN: Fp2Square,\n    // Why inversion for bigint inside Fp instead of Fp2? it is even used in that context?\n    div: (lhs, rhs) =>\n      Fp2.mul(lhs, typeof rhs === 'bigint' ? Fp.inv(Fp.create(rhs)) : Fp2.inv(rhs)),\n    inv: ({ c0: a, c1: b }) => {\n      // We wish to find the multiplicative inverse of a nonzero\n      // element a + bu in Fp2. We leverage an identity\n      //\n      // (a + bu)(a - bu) = a² + b²\n      //\n      // which holds because u² = -1. This can be rewritten as\n      //\n      // (a + bu)(a - bu)/(a² + b²) = 1\n      //\n      // because a² + b² = 0 has no nonzero solutions for (a, b).\n      // This gives that (a - bu)/(a² + b²) is the inverse\n      // of (a + bu). Importantly, this can be computing using\n      // only a single inversion in Fp.\n      const factor = Fp.inv(Fp.create(a * a + b * b));\n      return { c0: Fp.mul(factor, Fp.create(a)), c1: Fp.mul(factor, Fp.create(-b)) };\n    },\n    sqrt: (num) => {\n      if (opts.Fp2sqrt) return opts.Fp2sqrt(num);\n      // This is generic for all quadratic extensions (Fp2)\n      const { c0, c1 } = num;\n      if (Fp.is0(c1)) {\n        // if c0 is quadratic residue\n        if (mod.FpLegendre(Fp, c0) === 1) return Fp2.create({ c0: Fp.sqrt(c0), c1: Fp.ZERO });\n        else return Fp2.create({ c0: Fp.ZERO, c1: Fp.sqrt(Fp.div(c0, FpNONRESIDUE)) });\n      }\n      const a = Fp.sqrt(Fp.sub(Fp.sqr(c0), Fp.mul(Fp.sqr(c1), FpNONRESIDUE)));\n      let d = Fp.mul(Fp.add(a, c0), Fpdiv2);\n      const legendre = mod.FpLegendre(Fp, d);\n      // -1, Quadratic non residue\n      if (legendre === -1) d = Fp.sub(d, a);\n      const a0 = Fp.sqrt(d);\n      const candidateSqrt = Fp2.create({ c0: a0, c1: Fp.div(Fp.mul(c1, Fpdiv2), a0) });\n      if (!Fp2.eql(Fp2.sqr(candidateSqrt), num)) throw new Error('Cannot find square root');\n      // Normalize root: at this point candidateSqrt ** 2 = num, but also -candidateSqrt ** 2 = num\n      const x1 = candidateSqrt;\n      const x2 = Fp2.neg(x1);\n      const { re: re1, im: im1 } = Fp2.reim(x1);\n      const { re: re2, im: im2 } = Fp2.reim(x2);\n      if (im1 > im2 || (im1 === im2 && re1 > re2)) return x1;\n      return x2;\n    },\n    // Same as sgn0_m_eq_2 in RFC 9380\n    isOdd: (x: Fp2) => {\n      const { re: x0, im: x1 } = Fp2.reim(x);\n      const sign_0 = x0 % _2n;\n      const zero_0 = x0 === _0n;\n      const sign_1 = x1 % _2n;\n      return BigInt(sign_0 || (zero_0 && sign_1)) == _1n;\n    },\n    // Bytes util\n    fromBytes(b: Uint8Array): Fp2 {\n      if (b.length !== Fp2.BYTES) throw new Error('fromBytes invalid length=' + b.length);\n      return { c0: Fp.fromBytes(b.subarray(0, Fp.BYTES)), c1: Fp.fromBytes(b.subarray(Fp.BYTES)) };\n    },\n    toBytes: ({ c0, c1 }) => concatBytes(Fp.toBytes(c0), Fp.toBytes(c1)),\n    cmov: ({ c0, c1 }, { c0: r0, c1: r1 }, c) => ({\n      c0: Fp.cmov(c0, r0, c),\n      c1: Fp.cmov(c1, r1, c),\n    }),\n    reim: ({ c0, c1 }) => ({ re: c0, im: c1 }),\n    // multiply by u + 1\n    mulByNonresidue: ({ c0, c1 }) => Fp2.mul({ c0, c1 }, Fp2Nonresidue),\n    mulByB: opts.Fp2mulByB,\n    fromBigTuple: Fp2fromBigTuple,\n    frobeniusMap: ({ c0, c1 }, power: number): Fp2 => ({\n      c0,\n      c1: Fp.mul(c1, FP2_FROBENIUS_COEFFICIENTS[power % 2]),\n    }),\n  };\n  // Fp6\n  const Fp6Add = ({ c0, c1, c2 }: Fp6, { c0: r0, c1: r1, c2: r2 }: Fp6) => ({\n    c0: Fp2.add(c0, r0),\n    c1: Fp2.add(c1, r1),\n    c2: Fp2.add(c2, r2),\n  });\n  const Fp6Subtract = ({ c0, c1, c2 }: Fp6, { c0: r0, c1: r1, c2: r2 }: Fp6) => ({\n    c0: Fp2.sub(c0, r0),\n    c1: Fp2.sub(c1, r1),\n    c2: Fp2.sub(c2, r2),\n  });\n  const Fp6Multiply = ({ c0, c1, c2 }: Fp6, rhs: Fp6 | bigint) => {\n    if (typeof rhs === 'bigint') {\n      return {\n        c0: Fp2.mul(c0, rhs),\n        c1: Fp2.mul(c1, rhs),\n        c2: Fp2.mul(c2, rhs),\n      };\n    }\n    const { c0: r0, c1: r1, c2: r2 } = rhs;\n    const t0 = Fp2.mul(c0, r0); // c0 * o0\n    const t1 = Fp2.mul(c1, r1); // c1 * o1\n    const t2 = Fp2.mul(c2, r2); // c2 * o2\n    return {\n      // t0 + (c1 + c2) * (r1 * r2) - (T1 + T2) * (u + 1)\n      c0: Fp2.add(\n        t0,\n        Fp2.mulByNonresidue(Fp2.sub(Fp2.mul(Fp2.add(c1, c2), Fp2.add(r1, r2)), Fp2.add(t1, t2)))\n      ),\n      // (c0 + c1) * (r0 + r1) - (T0 + T1) + T2 * (u + 1)\n      c1: Fp2.add(\n        Fp2.sub(Fp2.mul(Fp2.add(c0, c1), Fp2.add(r0, r1)), Fp2.add(t0, t1)),\n        Fp2.mulByNonresidue(t2)\n      ),\n      // T1 + (c0 + c2) * (r0 + r2) - T0 + T2\n      c2: Fp2.sub(Fp2.add(t1, Fp2.mul(Fp2.add(c0, c2), Fp2.add(r0, r2))), Fp2.add(t0, t2)),\n    };\n  };\n  const Fp6Square = ({ c0, c1, c2 }: Fp6) => {\n    let t0 = Fp2.sqr(c0); // c0²\n    let t1 = Fp2.mul(Fp2.mul(c0, c1), _2n); // 2 * c0 * c1\n    let t3 = Fp2.mul(Fp2.mul(c1, c2), _2n); // 2 * c1 * c2\n    let t4 = Fp2.sqr(c2); // c2²\n    return {\n      c0: Fp2.add(Fp2.mulByNonresidue(t3), t0), // T3 * (u + 1) + T0\n      c1: Fp2.add(Fp2.mulByNonresidue(t4), t1), // T4 * (u + 1) + T1\n      // T1 + (c0 - c1 + c2)² + T3 - T0 - T4\n      c2: Fp2.sub(Fp2.sub(Fp2.add(Fp2.add(t1, Fp2.sqr(Fp2.add(Fp2.sub(c0, c1), c2))), t3), t0), t4),\n    };\n  };\n  type Fp6Utils = {\n    fromBigSix: (tuple: BigintSix) => Fp6;\n    mulByNonresidue: (num: Fp6) => Fp6;\n    frobeniusMap(num: Fp6, power: number): Fp6;\n    mul1(num: Fp6, b1: Fp2): Fp6;\n    mul01(num: Fp6, b0: Fp2, b1: Fp2): Fp6;\n    mulByFp2(lhs: Fp6, rhs: Fp2): Fp6;\n  };\n\n  const [FP6_FROBENIUS_COEFFICIENTS_1, FP6_FROBENIUS_COEFFICIENTS_2] = calcFrobeniusCoefficients(\n    Fp2,\n    Fp2Nonresidue,\n    Fp.ORDER,\n    6,\n    2,\n    3\n  );\n\n  const Fp6: mod.IField<Fp6> & Fp6Utils = {\n    ORDER: Fp2.ORDER, // TODO: unused, but need to verify\n    isLE: Fp2.isLE,\n    BITS: 3 * Fp2.BITS,\n    BYTES: 3 * Fp2.BYTES,\n    MASK: bitMask(3 * Fp2.BITS),\n    ZERO: { c0: Fp2.ZERO, c1: Fp2.ZERO, c2: Fp2.ZERO },\n    ONE: { c0: Fp2.ONE, c1: Fp2.ZERO, c2: Fp2.ZERO },\n    create: (num) => num,\n    isValid: ({ c0, c1, c2 }) => Fp2.isValid(c0) && Fp2.isValid(c1) && Fp2.isValid(c2),\n    is0: ({ c0, c1, c2 }) => Fp2.is0(c0) && Fp2.is0(c1) && Fp2.is0(c2),\n    neg: ({ c0, c1, c2 }) => ({ c0: Fp2.neg(c0), c1: Fp2.neg(c1), c2: Fp2.neg(c2) }),\n    eql: ({ c0, c1, c2 }, { c0: r0, c1: r1, c2: r2 }) =>\n      Fp2.eql(c0, r0) && Fp2.eql(c1, r1) && Fp2.eql(c2, r2),\n    sqrt: notImplemented,\n    // Do we need division by bigint at all? Should be done via order:\n    div: (lhs, rhs) =>\n      Fp6.mul(lhs, typeof rhs === 'bigint' ? Fp.inv(Fp.create(rhs)) : Fp6.inv(rhs)),\n    pow: (num, power) => mod.FpPow(Fp6, num, power),\n    invertBatch: (nums) => mod.FpInvertBatch(Fp6, nums),\n    // Normalized\n    add: Fp6Add,\n    sub: Fp6Subtract,\n    mul: Fp6Multiply,\n    sqr: Fp6Square,\n    // NonNormalized stuff\n    addN: Fp6Add,\n    subN: Fp6Subtract,\n    mulN: Fp6Multiply,\n    sqrN: Fp6Square,\n\n    inv: ({ c0, c1, c2 }) => {\n      let t0 = Fp2.sub(Fp2.sqr(c0), Fp2.mulByNonresidue(Fp2.mul(c2, c1))); // c0² - c2 * c1 * (u + 1)\n      let t1 = Fp2.sub(Fp2.mulByNonresidue(Fp2.sqr(c2)), Fp2.mul(c0, c1)); // c2² * (u + 1) - c0 * c1\n      let t2 = Fp2.sub(Fp2.sqr(c1), Fp2.mul(c0, c2)); // c1² - c0 * c2\n      // 1/(((c2 * T1 + c1 * T2) * v) + c0 * T0)\n      let t4 = Fp2.inv(\n        Fp2.add(Fp2.mulByNonresidue(Fp2.add(Fp2.mul(c2, t1), Fp2.mul(c1, t2))), Fp2.mul(c0, t0))\n      );\n      return { c0: Fp2.mul(t4, t0), c1: Fp2.mul(t4, t1), c2: Fp2.mul(t4, t2) };\n    },\n    // Bytes utils\n    fromBytes: (b: Uint8Array): Fp6 => {\n      if (b.length !== Fp6.BYTES) throw new Error('fromBytes invalid length=' + b.length);\n      return {\n        c0: Fp2.fromBytes(b.subarray(0, Fp2.BYTES)),\n        c1: Fp2.fromBytes(b.subarray(Fp2.BYTES, 2 * Fp2.BYTES)),\n        c2: Fp2.fromBytes(b.subarray(2 * Fp2.BYTES)),\n      };\n    },\n    toBytes: ({ c0, c1, c2 }): Uint8Array =>\n      concatBytes(Fp2.toBytes(c0), Fp2.toBytes(c1), Fp2.toBytes(c2)),\n    cmov: ({ c0, c1, c2 }: Fp6, { c0: r0, c1: r1, c2: r2 }: Fp6, c) => ({\n      c0: Fp2.cmov(c0, r0, c),\n      c1: Fp2.cmov(c1, r1, c),\n      c2: Fp2.cmov(c2, r2, c),\n    }),\n    fromBigSix: (t: BigintSix): Fp6 => {\n      if (!Array.isArray(t) || t.length !== 6) throw new Error('invalid Fp6 usage');\n      return {\n        c0: Fp2.fromBigTuple(t.slice(0, 2)),\n        c1: Fp2.fromBigTuple(t.slice(2, 4)),\n        c2: Fp2.fromBigTuple(t.slice(4, 6)),\n      };\n    },\n    frobeniusMap: ({ c0, c1, c2 }, power: number) => ({\n      c0: Fp2.frobeniusMap(c0, power),\n      c1: Fp2.mul(Fp2.frobeniusMap(c1, power), FP6_FROBENIUS_COEFFICIENTS_1[power % 6]),\n      c2: Fp2.mul(Fp2.frobeniusMap(c2, power), FP6_FROBENIUS_COEFFICIENTS_2[power % 6]),\n    }),\n    mulByFp2: ({ c0, c1, c2 }, rhs: Fp2): Fp6 => ({\n      c0: Fp2.mul(c0, rhs),\n      c1: Fp2.mul(c1, rhs),\n      c2: Fp2.mul(c2, rhs),\n    }),\n    mulByNonresidue: ({ c0, c1, c2 }) => ({ c0: Fp2.mulByNonresidue(c2), c1: c0, c2: c1 }),\n    // Sparse multiplication\n    mul1: ({ c0, c1, c2 }, b1: Fp2): Fp6 => ({\n      c0: Fp2.mulByNonresidue(Fp2.mul(c2, b1)),\n      c1: Fp2.mul(c0, b1),\n      c2: Fp2.mul(c1, b1),\n    }),\n    // Sparse multiplication\n    mul01({ c0, c1, c2 }, b0: Fp2, b1: Fp2): Fp6 {\n      let t0 = Fp2.mul(c0, b0); // c0 * b0\n      let t1 = Fp2.mul(c1, b1); // c1 * b1\n      return {\n        // ((c1 + c2) * b1 - T1) * (u + 1) + T0\n        c0: Fp2.add(Fp2.mulByNonresidue(Fp2.sub(Fp2.mul(Fp2.add(c1, c2), b1), t1)), t0),\n        // (b0 + b1) * (c0 + c1) - T0 - T1\n        c1: Fp2.sub(Fp2.sub(Fp2.mul(Fp2.add(b0, b1), Fp2.add(c0, c1)), t0), t1),\n        // (c0 + c2) * b0 - T0 + T1\n        c2: Fp2.add(Fp2.sub(Fp2.mul(Fp2.add(c0, c2), b0), t0), t1),\n      };\n    },\n  };\n\n  // Fp12\n  const FP12_FROBENIUS_COEFFICIENTS = calcFrobeniusCoefficients(\n    Fp2,\n    Fp2Nonresidue,\n    Fp.ORDER,\n    12,\n    1,\n    6\n  )[0];\n\n  const Fp12Add = ({ c0, c1 }: Fp12, { c0: r0, c1: r1 }: Fp12) => ({\n    c0: Fp6.add(c0, r0),\n    c1: Fp6.add(c1, r1),\n  });\n  const Fp12Subtract = ({ c0, c1 }: Fp12, { c0: r0, c1: r1 }: Fp12) => ({\n    c0: Fp6.sub(c0, r0),\n    c1: Fp6.sub(c1, r1),\n  });\n  const Fp12Multiply = ({ c0, c1 }: Fp12, rhs: Fp12 | bigint) => {\n    if (typeof rhs === 'bigint') return { c0: Fp6.mul(c0, rhs), c1: Fp6.mul(c1, rhs) };\n    let { c0: r0, c1: r1 } = rhs;\n    let t1 = Fp6.mul(c0, r0); // c0 * r0\n    let t2 = Fp6.mul(c1, r1); // c1 * r1\n    return {\n      c0: Fp6.add(t1, Fp6.mulByNonresidue(t2)), // T1 + T2 * v\n      // (c0 + c1) * (r0 + r1) - (T1 + T2)\n      c1: Fp6.sub(Fp6.mul(Fp6.add(c0, c1), Fp6.add(r0, r1)), Fp6.add(t1, t2)),\n    };\n  };\n  const Fp12Square = ({ c0, c1 }: Fp12) => {\n    let ab = Fp6.mul(c0, c1); // c0 * c1\n    return {\n      // (c1 * v + c0) * (c0 + c1) - AB - AB * v\n      c0: Fp6.sub(\n        Fp6.sub(Fp6.mul(Fp6.add(Fp6.mulByNonresidue(c1), c0), Fp6.add(c0, c1)), ab),\n        Fp6.mulByNonresidue(ab)\n      ),\n      c1: Fp6.add(ab, ab),\n    }; // AB + AB\n  };\n  function Fp4Square(a: Fp2, b: Fp2): { first: Fp2; second: Fp2 } {\n    const a2 = Fp2.sqr(a);\n    const b2 = Fp2.sqr(b);\n    return {\n      first: Fp2.add(Fp2.mulByNonresidue(b2), a2), // b² * Nonresidue + a²\n      second: Fp2.sub(Fp2.sub(Fp2.sqr(Fp2.add(a, b)), a2), b2), // (a + b)² - a² - b²\n    };\n  }\n  type Fp12Utils = {\n    fromBigTwelve: (t: BigintTwelve) => Fp12;\n    frobeniusMap(num: Fp12, power: number): Fp12;\n    mul014(num: Fp12, o0: Fp2, o1: Fp2, o4: Fp2): Fp12;\n    mul034(num: Fp12, o0: Fp2, o3: Fp2, o4: Fp2): Fp12;\n    mulByFp2(lhs: Fp12, rhs: Fp2): Fp12;\n    conjugate(num: Fp12): Fp12;\n    finalExponentiate(num: Fp12): Fp12;\n    _cyclotomicSquare(num: Fp12): Fp12;\n    _cyclotomicExp(num: Fp12, n: bigint): Fp12;\n  };\n\n  const Fp12: mod.IField<Fp12> & Fp12Utils = {\n    ORDER: Fp2.ORDER, // TODO: unused, but need to verify\n    isLE: Fp6.isLE,\n    BITS: 2 * Fp6.BITS,\n    BYTES: 2 * Fp6.BYTES,\n    MASK: bitMask(2 * Fp6.BITS),\n    ZERO: { c0: Fp6.ZERO, c1: Fp6.ZERO },\n    ONE: { c0: Fp6.ONE, c1: Fp6.ZERO },\n    create: (num) => num,\n    isValid: ({ c0, c1 }) => Fp6.isValid(c0) && Fp6.isValid(c1),\n    is0: ({ c0, c1 }) => Fp6.is0(c0) && Fp6.is0(c1),\n    neg: ({ c0, c1 }) => ({ c0: Fp6.neg(c0), c1: Fp6.neg(c1) }),\n    eql: ({ c0, c1 }, { c0: r0, c1: r1 }) => Fp6.eql(c0, r0) && Fp6.eql(c1, r1),\n    sqrt: notImplemented,\n    inv: ({ c0, c1 }) => {\n      let t = Fp6.inv(Fp6.sub(Fp6.sqr(c0), Fp6.mulByNonresidue(Fp6.sqr(c1)))); // 1 / (c0² - c1² * v)\n      return { c0: Fp6.mul(c0, t), c1: Fp6.neg(Fp6.mul(c1, t)) }; // ((C0 * T) * T) + (-C1 * T) * w\n    },\n    div: (lhs, rhs) =>\n      Fp12.mul(lhs, typeof rhs === 'bigint' ? Fp.inv(Fp.create(rhs)) : Fp12.inv(rhs)),\n    pow: (num, power) => mod.FpPow(Fp12, num, power),\n    invertBatch: (nums) => mod.FpInvertBatch(Fp12, nums),\n    // Normalized\n    add: Fp12Add,\n    sub: Fp12Subtract,\n    mul: Fp12Multiply,\n    sqr: Fp12Square,\n    // NonNormalized stuff\n    addN: Fp12Add,\n    subN: Fp12Subtract,\n    mulN: Fp12Multiply,\n    sqrN: Fp12Square,\n\n    // Bytes utils\n    fromBytes: (b: Uint8Array): Fp12 => {\n      if (b.length !== Fp12.BYTES) throw new Error('fromBytes invalid length=' + b.length);\n      return {\n        c0: Fp6.fromBytes(b.subarray(0, Fp6.BYTES)),\n        c1: Fp6.fromBytes(b.subarray(Fp6.BYTES)),\n      };\n    },\n    toBytes: ({ c0, c1 }): Uint8Array => concatBytes(Fp6.toBytes(c0), Fp6.toBytes(c1)),\n    cmov: ({ c0, c1 }, { c0: r0, c1: r1 }, c) => ({\n      c0: Fp6.cmov(c0, r0, c),\n      c1: Fp6.cmov(c1, r1, c),\n    }),\n    // Utils\n    // toString() {\n    //   return '' + 'Fp12(' + this.c0 + this.c1 + '* w');\n    // },\n    // fromTuple(c: [Fp6, Fp6]) {\n    //   return new Fp12(...c);\n    // }\n    fromBigTwelve: (t: BigintTwelve): Fp12 => ({\n      c0: Fp6.fromBigSix(t.slice(0, 6) as BigintSix),\n      c1: Fp6.fromBigSix(t.slice(6, 12) as BigintSix),\n    }),\n    // Raises to q**i -th power\n    frobeniusMap(lhs, power: number) {\n      const { c0, c1, c2 } = Fp6.frobeniusMap(lhs.c1, power);\n      const coeff = FP12_FROBENIUS_COEFFICIENTS[power % 12];\n      return {\n        c0: Fp6.frobeniusMap(lhs.c0, power),\n        c1: Fp6.create({\n          c0: Fp2.mul(c0, coeff),\n          c1: Fp2.mul(c1, coeff),\n          c2: Fp2.mul(c2, coeff),\n        }),\n      };\n    },\n    mulByFp2: ({ c0, c1 }, rhs: Fp2): Fp12 => ({\n      c0: Fp6.mulByFp2(c0, rhs),\n      c1: Fp6.mulByFp2(c1, rhs),\n    }),\n    conjugate: ({ c0, c1 }): Fp12 => ({ c0, c1: Fp6.neg(c1) }),\n    // Sparse multiplication\n    mul014: ({ c0, c1 }, o0: Fp2, o1: Fp2, o4: Fp2) => {\n      let t0 = Fp6.mul01(c0, o0, o1);\n      let t1 = Fp6.mul1(c1, o4);\n      return {\n        c0: Fp6.add(Fp6.mulByNonresidue(t1), t0), // T1 * v + T0\n        // (c1 + c0) * [o0, o1+o4] - T0 - T1\n        c1: Fp6.sub(Fp6.sub(Fp6.mul01(Fp6.add(c1, c0), o0, Fp2.add(o1, o4)), t0), t1),\n      };\n    },\n    mul034: ({ c0, c1 }, o0: Fp2, o3: Fp2, o4: Fp2) => {\n      const a = Fp6.create({\n        c0: Fp2.mul(c0.c0, o0),\n        c1: Fp2.mul(c0.c1, o0),\n        c2: Fp2.mul(c0.c2, o0),\n      });\n      const b = Fp6.mul01(c1, o3, o4);\n      const e = Fp6.mul01(Fp6.add(c0, c1), Fp2.add(o0, o3), o4);\n      return {\n        c0: Fp6.add(Fp6.mulByNonresidue(b), a),\n        c1: Fp6.sub(e, Fp6.add(a, b)),\n      };\n    },\n\n    // A cyclotomic group is a subgroup of Fp^n defined by\n    //   GΦₙ(p) = {α ∈ Fpⁿ : α^Φₙ(p) = 1}\n    // The result of any pairing is in a cyclotomic subgroup\n    // https://eprint.iacr.org/2009/565.pdf\n    _cyclotomicSquare: opts.Fp12cyclotomicSquare,\n    _cyclotomicExp: opts.Fp12cyclotomicExp,\n    // https://eprint.iacr.org/2010/354.pdf\n    // https://eprint.iacr.org/2009/565.pdf\n    finalExponentiate: opts.Fp12finalExponentiate,\n  };\n\n  return { Fp, Fp2, Fp6, Fp4Square, Fp12 };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}