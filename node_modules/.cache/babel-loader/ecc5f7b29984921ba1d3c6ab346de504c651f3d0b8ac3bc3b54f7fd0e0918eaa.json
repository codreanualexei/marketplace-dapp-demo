{"ast":null,"code":"import _awaitAsyncGenerator from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _wrapAsyncGenerator from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\n// utility for whatwg streams\nexport function isAsyncIterable(object) {\n  return object[Symbol.asyncIterator] != null;\n}\nexport function asyncIterableFromStream(_x) {\n  return _asyncIterableFromStream.apply(this, arguments);\n}\nfunction _asyncIterableFromStream() {\n  _asyncIterableFromStream = _wrapAsyncGenerator(function* (stream) {\n    const reader = stream.getReader();\n    try {\n      while (true) {\n        const {\n          done,\n          value\n        } = yield _awaitAsyncGenerator(reader.read());\n        if (done) {\n          return;\n        }\n        yield value;\n      }\n    } finally {\n      reader.releaseLock();\n    }\n  });\n  return _asyncIterableFromStream.apply(this, arguments);\n}\nexport function ensureAsyncIterable(streamLike) {\n  if (isAsyncIterable(streamLike)) {\n    return streamLike;\n  } else {\n    return asyncIterableFromStream(streamLike);\n  }\n}","map":{"version":3,"names":["isAsyncIterable","object","Symbol","asyncIterator","asyncIterableFromStream","_x","_asyncIterableFromStream","apply","arguments","_wrapAsyncGenerator","stream","reader","getReader","done","value","_awaitAsyncGenerator","read","releaseLock","ensureAsyncIterable","streamLike"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@msgpack/msgpack/src/utils/stream.ts"],"sourcesContent":["// utility for whatwg streams\n\n// The living standard of whatwg streams says\n// ReadableStream is also AsyncIterable, but\n// as of June 2019, no browser implements it.\n// See https://streams.spec.whatwg.org/ for details\nexport type ReadableStreamLike<T> = AsyncIterable<T> | ReadableStream<T>;\n\nexport function isAsyncIterable<T>(object: ReadableStreamLike<T>): object is AsyncIterable<T> {\n  return (object as any)[Symbol.asyncIterator] != null;\n}\n\nexport async function* asyncIterableFromStream<T>(stream: ReadableStream<T>): AsyncIterable<T> {\n  const reader = stream.getReader();\n\n  try {\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) {\n        return;\n      }\n      yield value;\n    }\n  } finally {\n    reader.releaseLock();\n  }\n}\n\nexport function ensureAsyncIterable<T>(streamLike: ReadableStreamLike<T>): AsyncIterable<T> {\n  if (isAsyncIterable(streamLike)) {\n    return streamLike;\n  } else {\n    return asyncIterableFromStream(streamLike);\n  }\n}\n"],"mappings":";;AAAA;AAQA,OAAM,SAAUA,eAAeA,CAAIC,MAA6B;EAC9D,OAAQA,MAAc,CAACC,MAAM,CAACC,aAAa,CAAC,IAAI,IAAI;AACtD;AAEA,gBAAuBC,uBAAuBA,CAAAC,EAAA;EAAA,OAAAC,wBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAc7C,SAAAF,yBAAA;EAAAA,wBAAA,GAAAG,mBAAA,CAdM,WAA2CC,MAAyB;IACzE,MAAMC,MAAM,GAAGD,MAAM,CAACE,SAAS,EAAE;IAEjC,IAAI;MACF,OAAO,IAAI,EAAE;QACX,MAAM;UAAEC,IAAI;UAAEC;QAAK,CAAE,SAAAC,oBAAA,CAASJ,MAAM,CAACK,IAAI,EAAE;QAC3C,IAAIH,IAAI,EAAE;UACR;QACF;QACA,MAAMC,KAAK;MACb;IACF,CAAC,SAAS;MACRH,MAAM,CAACM,WAAW,EAAE;IACtB;EACF,CAAC;EAAA,OAAAX,wBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,OAAM,SAAUU,mBAAmBA,CAAIC,UAAiC;EACtE,IAAInB,eAAe,CAACmB,UAAU,CAAC,EAAE;IAC/B,OAAOA,UAAU;EACnB,CAAC,MAAM;IACL,OAAOf,uBAAuB,CAACe,UAAU,CAAC;EAC5C;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}