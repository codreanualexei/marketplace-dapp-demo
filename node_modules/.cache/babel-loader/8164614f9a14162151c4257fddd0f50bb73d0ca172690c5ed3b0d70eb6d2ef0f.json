{"ast":null,"code":"import { ConstantsUtil as CommonConstantsUtil } from '@reown/appkit-common';\nimport { ChainController } from '../controllers/ChainController.js';\nimport { ConnectorControllerUtil } from './ConnectorControllerUtil.js';\nimport { ConstantsUtil } from './ConstantsUtil.js';\n/**\n * Returns the array of chains to disconnect from the connector with the given namespace.\n * If no namespace is provided, it returns all chains.\n * @param namespace - The namespace of the connector to disconnect from.\n * @returns An array of chains to disconnect.\n */\nexport function getChainsToDisconnect(namespace) {\n  const namespaces = Array.from(ChainController.state.chains.keys());\n  let chains = [];\n  if (namespace) {\n    chains.push([namespace, ChainController.state.chains.get(namespace)]);\n    if (ConnectorControllerUtil.checkNamespaceConnectorId(namespace, CommonConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n      namespaces.forEach(ns => {\n        if (ns !== namespace && ConnectorControllerUtil.checkNamespaceConnectorId(ns, CommonConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n          chains.push([ns, ChainController.state.chains.get(ns)]);\n        }\n      });\n    } else if (ConnectorControllerUtil.checkNamespaceConnectorId(namespace, CommonConstantsUtil.CONNECTOR_ID.AUTH)) {\n      namespaces.forEach(ns => {\n        if (ns !== namespace && ConnectorControllerUtil.checkNamespaceConnectorId(ns, CommonConstantsUtil.CONNECTOR_ID.AUTH)) {\n          chains.push([ns, ChainController.state.chains.get(ns)]);\n        }\n      });\n    }\n  } else {\n    chains = Array.from(ChainController.state.chains.entries());\n  }\n  return chains;\n}\n/**\n * Get the active network token address\n * @returns The active network token address\n */\nexport function getActiveNetworkTokenAddress() {\n  const namespace = ChainController.state.activeCaipNetwork?.chainNamespace || 'eip155';\n  const chainId = ChainController.state.activeCaipNetwork?.id || 1;\n  const address = ConstantsUtil.NATIVE_TOKEN_ADDRESS[namespace];\n  return `${namespace}:${chainId}:${address}`;\n}\n/**\n * Get the preferred account type for a given namespace\n * @param namespace - The namespace of the account\n * @returns The preferred account type\n */\nexport function getPreferredAccountType(namespace) {\n  const preferredAccountType = ChainController.getAccountData(namespace)?.preferredAccountType;\n  return preferredAccountType;\n}\n/**\n * Get the active CAIP network for a given chain namespace, if no namespace is provided, it returns the active CAIP network\n * @param chainNamespace - The chain namespace to get the active CAIP network for\n * @returns The active CAIP network\n */\nexport function getActiveCaipNetwork(chainNamespace) {\n  if (chainNamespace) {\n    return ChainController.state.chains.get(chainNamespace)?.networkState?.caipNetwork;\n  }\n  return ChainController.state.activeCaipNetwork;\n}","map":{"version":3,"names":["ConstantsUtil","CommonConstantsUtil","ChainController","ConnectorControllerUtil","getChainsToDisconnect","namespace","namespaces","Array","from","state","chains","keys","push","get","checkNamespaceConnectorId","CONNECTOR_ID","WALLET_CONNECT","forEach","ns","AUTH","entries","getActiveNetworkTokenAddress","activeCaipNetwork","chainNamespace","chainId","id","address","NATIVE_TOKEN_ADDRESS","getPreferredAccountType","preferredAccountType","getAccountData","getActiveCaipNetwork","networkState","caipNetwork"],"sources":["../../../../src/utils/ChainControllerUtil.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,aAAa,IAAIC,mBAAmB,QAAQ,sBAAsB;AAG3E,SAASC,eAAe,QAAQ,mCAAmC;AACnE,SAASC,uBAAuB,QAAQ,8BAA8B;AACtE,SAASH,aAAa,QAAQ,oBAAoB;AAGlD;;;;;;AAMA,OAAM,SAAUI,qBAAqBA,CAACC,SAA0B;EAC9D,MAAMC,UAAU,GAAGC,KAAK,CAACC,IAAI,CAACN,eAAe,CAACO,KAAK,CAACC,MAAM,CAACC,IAAI,EAAE,CAAC;EAClE,IAAID,MAAM,GAAqC,EAAE;EAEjD,IAAIL,SAAS,EAAE;IACbK,MAAM,CAACE,IAAI,CAAC,CAACP,SAAS,EAAEH,eAAe,CAACO,KAAK,CAACC,MAAM,CAACG,GAAG,CAACR,SAAS,CAAiB,CAAC,CAAC;IAErF,IACEF,uBAAuB,CAACW,yBAAyB,CAC/CT,SAAS,EACTJ,mBAAmB,CAACc,YAAY,CAACC,cAAc,CAChD,EACD;MACAV,UAAU,CAACW,OAAO,CAACC,EAAE,IAAG;QACtB,IACEA,EAAE,KAAKb,SAAS,IAChBF,uBAAuB,CAACW,yBAAyB,CAC/CI,EAAE,EACFjB,mBAAmB,CAACc,YAAY,CAACC,cAAc,CAChD,EACD;UACAN,MAAM,CAACE,IAAI,CAAC,CAACM,EAAE,EAAEhB,eAAe,CAACO,KAAK,CAACC,MAAM,CAACG,GAAG,CAACK,EAAE,CAAiB,CAAC,CAAC;QACzE;MACF,CAAC,CAAC;IACJ,CAAC,MAAM,IACLf,uBAAuB,CAACW,yBAAyB,CAC/CT,SAAS,EACTJ,mBAAmB,CAACc,YAAY,CAACI,IAAI,CACtC,EACD;MACAb,UAAU,CAACW,OAAO,CAACC,EAAE,IAAG;QACtB,IACEA,EAAE,KAAKb,SAAS,IAChBF,uBAAuB,CAACW,yBAAyB,CAC/CI,EAAE,EACFjB,mBAAmB,CAACc,YAAY,CAACI,IAAI,CACtC,EACD;UACAT,MAAM,CAACE,IAAI,CAAC,CAACM,EAAE,EAAEhB,eAAe,CAACO,KAAK,CAACC,MAAM,CAACG,GAAG,CAACK,EAAE,CAAiB,CAAC,CAAC;QACzE;MACF,CAAC,CAAC;IACJ;EACF,CAAC,MAAM;IACLR,MAAM,GAAGH,KAAK,CAACC,IAAI,CAACN,eAAe,CAACO,KAAK,CAACC,MAAM,CAACU,OAAO,EAAE,CAAC;EAC7D;EAEA,OAAOV,MAAM;AACf;AAEA;;;;AAIA,OAAM,SAAUW,4BAA4BA,CAAA;EAC1C,MAAMhB,SAAS,GAAGH,eAAe,CAACO,KAAK,CAACa,iBAAiB,EAAEC,cAAc,IAAI,QAAQ;EACrF,MAAMC,OAAO,GAAGtB,eAAe,CAACO,KAAK,CAACa,iBAAiB,EAAEG,EAAE,IAAI,CAAC;EAChE,MAAMC,OAAO,GAAG1B,aAAa,CAAC2B,oBAAoB,CAACtB,SAAS,CAAC;EAE7D,OAAO,GAAGA,SAAS,IAAImB,OAAO,IAAIE,OAAO,EAAE;AAC7C;AAEA;;;;;AAKA,OAAM,SAAUE,uBAAuBA,CAACvB,SAAqC;EAC3E,MAAMwB,oBAAoB,GAAG3B,eAAe,CAAC4B,cAAc,CAACzB,SAAS,CAAC,EAAEwB,oBAAoB;EAE5F,OAAOA,oBAAoB;AAC7B;AAEA;;;;;AAKA,OAAM,SAAUE,oBAAoBA,CAACR,cAA+B;EAClE,IAAIA,cAAc,EAAE;IAClB,OAAOrB,eAAe,CAACO,KAAK,CAACC,MAAM,CAACG,GAAG,CAACU,cAAc,CAAC,EAAES,YAAY,EAAEC,WAAW;EACpF;EAEA,OAAO/B,eAAe,CAACO,KAAK,CAACa,iBAAiB;AAChD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}