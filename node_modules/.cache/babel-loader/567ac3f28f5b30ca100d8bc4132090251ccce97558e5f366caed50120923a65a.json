{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _templateObject, _templateObject2, _templateObject3;\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { AssetUtil, ConnectionController, CoreHelperUtil, EventsController, RouterController, ThemeController } from '@reown/appkit-controllers';\nimport { customElement } from '@reown/appkit-ui';\nimport '@reown/appkit-ui/wui-flex';\nimport '@reown/appkit-ui/wui-icon';\nimport '@reown/appkit-ui/wui-link';\nimport '@reown/appkit-ui/wui-qr-code';\nimport '@reown/appkit-ui/wui-shimmer';\nimport '@reown/appkit-ui/wui-text';\nimport '@reown/appkit-ui/wui-ux-by-reown';\nimport { W3mConnectingWidget } from '../../utils/w3m-connecting-widget/index.js';\nimport '../w3m-mobile-download-links/index.js';\nimport styles from './styles.js';\nlet W3mConnectingWcQrcode = class W3mConnectingWcQrcode extends W3mConnectingWidget {\n  constructor() {\n    super();\n    this.basic = false;\n    this.forceUpdate = () => {\n      this.requestUpdate();\n    };\n    window.addEventListener('resize', this.forceUpdate);\n  }\n  firstUpdated() {\n    if (!this.basic) {\n      var _this$wallet$name, _this$wallet, _this$wallet2, _this$wallet3;\n      EventsController.sendEvent({\n        type: 'track',\n        event: 'SELECT_WALLET',\n        properties: {\n          name: (_this$wallet$name = (_this$wallet = this.wallet) === null || _this$wallet === void 0 ? void 0 : _this$wallet.name) !== null && _this$wallet$name !== void 0 ? _this$wallet$name : 'WalletConnect',\n          platform: 'qrcode',\n          displayIndex: (_this$wallet2 = this.wallet) === null || _this$wallet2 === void 0 ? void 0 : _this$wallet2.display_index,\n          walletRank: (_this$wallet3 = this.wallet) === null || _this$wallet3 === void 0 ? void 0 : _this$wallet3.order,\n          view: RouterController.state.view\n        }\n      });\n    }\n  }\n  disconnectedCallback() {\n    var _this$unsubscribe;\n    super.disconnectedCallback();\n    (_this$unsubscribe = this.unsubscribe) === null || _this$unsubscribe === void 0 || _this$unsubscribe.forEach(unsub => unsub());\n    window.removeEventListener('resize', this.forceUpdate);\n  }\n  render() {\n    this.onRenderProxy();\n    return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <wui-flex\\n        flexDirection=\\\"column\\\"\\n        alignItems=\\\"center\\\"\\n        .padding=\", \"\\n        gap=\\\"5\\\"\\n      >\\n        <wui-shimmer width=\\\"100%\\\"> \", \" </wui-shimmer>\\n        <wui-text variant=\\\"lg-medium\\\" color=\\\"primary\\\"> Scan this QR Code with your phone </wui-text>\\n        \", \"\\n      </wui-flex>\\n      <w3m-mobile-download-links .wallet=\", \"></w3m-mobile-download-links>\\n    \"])), ['0', '5', '5', '5'], this.qrCodeTemplate(), this.copyTemplate(), this.wallet);\n  }\n  onRenderProxy() {\n    if (!this.ready && this.uri) {\n      this.timeout = setTimeout(() => {\n        this.ready = true;\n      }, 200);\n    }\n  }\n  qrCodeTemplate() {\n    var _this$wallet4;\n    if (!this.uri || !this.ready) {\n      return null;\n    }\n    const size = this.getBoundingClientRect().width - 40;\n    const alt = this.wallet ? this.wallet.name : undefined;\n    ConnectionController.setWcLinking(undefined);\n    ConnectionController.setRecentWallet(this.wallet);\n    let uriWithLink = this.uri;\n    if ((_this$wallet4 = this.wallet) !== null && _this$wallet4 !== void 0 && _this$wallet4.mobile_link) {\n      var _this$wallet5;\n      const {\n        redirect\n      } = CoreHelperUtil.formatNativeUrl((_this$wallet5 = this.wallet) === null || _this$wallet5 === void 0 ? void 0 : _this$wallet5.mobile_link, this.uri, null);\n      uriWithLink = redirect;\n    }\n    return html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\" <wui-qr-code\\n      size=\", \"\\n      theme=\", \"\\n      uri=\", \"\\n      imageSrc=\", \"\\n      color=\", \"\\n      alt=\", \"\\n      data-testid=\\\"wui-qr-code\\\"\\n    ></wui-qr-code>\"])), size, ThemeController.state.themeMode, uriWithLink, ifDefined(AssetUtil.getWalletImage(this.wallet)), ifDefined(ThemeController.state.themeVariables['--w3m-qr-color']), ifDefined(alt));\n  }\n  copyTemplate() {\n    const inactive = !this.uri || !this.ready;\n    return html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<wui-button\\n      .disabled=\", \"\\n      @click=\", \"\\n      variant=\\\"neutral-secondary\\\"\\n      size=\\\"sm\\\"\\n      data-testid=\\\"copy-wc2-uri\\\"\\n    >\\n      Copy link\\n      <wui-icon size=\\\"sm\\\" color=\\\"inherit\\\" name=\\\"copy\\\" slot=\\\"iconRight\\\"></wui-icon>\\n    </wui-button>\"])), inactive, this.onCopyUri);\n  }\n};\nW3mConnectingWcQrcode.styles = styles;\n__decorate([property({\n  type: Boolean\n})], W3mConnectingWcQrcode.prototype, \"basic\", void 0);\nW3mConnectingWcQrcode = __decorate([customElement('w3m-connecting-wc-qrcode')], W3mConnectingWcQrcode);\nexport { W3mConnectingWcQrcode };","map":{"version":3,"names":["html","property","ifDefined","AssetUtil","ConnectionController","CoreHelperUtil","EventsController","RouterController","ThemeController","customElement","W3mConnectingWidget","styles","W3mConnectingWcQrcode","constructor","basic","forceUpdate","requestUpdate","window","addEventListener","firstUpdated","_this$wallet$name","_this$wallet","_this$wallet2","_this$wallet3","sendEvent","type","event","properties","name","wallet","platform","displayIndex","display_index","walletRank","order","view","state","disconnectedCallback","_this$unsubscribe","unsubscribe","forEach","unsub","removeEventListener","render","onRenderProxy","_templateObject","_taggedTemplateLiteral","qrCodeTemplate","copyTemplate","ready","uri","timeout","setTimeout","_this$wallet4","size","getBoundingClientRect","width","alt","undefined","setWcLinking","setRecentWallet","uriWithLink","mobile_link","_this$wallet5","redirect","formatNativeUrl","_templateObject2","themeMode","getWalletImage","themeVariables","inactive","_templateObject3","onCopyUri","__decorate","Boolean"],"sources":["../../../../../src/partials/w3m-connecting-wc-qrcode/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}