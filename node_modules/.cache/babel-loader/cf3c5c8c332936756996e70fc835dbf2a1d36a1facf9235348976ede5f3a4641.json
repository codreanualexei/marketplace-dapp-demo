{"ast":null,"code":"import { proxy, ref, subscribe } from 'valtio/vanilla';\nimport { subscribeKey as subKey } from 'valtio/vanilla/utils';\nconst CLEAN_PROVIDERS_STATE = {\n  eip155: undefined,\n  solana: undefined,\n  polkadot: undefined,\n  bip122: undefined,\n  cosmos: undefined,\n  sui: undefined,\n  stacks: undefined\n};\nconst state = proxy({\n  providers: {\n    ...CLEAN_PROVIDERS_STATE\n  },\n  providerIds: {\n    ...CLEAN_PROVIDERS_STATE\n  }\n});\nexport const ProviderController = {\n  state,\n  subscribeKey(key, callback) {\n    return subKey(state, key, callback);\n  },\n  subscribe(callback) {\n    return subscribe(state, () => {\n      callback(state);\n    });\n  },\n  subscribeProviders(callback) {\n    return subscribe(state.providers, () => callback(state.providers));\n  },\n  setProvider(chainNamespace, provider) {\n    if (chainNamespace && provider) {\n      state.providers[chainNamespace] = ref(provider);\n    }\n  },\n  getProvider(chainNamespace) {\n    if (!chainNamespace) {\n      return undefined;\n    }\n    return state.providers[chainNamespace];\n  },\n  setProviderId(chainNamespace, providerId) {\n    if (providerId) {\n      state.providerIds[chainNamespace] = providerId;\n    }\n  },\n  getProviderId(chainNamespace) {\n    if (!chainNamespace) {\n      return undefined;\n    }\n    return state.providerIds[chainNamespace];\n  },\n  reset() {\n    state.providers = {\n      ...CLEAN_PROVIDERS_STATE\n    };\n    state.providerIds = {\n      ...CLEAN_PROVIDERS_STATE\n    };\n  },\n  resetChain(chainNamespace) {\n    state.providers[chainNamespace] = undefined;\n    state.providerIds[chainNamespace] = undefined;\n  }\n};","map":{"version":3,"names":["proxy","ref","subscribe","subscribeKey","subKey","CLEAN_PROVIDERS_STATE","eip155","undefined","solana","polkadot","bip122","cosmos","sui","stacks","state","providers","providerIds","ProviderController","key","callback","subscribeProviders","setProvider","chainNamespace","provider","getProvider","setProviderId","providerId","getProviderId","reset","resetChain"],"sources":["../../../../src/controllers/ProviderController.ts"],"sourcesContent":[null],"mappings":"AACA,SAASA,KAAK,EAAEC,GAAG,EAAEC,SAAS,QAAQ,gBAAgB;AACtD,SAASC,YAAY,IAAIC,MAAM,QAAQ,sBAAsB;AAqB7D,MAAMC,qBAAqB,GAAG;EAC5BC,MAAM,EAAEC,SAAS;EACjBC,MAAM,EAAED,SAAS;EACjBE,QAAQ,EAAEF,SAAS;EACnBG,MAAM,EAAEH,SAAS;EACjBI,MAAM,EAAEJ,SAAS;EACjBK,GAAG,EAAEL,SAAS;EACdM,MAAM,EAAEN;CACT;AAED,MAAMO,KAAK,GAAGd,KAAK,CAA0B;EAC3Ce,SAAS,EAAE;IAAE,GAAGV;EAAqB,CAAE;EACvCW,WAAW,EAAE;IAAE,GAAGX;EAAqB;CACxC,CAAC;AAEF,OAAO,MAAMY,kBAAkB,GAAG;EAChCH,KAAK;EAELX,YAAYA,CAAqBe,GAAM,EAAEC,QAAqD;IAC5F,OAAOf,MAAM,CAACU,KAAK,EAAEI,GAAG,EAAEC,QAAQ,CAAC;EACrC,CAAC;EAEDjB,SAASA,CAACiB,QAAkD;IAC1D,OAAOjB,SAAS,CAACY,KAAK,EAAE,MAAK;MAC3BK,QAAQ,CAACL,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ,CAAC;EAEDM,kBAAkBA,CAACD,QAAmE;IACpF,OAAOjB,SAAS,CAACY,KAAK,CAACC,SAAS,EAAE,MAAMI,QAAQ,CAACL,KAAK,CAACC,SAAS,CAAC,CAAC;EACpE,CAAC;EAEDM,WAAWA,CACTC,cAAmD,EACnDC,QAAW;IAEX,IAAID,cAAc,IAAIC,QAAQ,EAAE;MAC9BT,KAAK,CAACC,SAAS,CAACO,cAAc,CAAC,GAAGrB,GAAG,CAACsB,QAAQ,CAAM;IACtD;EACF,CAAC;EAEDC,WAAWA,CACTF,cAAmD;IAEnD,IAAI,CAACA,cAAc,EAAE;MACnB,OAAOf,SAAS;IAClB;IAEA,OAAOO,KAAK,CAACC,SAAS,CAACO,cAAc,CAAkB;EACzD,CAAC;EAEDG,aAAaA,CAACH,cAA8B,EAAEI,UAAyB;IACrE,IAAIA,UAAU,EAAE;MACdZ,KAAK,CAACE,WAAW,CAACM,cAAc,CAAC,GAAGI,UAAU;IAChD;EACF,CAAC;EAEDC,aAAaA,CAACL,cAA0C;IACtD,IAAI,CAACA,cAAc,EAAE;MACnB,OAAOf,SAAS;IAClB;IAEA,OAAOO,KAAK,CAACE,WAAW,CAACM,cAAc,CAAC;EAC1C,CAAC;EAEDM,KAAKA,CAAA;IACHd,KAAK,CAACC,SAAS,GAAG;MAAE,GAAGV;IAAqB,CAAE;IAC9CS,KAAK,CAACE,WAAW,GAAG;MAAE,GAAGX;IAAqB,CAAE;EAClD,CAAC;EAEDwB,UAAUA,CAACP,cAA8B;IACvCR,KAAK,CAACC,SAAS,CAACO,cAAc,CAAC,GAAGf,SAAS;IAC3CO,KAAK,CAACE,WAAW,CAACM,cAAc,CAAC,GAAGf,SAAS;EAC/C;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}