{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _templateObject;\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { LitElement, html } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { ConstantsUtil as CommonConstantsUtil } from '@reown/appkit-common';\nimport { ApiController, ConnectionController, ConnectorController, CoreHelperUtil, EventsController, OptionsController, RouterController } from '@reown/appkit-controllers';\nimport { customElement } from '@reown/appkit-ui';\nimport '@reown/appkit-ui/wui-list-wallet';\nlet W3mAllWalletsWidget = class W3mAllWalletsWidget extends LitElement {\n  constructor() {\n    super();\n    this.unsubscribe = [];\n    this.tabIdx = undefined;\n    this.connectors = ConnectorController.state.connectors;\n    this.count = ApiController.state.count;\n    this.filteredCount = ApiController.state.filteredWallets.length;\n    this.isFetchingRecommendedWallets = ApiController.state.isFetchingRecommendedWallets;\n    this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => this.connectors = val), ApiController.subscribeKey('count', val => this.count = val), ApiController.subscribeKey('filteredWallets', val => this.filteredCount = val.length), ApiController.subscribeKey('isFetchingRecommendedWallets', val => this.isFetchingRecommendedWallets = val));\n  }\n  disconnectedCallback() {\n    this.unsubscribe.forEach(unsubscribe => unsubscribe());\n  }\n  render() {\n    const wcConnector = this.connectors.find(c => c.id === 'walletConnect');\n    const {\n      allWallets\n    } = OptionsController.state;\n    if (!wcConnector || allWallets === 'HIDE') {\n      return null;\n    }\n    if (allWallets === 'ONLY_MOBILE' && !CoreHelperUtil.isMobile()) {\n      return null;\n    }\n    const featuredCount = ApiController.state.featured.length;\n    const rawCount = this.count + featuredCount;\n    const roundedCount = rawCount < 10 ? rawCount : Math.floor(rawCount / 10) * 10;\n    const count = this.filteredCount > 0 ? this.filteredCount : roundedCount;\n    let tagLabel = \"\".concat(count);\n    if (this.filteredCount > 0) {\n      tagLabel = \"\".concat(this.filteredCount);\n    } else if (count < rawCount) {\n      tagLabel = \"\".concat(count, \"+\");\n    }\n    const hasWcConnection = ConnectionController.hasAnyConnection(CommonConstantsUtil.CONNECTOR_ID.WALLET_CONNECT);\n    return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <wui-list-wallet\\n        name=\\\"Search Wallet\\\"\\n        walletIcon=\\\"search\\\"\\n        showAllWallets\\n        @click=\", \"\\n        tagLabel=\", \"\\n        tagVariant=\\\"info\\\"\\n        data-testid=\\\"all-wallets\\\"\\n        tabIdx=\", \"\\n        .loading=\", \"\\n        ?disabled=\", \"\\n        size=\\\"sm\\\"\\n      ></wui-list-wallet>\\n    \"])), this.onAllWallets.bind(this), tagLabel, ifDefined(this.tabIdx), this.isFetchingRecommendedWallets, hasWcConnection);\n  }\n  onAllWallets() {\n    var _RouterController$sta;\n    EventsController.sendEvent({\n      type: 'track',\n      event: 'CLICK_ALL_WALLETS'\n    });\n    RouterController.push('AllWallets', {\n      redirectView: (_RouterController$sta = RouterController.state.data) === null || _RouterController$sta === void 0 ? void 0 : _RouterController$sta.redirectView\n    });\n  }\n};\n__decorate([property()], W3mAllWalletsWidget.prototype, \"tabIdx\", void 0);\n__decorate([state()], W3mAllWalletsWidget.prototype, \"connectors\", void 0);\n__decorate([state()], W3mAllWalletsWidget.prototype, \"count\", void 0);\n__decorate([state()], W3mAllWalletsWidget.prototype, \"filteredCount\", void 0);\n__decorate([state()], W3mAllWalletsWidget.prototype, \"isFetchingRecommendedWallets\", void 0);\nW3mAllWalletsWidget = __decorate([customElement('w3m-all-wallets-widget')], W3mAllWalletsWidget);\nexport { W3mAllWalletsWidget };","map":{"version":3,"names":["LitElement","html","property","state","ifDefined","ConstantsUtil","CommonConstantsUtil","ApiController","ConnectionController","ConnectorController","CoreHelperUtil","EventsController","OptionsController","RouterController","customElement","W3mAllWalletsWidget","constructor","unsubscribe","tabIdx","undefined","connectors","count","filteredCount","filteredWallets","length","isFetchingRecommendedWallets","push","subscribeKey","val","disconnectedCallback","forEach","render","wcConnector","find","c","id","allWallets","isMobile","featuredCount","featured","rawCount","roundedCount","Math","floor","tagLabel","concat","hasWcConnection","hasAnyConnection","CONNECTOR_ID","WALLET_CONNECT","_templateObject","_taggedTemplateLiteral","onAllWallets","bind","_RouterController$sta","sendEvent","type","event","redirectView","data","__decorate"],"sources":["../../../../../src/partials/w3m-all-wallets-widget/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}