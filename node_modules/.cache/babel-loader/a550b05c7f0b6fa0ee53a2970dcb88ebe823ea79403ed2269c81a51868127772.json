{"ast":null,"code":"import _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ParseUtil } from '@reown/appkit-common';\nimport { EnsController } from '@reown/appkit-controllers';\nimport { solana, solanaDevnet } from '../networks/index.js';\nexport const DEFAULT_METHODS = {\n  solana: ['solana_signMessage', 'solana_signTransaction', 'solana_requestAccounts', 'solana_getAccounts', 'solana_signAllTransactions', 'solana_signAndSendTransaction'],\n  eip155: ['eth_accounts', 'eth_requestAccounts', 'eth_sendRawTransaction', 'eth_sign', 'eth_signTransaction', 'eth_signTypedData', 'eth_signTypedData_v3', 'eth_signTypedData_v4', 'eth_sendTransaction', 'personal_sign', 'wallet_switchEthereumChain', 'wallet_addEthereumChain', 'wallet_getPermissions', 'wallet_requestPermissions', 'wallet_registerOnboarding', 'wallet_watchAsset', 'wallet_scanQRCode',\n  // EIP-5792\n  'wallet_getCallsStatus', 'wallet_showCallsStatus', 'wallet_sendCalls', 'wallet_getCapabilities',\n  // EIP-7715\n  'wallet_grantPermissions', 'wallet_revokePermissions',\n  //EIP-7811\n  'wallet_getAssets'],\n  bip122: ['sendTransfer', 'signMessage', 'signPsbt', 'getAccountAddresses']\n};\nexport const WcHelpersUtil = {\n  RPC_ERROR_CODE: {\n    USER_REJECTED: 5000,\n    USER_REJECTED_METHODS: 5002\n  },\n  getMethodsByChainNamespace(chainNamespace) {\n    return DEFAULT_METHODS[chainNamespace] || [];\n  },\n  createDefaultNamespace(chainNamespace) {\n    return {\n      methods: this.getMethodsByChainNamespace(chainNamespace),\n      events: ['accountsChanged', 'chainChanged'],\n      chains: [],\n      rpcMap: {}\n    };\n  },\n  applyNamespaceOverrides(baseNamespaces, overrides) {\n    if (!overrides) {\n      return _objectSpread({}, baseNamespaces);\n    }\n    const result = _objectSpread({}, baseNamespaces);\n    const namespacesToOverride = new Set();\n    if (overrides.methods) {\n      Object.keys(overrides.methods).forEach(ns => namespacesToOverride.add(ns));\n    }\n    if (overrides.chains) {\n      Object.keys(overrides.chains).forEach(ns => namespacesToOverride.add(ns));\n    }\n    if (overrides.events) {\n      Object.keys(overrides.events).forEach(ns => namespacesToOverride.add(ns));\n    }\n    if (overrides.rpcMap) {\n      Object.keys(overrides.rpcMap).forEach(chainId => {\n        const [ns] = chainId.split(':');\n        if (ns) {\n          namespacesToOverride.add(ns);\n        }\n      });\n    }\n    namespacesToOverride.forEach(ns => {\n      if (!result[ns]) {\n        result[ns] = this.createDefaultNamespace(ns);\n      }\n    });\n    if (overrides.methods) {\n      Object.entries(overrides.methods).forEach(_ref => {\n        let [ns, methods] = _ref;\n        if (result[ns]) {\n          result[ns].methods = methods;\n        }\n      });\n    }\n    if (overrides.chains) {\n      Object.entries(overrides.chains).forEach(_ref2 => {\n        let [ns, chains] = _ref2;\n        if (result[ns]) {\n          result[ns].chains = chains;\n        }\n      });\n    }\n    if (overrides.events) {\n      Object.entries(overrides.events).forEach(_ref3 => {\n        let [ns, events] = _ref3;\n        if (result[ns]) {\n          result[ns].events = events;\n        }\n      });\n    }\n    if (overrides.rpcMap) {\n      const processedNamespaces = new Set();\n      Object.entries(overrides.rpcMap).forEach(_ref4 => {\n        let [chainId, rpcUrl] = _ref4;\n        const [ns, id] = chainId.split(':');\n        if (!ns || !id || !result[ns]) {\n          return;\n        }\n        if (!result[ns].rpcMap) {\n          result[ns].rpcMap = {};\n        }\n        if (!processedNamespaces.has(ns)) {\n          result[ns].rpcMap = {};\n          processedNamespaces.add(ns);\n        }\n        result[ns].rpcMap[id] = rpcUrl;\n      });\n    }\n    return result;\n  },\n  createNamespaces(caipNetworks, configOverride) {\n    const defaultNamespaces = caipNetworks.reduce((acc, chain) => {\n      const {\n        id,\n        chainNamespace,\n        rpcUrls\n      } = chain;\n      const rpcUrl = rpcUrls.default.http[0];\n      if (!acc[chainNamespace]) {\n        acc[chainNamespace] = this.createDefaultNamespace(chainNamespace);\n      }\n      const caipNetworkId = \"\".concat(chainNamespace, \":\").concat(id);\n      // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n      const namespace = acc[chainNamespace];\n      namespace.chains.push(caipNetworkId);\n      // Workaround for wallets that only support deprecated Solana network ID\n      switch (caipNetworkId) {\n        case solana.caipNetworkId:\n          namespace.chains.push(solana.deprecatedCaipNetworkId);\n          break;\n        case solanaDevnet.caipNetworkId:\n          namespace.chains.push(solanaDevnet.deprecatedCaipNetworkId);\n          break;\n        default:\n      }\n      if (namespace !== null && namespace !== void 0 && namespace.rpcMap && rpcUrl) {\n        namespace.rpcMap[id] = rpcUrl;\n      }\n      return acc;\n    }, {});\n    return this.applyNamespaceOverrides(defaultNamespaces, configOverride);\n  },\n  resolveReownName: async name => {\n    var _networkNameAddresses;\n    const wcNameAddress = await EnsController.resolveName(name);\n    const networkNameAddresses = Object.values(wcNameAddress === null || wcNameAddress === void 0 ? void 0 : wcNameAddress.addresses) || [];\n    return ((_networkNameAddresses = networkNameAddresses[0]) === null || _networkNameAddresses === void 0 ? void 0 : _networkNameAddresses.address) || false;\n  },\n  getChainsFromNamespaces() {\n    let namespaces = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return Object.values(namespaces).flatMap(namespace => {\n      const chains = namespace.chains || [];\n      const accountsChains = namespace.accounts.map(account => {\n        const [chainNamespace, chainId] = account.split(':');\n        return \"\".concat(chainNamespace, \":\").concat(chainId);\n      });\n      return Array.from(new Set([...chains, ...accountsChains]));\n    });\n  },\n  isSessionEventData(data) {\n    return typeof data === 'object' && data !== null && 'id' in data && 'topic' in data && 'params' in data && typeof data.params === 'object' && data.params !== null && 'chainId' in data.params && 'event' in data.params && typeof data.params.event === 'object' && data.params.event !== null;\n  },\n  isUserRejectedRequestError(error) {\n    try {\n      if (typeof error === 'object' && error !== null) {\n        const objErr = error;\n        const hasCode = typeof objErr['code'] === 'number';\n        const hasUserRejectedMethods = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED_METHODS;\n        const hasUserRejected = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED;\n        return hasUserRejectedMethods || hasUserRejected;\n      }\n      return false;\n    } catch (_unused) {\n      return false;\n    }\n  },\n  isOriginAllowed(currentOrigin, allowedPatterns, defaultAllowedOrigins) {\n    for (const pattern of [...allowedPatterns, ...defaultAllowedOrigins]) {\n      if (pattern.includes('*')) {\n        // Convert wildcard pattern to regex, escape special chars, replace *, match whole string\n        const escapedPattern = pattern.replace(/[\\$\\(-\\+\\.\\?\\[-\\^\\{-\\}]/g, '\\\\$&');\n        const regexString = \"^\".concat(escapedPattern.replace(/\\\\\\*/g, '.*'), \"$\");\n        const regex = new RegExp(regexString, 'u');\n        if (regex.test(currentOrigin)) {\n          return true;\n        }\n      } else {\n        /**\n         * There are some cases where pattern is getting just the origin, where using new URL(pattern).origin will throw an error\n         * thus we a try catch to handle this case\n         */\n        try {\n          if (new URL(pattern).origin === currentOrigin) {\n            return true;\n          }\n        } catch (e) {\n          if (pattern === currentOrigin) {\n            return true;\n          }\n        }\n      }\n    }\n    // No match found\n    return false;\n  },\n  listenWcProvider(_ref5) {\n    let {\n      universalProvider,\n      namespace,\n      onConnect,\n      onDisconnect,\n      onAccountsChanged,\n      onChainChanged,\n      onDisplayUri\n    } = _ref5;\n    if (onConnect) {\n      universalProvider.on('connect', () => {\n        const accounts = WcHelpersUtil.getWalletConnectAccounts(universalProvider, namespace);\n        onConnect(accounts);\n      });\n    }\n    if (onDisconnect) {\n      universalProvider.on('disconnect', () => {\n        onDisconnect();\n      });\n    }\n    if (onAccountsChanged) {\n      /*\n       * In multichain scenario - every adapter will listen to accountsChanged event\n       * so make sure to call `onAccountsChanged` only on the namespace that actually has accounts changed\n       */\n      universalProvider.on('accountsChanged', accounts => {\n        try {\n          var _universalProvider$se, _universalProvider$rp;\n          const allAccounts = ((_universalProvider$se = universalProvider.session) === null || _universalProvider$se === void 0 || (_universalProvider$se = _universalProvider$se.namespaces) === null || _universalProvider$se === void 0 || (_universalProvider$se = _universalProvider$se[namespace]) === null || _universalProvider$se === void 0 ? void 0 : _universalProvider$se.accounts) || [];\n          const defaultChain = (_universalProvider$rp = universalProvider.rpcProviders) === null || _universalProvider$rp === void 0 || (_universalProvider$rp = _universalProvider$rp[namespace]) === null || _universalProvider$rp === void 0 ? void 0 : _universalProvider$rp.getDefaultChain();\n          const parsedAccounts = accounts.map(account => {\n            const caipAccount = allAccounts.find(acc => acc.includes(\"\".concat(namespace, \":\").concat(defaultChain, \":\").concat(account)));\n            if (!caipAccount) {\n              return undefined;\n            }\n            const {\n              chainId,\n              chainNamespace\n            } = ParseUtil.parseCaipAddress(caipAccount);\n            return {\n              address: account,\n              chainId,\n              chainNamespace\n            };\n          }).filter(account => account !== undefined);\n          // Emit accountsChanged event only if there are accounts\n          if (parsedAccounts.length > 0) {\n            onAccountsChanged(parsedAccounts);\n          }\n        } catch (error) {\n          console.warn('Failed to parse accounts for namespace on accountsChanged event', namespace, accounts, error);\n        }\n      });\n    }\n    if (onChainChanged) {\n      universalProvider.on('chainChanged', chainId => {\n        onChainChanged(chainId);\n      });\n    }\n    if (onDisplayUri) {\n      universalProvider.on('display_uri', uri => {\n        onDisplayUri(uri);\n      });\n    }\n  },\n  getWalletConnectAccounts(universalProvider, namespace) {\n    var _universalProvider$se2;\n    const accountsAdded = new Set();\n    const accounts = universalProvider === null || universalProvider === void 0 || (_universalProvider$se2 = universalProvider.session) === null || _universalProvider$se2 === void 0 || (_universalProvider$se2 = _universalProvider$se2.namespaces) === null || _universalProvider$se2 === void 0 || (_universalProvider$se2 = _universalProvider$se2[namespace]) === null || _universalProvider$se2 === void 0 || (_universalProvider$se2 = _universalProvider$se2.accounts) === null || _universalProvider$se2 === void 0 ? void 0 : _universalProvider$se2.map(account => ParseUtil.parseCaipAddress(account)).filter(_ref6 => {\n      let {\n        address\n      } = _ref6;\n      if (accountsAdded.has(address.toLowerCase())) {\n        return false;\n      }\n      accountsAdded.add(address.toLowerCase());\n      return true;\n    });\n    if (accounts && accounts.length > 0) {\n      return accounts;\n    }\n    return [];\n  }\n};","map":{"version":3,"names":["ParseUtil","EnsController","solana","solanaDevnet","DEFAULT_METHODS","eip155","bip122","WcHelpersUtil","RPC_ERROR_CODE","USER_REJECTED","USER_REJECTED_METHODS","getMethodsByChainNamespace","chainNamespace","createDefaultNamespace","methods","events","chains","rpcMap","applyNamespaceOverrides","baseNamespaces","overrides","_objectSpread","result","namespacesToOverride","Set","Object","keys","forEach","ns","add","chainId","split","entries","_ref","_ref2","_ref3","processedNamespaces","_ref4","rpcUrl","id","has","createNamespaces","caipNetworks","configOverride","defaultNamespaces","reduce","acc","chain","rpcUrls","default","http","caipNetworkId","concat","namespace","push","deprecatedCaipNetworkId","resolveReownName","name","_networkNameAddresses","wcNameAddress","resolveName","networkNameAddresses","values","addresses","address","getChainsFromNamespaces","namespaces","arguments","length","undefined","flatMap","accountsChains","accounts","map","account","Array","from","isSessionEventData","data","params","event","isUserRejectedRequestError","error","objErr","hasCode","hasUserRejectedMethods","hasUserRejected","_unused","isOriginAllowed","currentOrigin","allowedPatterns","defaultAllowedOrigins","pattern","includes","escapedPattern","replace","regexString","regex","RegExp","test","URL","origin","e","listenWcProvider","_ref5","universalProvider","onConnect","onDisconnect","onAccountsChanged","onChainChanged","onDisplayUri","on","getWalletConnectAccounts","_universalProvider$se","_universalProvider$rp","allAccounts","session","defaultChain","rpcProviders","getDefaultChain","parsedAccounts","caipAccount","find","parseCaipAddress","filter","console","warn","uri","_universalProvider$se2","accountsAdded","_ref6","toLowerCase"],"sources":["../../../../src/utils/HelpersUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}