{"ast":null,"code":"import { hexToBigInt } from '../utils/encoding/fromHex.js';\nimport { defineBlock } from '../utils/formatters/block.js';\nimport { defineTransaction, formatTransaction } from '../utils/formatters/transaction.js';\nimport { defineTransactionReceipt } from '../utils/formatters/transactionReceipt.js';\nexport const formatters = {\n  block: /*#__PURE__*/defineBlock({\n    format(args) {\n      var _args$transactions;\n      const transactions = (_args$transactions = args.transactions) === null || _args$transactions === void 0 ? void 0 : _args$transactions.map(transaction => {\n        if (typeof transaction === 'string') return transaction;\n        const formatted = formatTransaction(transaction);\n        if (formatted.typeHex === '0x7e') {\n          formatted.isSystemTx = transaction.isSystemTx;\n          formatted.mint = transaction.mint ? hexToBigInt(transaction.mint) : undefined;\n          formatted.sourceHash = transaction.sourceHash;\n          formatted.type = 'deposit';\n        }\n        return formatted;\n      });\n      return {\n        transactions,\n        stateRoot: args.stateRoot\n      };\n    }\n  }),\n  transaction: /*#__PURE__*/defineTransaction({\n    format(args) {\n      const transaction = {};\n      if (args.type === '0x7e') {\n        transaction.isSystemTx = args.isSystemTx;\n        transaction.mint = args.mint ? hexToBigInt(args.mint) : undefined;\n        transaction.sourceHash = args.sourceHash;\n        transaction.type = 'deposit';\n      }\n      return transaction;\n    }\n  }),\n  transactionReceipt: /*#__PURE__*/defineTransactionReceipt({\n    format(args) {\n      return {\n        l1GasPrice: args.l1GasPrice ? hexToBigInt(args.l1GasPrice) : null,\n        l1GasUsed: args.l1GasUsed ? hexToBigInt(args.l1GasUsed) : null,\n        l1Fee: args.l1Fee ? hexToBigInt(args.l1Fee) : null,\n        l1FeeScalar: args.l1FeeScalar ? Number(args.l1FeeScalar) : null\n      };\n    }\n  })\n};","map":{"version":3,"names":["hexToBigInt","defineBlock","defineTransaction","formatTransaction","defineTransactionReceipt","formatters","block","format","args","_args$transactions","transactions","map","transaction","formatted","typeHex","isSystemTx","mint","undefined","sourceHash","type","stateRoot","transactionReceipt","l1GasPrice","l1GasUsed","l1Fee","l1FeeScalar","Number"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/viem/op-stack/formatters.ts"],"sourcesContent":["import type { ChainFormatters } from '../types/chain.js'\nimport type { RpcTransaction } from '../types/rpc.js'\nimport { hexToBigInt } from '../utils/encoding/fromHex.js'\nimport { defineBlock } from '../utils/formatters/block.js'\nimport {\n  defineTransaction,\n  formatTransaction,\n} from '../utils/formatters/transaction.js'\nimport { defineTransactionReceipt } from '../utils/formatters/transactionReceipt.js'\nimport type { OpStackBlock, OpStackRpcBlock } from './types/block.js'\nimport type {\n  OpStackRpcTransaction,\n  OpStackRpcTransactionReceipt,\n  OpStackTransaction,\n  OpStackTransactionReceipt,\n} from './types/transaction.js'\n\nexport const formatters = {\n  block: /*#__PURE__*/ defineBlock({\n    format(args: OpStackRpcBlock): OpStackBlock {\n      const transactions = args.transactions?.map((transaction) => {\n        if (typeof transaction === 'string') return transaction\n        const formatted = formatTransaction(\n          transaction as RpcTransaction,\n        ) as OpStackTransaction\n        if (formatted.typeHex === '0x7e') {\n          formatted.isSystemTx = transaction.isSystemTx\n          formatted.mint = transaction.mint\n            ? hexToBigInt(transaction.mint)\n            : undefined\n          formatted.sourceHash = transaction.sourceHash\n          formatted.type = 'deposit'\n        }\n        return formatted\n      })\n      return {\n        transactions,\n        stateRoot: args.stateRoot,\n      } as OpStackBlock\n    },\n  }),\n  transaction: /*#__PURE__*/ defineTransaction({\n    format(args: OpStackRpcTransaction): OpStackTransaction {\n      const transaction = {} as OpStackTransaction\n      if (args.type === '0x7e') {\n        transaction.isSystemTx = args.isSystemTx\n        transaction.mint = args.mint ? hexToBigInt(args.mint) : undefined\n        transaction.sourceHash = args.sourceHash\n        transaction.type = 'deposit'\n      }\n      return transaction\n    },\n  }),\n  transactionReceipt: /*#__PURE__*/ defineTransactionReceipt({\n    format(args: OpStackRpcTransactionReceipt): OpStackTransactionReceipt {\n      return {\n        l1GasPrice: args.l1GasPrice ? hexToBigInt(args.l1GasPrice) : null,\n        l1GasUsed: args.l1GasUsed ? hexToBigInt(args.l1GasUsed) : null,\n        l1Fee: args.l1Fee ? hexToBigInt(args.l1Fee) : null,\n        l1FeeScalar: args.l1FeeScalar ? Number(args.l1FeeScalar) : null,\n      } as OpStackTransactionReceipt\n    },\n  }),\n} as const satisfies ChainFormatters\n"],"mappings":"AAEA,SAASA,WAAW,QAAQ,8BAA8B;AAC1D,SAASC,WAAW,QAAQ,8BAA8B;AAC1D,SACEC,iBAAiB,EACjBC,iBAAiB,QACZ,oCAAoC;AAC3C,SAASC,wBAAwB,QAAQ,2CAA2C;AASpF,OAAO,MAAMC,UAAU,GAAG;EACxBC,KAAK,EAAE,aAAcL,WAAW,CAAC;IAC/BM,MAAMA,CAACC,IAAqB;MAAA,IAAAC,kBAAA;MAC1B,MAAMC,YAAY,IAAAD,kBAAA,GAAGD,IAAI,CAACE,YAAY,cAAAD,kBAAA,uBAAjBA,kBAAA,CAAmBE,GAAG,CAAEC,WAAW,IAAI;QAC1D,IAAI,OAAOA,WAAW,KAAK,QAAQ,EAAE,OAAOA,WAAW;QACvD,MAAMC,SAAS,GAAGV,iBAAiB,CACjCS,WAA6B,CACR;QACvB,IAAIC,SAAS,CAACC,OAAO,KAAK,MAAM,EAAE;UAChCD,SAAS,CAACE,UAAU,GAAGH,WAAW,CAACG,UAAU;UAC7CF,SAAS,CAACG,IAAI,GAAGJ,WAAW,CAACI,IAAI,GAC7BhB,WAAW,CAACY,WAAW,CAACI,IAAI,CAAC,GAC7BC,SAAS;UACbJ,SAAS,CAACK,UAAU,GAAGN,WAAW,CAACM,UAAU;UAC7CL,SAAS,CAACM,IAAI,GAAG,SAAS;QAC5B;QACA,OAAON,SAAS;MAClB,CAAC,CAAC;MACF,OAAO;QACLH,YAAY;QACZU,SAAS,EAAEZ,IAAI,CAACY;OACD;IACnB;GACD,CAAC;EACFR,WAAW,EAAE,aAAcV,iBAAiB,CAAC;IAC3CK,MAAMA,CAACC,IAA2B;MAChC,MAAMI,WAAW,GAAG,EAAwB;MAC5C,IAAIJ,IAAI,CAACW,IAAI,KAAK,MAAM,EAAE;QACxBP,WAAW,CAACG,UAAU,GAAGP,IAAI,CAACO,UAAU;QACxCH,WAAW,CAACI,IAAI,GAAGR,IAAI,CAACQ,IAAI,GAAGhB,WAAW,CAACQ,IAAI,CAACQ,IAAI,CAAC,GAAGC,SAAS;QACjEL,WAAW,CAACM,UAAU,GAAGV,IAAI,CAACU,UAAU;QACxCN,WAAW,CAACO,IAAI,GAAG,SAAS;MAC9B;MACA,OAAOP,WAAW;IACpB;GACD,CAAC;EACFS,kBAAkB,EAAE,aAAcjB,wBAAwB,CAAC;IACzDG,MAAMA,CAACC,IAAkC;MACvC,OAAO;QACLc,UAAU,EAAEd,IAAI,CAACc,UAAU,GAAGtB,WAAW,CAACQ,IAAI,CAACc,UAAU,CAAC,GAAG,IAAI;QACjEC,SAAS,EAAEf,IAAI,CAACe,SAAS,GAAGvB,WAAW,CAACQ,IAAI,CAACe,SAAS,CAAC,GAAG,IAAI;QAC9DC,KAAK,EAAEhB,IAAI,CAACgB,KAAK,GAAGxB,WAAW,CAACQ,IAAI,CAACgB,KAAK,CAAC,GAAG,IAAI;QAClDC,WAAW,EAAEjB,IAAI,CAACiB,WAAW,GAAGC,MAAM,CAAClB,IAAI,CAACiB,WAAW,CAAC,GAAG;OAC/B;IAChC;GACD;CACiC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}