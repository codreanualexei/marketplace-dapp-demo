{"ast":null,"code":"import * as Errors from './Errors.js';\nimport * as Value from './Value.js';\n/**\n * Thrown when a fee cap is too high.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeEip1559 } from 'ox'\n *\n * TransactionEnvelopeEip1559.assert({\n *   maxFeePerGas: 2n ** 256n - 1n + 1n,\n *   chainId: 1,\n * })\n * // @error: TransactionEnvelope.FeeCapTooHighError: The fee cap (`maxFeePerGas`/`maxPriorityFeePerGas` = 115792089237316195423570985008687907853269984665640564039457584007913.129639936 gwei) cannot be higher than the maximum allowed value (2^256-1).\n * ```\n */\nexport class FeeCapTooHighError extends Errors.BaseError {\n  constructor() {\n    let {\n      feeCap\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(\"The fee cap (`maxFeePerGas`/`maxPriorityFeePerGas`\".concat(feeCap ? \" = \".concat(Value.formatGwei(feeCap), \" gwei\") : '', \") cannot be higher than the maximum allowed value (2^256-1).\"));\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'TransactionEnvelope.FeeCapTooHighError'\n    });\n  }\n}\n/**\n * Thrown when a gas price is too high.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeLegacy } from 'ox'\n *\n * TransactionEnvelopeLegacy.assert({\n *   gasPrice: 2n ** 256n - 1n + 1n,\n *   chainId: 1,\n * })\n * // @error: TransactionEnvelope.GasPriceTooHighError: The gas price (`gasPrice` = 115792089237316195423570985008687907853269984665640564039457584007913.129639936 gwei) cannot be higher than the maximum allowed value (2^256-1).\n * ```\n */\nexport class GasPriceTooHighError extends Errors.BaseError {\n  constructor() {\n    let {\n      gasPrice\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(\"The gas price (`gasPrice`\".concat(gasPrice ? \" = \".concat(Value.formatGwei(gasPrice), \" gwei\") : '', \") cannot be higher than the maximum allowed value (2^256-1).\"));\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'TransactionEnvelope.GasPriceTooHighError'\n    });\n  }\n}\n/**\n * Thrown when a chain ID is invalid.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeEip1559 } from 'ox'\n *\n * TransactionEnvelopeEip1559.assert({ chainId: 0 })\n * // @error: TransactionEnvelope.InvalidChainIdError: Chain ID \"0\" is invalid.\n * ```\n */\nexport class InvalidChainIdError extends Errors.BaseError {\n  constructor(_ref) {\n    let {\n      chainId\n    } = _ref;\n    super(typeof chainId !== 'undefined' ? \"Chain ID \\\"\".concat(chainId, \"\\\" is invalid.\") : 'Chain ID is invalid.');\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'TransactionEnvelope.InvalidChainIdError'\n    });\n  }\n}\n/**\n * Thrown when a serialized transaction is invalid.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeEip1559 } from 'ox'\n *\n * TransactionEnvelopeEip1559.deserialize('0x02c0')\n * // @error: TransactionEnvelope.InvalidSerializedError: Invalid serialized transaction of type \"eip1559\" was provided.\n * // @error: Serialized Transaction: \"0x02c0\"\n * // @error: Missing Attributes: chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gas, to, value, data, accessList\n * ```\n */\nexport class InvalidSerializedError extends Errors.BaseError {\n  constructor(_ref2) {\n    let {\n      attributes,\n      serialized,\n      type\n    } = _ref2;\n    const missing = Object.entries(attributes).map(_ref3 => {\n      let [key, value] = _ref3;\n      return typeof value === 'undefined' ? key : undefined;\n    }).filter(Boolean);\n    super(\"Invalid serialized transaction of type \\\"\".concat(type, \"\\\" was provided.\"), {\n      metaMessages: [\"Serialized Transaction: \\\"\".concat(serialized, \"\\\"\"), missing.length > 0 ? \"Missing Attributes: \".concat(missing.join(', ')) : ''].filter(Boolean)\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'TransactionEnvelope.InvalidSerializedError'\n    });\n  }\n}\n/**\n * Thrown when a tip is higher than a fee cap.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeEip1559 } from 'ox'\n *\n * TransactionEnvelopeEip1559.assert({\n *   chainId: 1,\n *   maxFeePerGas: 10n,\n *   maxPriorityFeePerGas: 11n,\n * })\n * // @error: TransactionEnvelope.TipAboveFeeCapError: The provided tip (`maxPriorityFeePerGas` = 11 gwei) cannot be higher than the fee cap (`maxFeePerGas` = 10 gwei).\n * ```\n */\nexport class TipAboveFeeCapError extends Errors.BaseError {\n  constructor() {\n    let {\n      maxPriorityFeePerGas,\n      maxFeePerGas\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super([\"The provided tip (`maxPriorityFeePerGas`\".concat(maxPriorityFeePerGas ? \" = \".concat(Value.formatGwei(maxPriorityFeePerGas), \" gwei\") : '', \") cannot be higher than the fee cap (`maxFeePerGas`\").concat(maxFeePerGas ? \" = \".concat(Value.formatGwei(maxFeePerGas), \" gwei\") : '', \").\")].join('\\n'));\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'TransactionEnvelope.TipAboveFeeCapError'\n    });\n  }\n}","map":{"version":3,"names":["Errors","Value","FeeCapTooHighError","BaseError","constructor","feeCap","arguments","length","undefined","concat","formatGwei","Object","defineProperty","GasPriceTooHighError","gasPrice","InvalidChainIdError","_ref","chainId","InvalidSerializedError","_ref2","attributes","serialized","type","missing","entries","map","_ref3","key","value","filter","Boolean","metaMessages","join","TipAboveFeeCapError","maxPriorityFeePerGas","maxFeePerGas"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/ox/core/TransactionEnvelope.ts"],"sourcesContent":["import type * as Address from './Address.js'\nimport * as Errors from './Errors.js'\nimport type * as Hex from './Hex.js'\nimport type { Compute } from './internal/types.js'\nimport * as Value from './Value.js'\n\n/** Base type for a Transaction Envelope. Transaction Envelopes inherit this type. */\nexport type Base<\n  type extends string = string,\n  signed extends boolean = boolean,\n  bigintType = bigint,\n  numberType = number,\n> = Compute<\n  {\n    /** EIP-155 Chain ID. */\n    chainId: numberType\n    /** Contract code or a hashed method call with encoded args */\n    data?: Hex.Hex | undefined\n    /** @alias `data` â€“ added for TransactionEnvelope - Transaction compatibility. */\n    input?: Hex.Hex | undefined\n    /** Sender of the transaction. */\n    from?: Address.Address | undefined\n    /** Gas provided for transaction execution */\n    gas?: bigintType | undefined\n    /** Unique number identifying this transaction */\n    nonce?: bigintType | undefined\n    /** Transaction recipient */\n    to?: Address.Address | null | undefined\n    /** Transaction type */\n    type: type\n    /** Value in wei sent with this transaction */\n    value?: bigintType | undefined\n    /** ECDSA signature r. */\n    r?: bigintType | undefined\n    /** ECDSA signature s. */\n    s?: bigintType | undefined\n    /** ECDSA signature yParity. */\n    yParity?: numberType | undefined\n    /** @deprecated ECDSA signature v (for backwards compatibility). */\n    v?: numberType | undefined\n  } & (signed extends true ? { r: bigintType; s: bigintType } : {})\n>\n\n/** RPC representation of a {@link ox#(TransactionEnvelope:namespace).Base}. */\nexport type BaseRpc<\n  type extends string = string,\n  signed extends boolean = boolean,\n> = Base<type, signed, Hex.Hex, Hex.Hex>\n\n/** Signed representation of a {@link ox#(TransactionEnvelope:namespace).Base}. */\nexport type BaseSigned<type extends string = string> = Base<type, true>\n\n/**\n * Thrown when a fee cap is too high.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeEip1559 } from 'ox'\n *\n * TransactionEnvelopeEip1559.assert({\n *   maxFeePerGas: 2n ** 256n - 1n + 1n,\n *   chainId: 1,\n * })\n * // @error: TransactionEnvelope.FeeCapTooHighError: The fee cap (`maxFeePerGas`/`maxPriorityFeePerGas` = 115792089237316195423570985008687907853269984665640564039457584007913.129639936 gwei) cannot be higher than the maximum allowed value (2^256-1).\n * ```\n */\nexport class FeeCapTooHighError extends Errors.BaseError {\n  override readonly name = 'TransactionEnvelope.FeeCapTooHighError'\n  constructor({\n    feeCap,\n  }: {\n    feeCap?: bigint | undefined\n  } = {}) {\n    super(\n      `The fee cap (\\`maxFeePerGas\\`/\\`maxPriorityFeePerGas\\`${\n        feeCap ? ` = ${Value.formatGwei(feeCap)} gwei` : ''\n      }) cannot be higher than the maximum allowed value (2^256-1).`,\n    )\n  }\n}\n\n/**\n * Thrown when a gas price is too high.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeLegacy } from 'ox'\n *\n * TransactionEnvelopeLegacy.assert({\n *   gasPrice: 2n ** 256n - 1n + 1n,\n *   chainId: 1,\n * })\n * // @error: TransactionEnvelope.GasPriceTooHighError: The gas price (`gasPrice` = 115792089237316195423570985008687907853269984665640564039457584007913.129639936 gwei) cannot be higher than the maximum allowed value (2^256-1).\n * ```\n */\nexport class GasPriceTooHighError extends Errors.BaseError {\n  override readonly name = 'TransactionEnvelope.GasPriceTooHighError'\n  constructor({\n    gasPrice,\n  }: {\n    gasPrice?: bigint | undefined\n  } = {}) {\n    super(\n      `The gas price (\\`gasPrice\\`${\n        gasPrice ? ` = ${Value.formatGwei(gasPrice)} gwei` : ''\n      }) cannot be higher than the maximum allowed value (2^256-1).`,\n    )\n  }\n}\n\n/**\n * Thrown when a chain ID is invalid.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeEip1559 } from 'ox'\n *\n * TransactionEnvelopeEip1559.assert({ chainId: 0 })\n * // @error: TransactionEnvelope.InvalidChainIdError: Chain ID \"0\" is invalid.\n * ```\n */\nexport class InvalidChainIdError extends Errors.BaseError {\n  override readonly name = 'TransactionEnvelope.InvalidChainIdError'\n  constructor({ chainId }: { chainId?: number | undefined }) {\n    super(\n      typeof chainId !== 'undefined'\n        ? `Chain ID \"${chainId}\" is invalid.`\n        : 'Chain ID is invalid.',\n    )\n  }\n}\n\n/**\n * Thrown when a serialized transaction is invalid.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeEip1559 } from 'ox'\n *\n * TransactionEnvelopeEip1559.deserialize('0x02c0')\n * // @error: TransactionEnvelope.InvalidSerializedError: Invalid serialized transaction of type \"eip1559\" was provided.\n * // @error: Serialized Transaction: \"0x02c0\"\n * // @error: Missing Attributes: chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gas, to, value, data, accessList\n * ```\n */\nexport class InvalidSerializedError extends Errors.BaseError {\n  override readonly name = 'TransactionEnvelope.InvalidSerializedError'\n  constructor({\n    attributes,\n    serialized,\n    type,\n  }: {\n    attributes: Record<string, unknown>\n    serialized: Hex.Hex\n    type: string\n  }) {\n    const missing = Object.entries(attributes)\n      .map(([key, value]) => (typeof value === 'undefined' ? key : undefined))\n      .filter(Boolean)\n    super(`Invalid serialized transaction of type \"${type}\" was provided.`, {\n      metaMessages: [\n        `Serialized Transaction: \"${serialized}\"`,\n        missing.length > 0 ? `Missing Attributes: ${missing.join(', ')}` : '',\n      ].filter(Boolean),\n    })\n  }\n}\n\n/**\n * Thrown when a tip is higher than a fee cap.\n *\n * @example\n * ```ts twoslash\n * import { TransactionEnvelopeEip1559 } from 'ox'\n *\n * TransactionEnvelopeEip1559.assert({\n *   chainId: 1,\n *   maxFeePerGas: 10n,\n *   maxPriorityFeePerGas: 11n,\n * })\n * // @error: TransactionEnvelope.TipAboveFeeCapError: The provided tip (`maxPriorityFeePerGas` = 11 gwei) cannot be higher than the fee cap (`maxFeePerGas` = 10 gwei).\n * ```\n */\nexport class TipAboveFeeCapError extends Errors.BaseError {\n  override readonly name = 'TransactionEnvelope.TipAboveFeeCapError'\n  constructor({\n    maxPriorityFeePerGas,\n    maxFeePerGas,\n  }: {\n    maxPriorityFeePerGas?: bigint | undefined\n    maxFeePerGas?: bigint | undefined\n  } = {}) {\n    super(\n      [\n        `The provided tip (\\`maxPriorityFeePerGas\\`${\n          maxPriorityFeePerGas\n            ? ` = ${Value.formatGwei(maxPriorityFeePerGas)} gwei`\n            : ''\n        }) cannot be higher than the fee cap (\\`maxFeePerGas\\`${\n          maxFeePerGas ? ` = ${Value.formatGwei(maxFeePerGas)} gwei` : ''\n        }).`,\n      ].join('\\n'),\n    )\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}