{"ast":null,"code":"import _objectWithoutProperties from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _toPropertyKey from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js\";\nimport _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n/* eslint-disable no-console */\nimport { ConstantsUtil as CommonConstantsUtil, SafeLocalStorage, SafeLocalStorageKeys, getSafeConnectorIdKey } from '@reown/appkit-common';\n// -- Utility -----------------------------------------------------------------\nexport const StorageUtil = {\n  // Cache expiry in milliseconds\n  cacheExpiry: {\n    portfolio: 30000,\n    nativeBalance: 30000,\n    ens: 300000,\n    identity: 300000,\n    transactionsHistory: 15000,\n    tokenPrice: 15000,\n    // 7 Days\n    latestAppKitVersion: 604800000\n  },\n  isCacheExpired(timestamp, cacheExpiry) {\n    return Date.now() - timestamp > cacheExpiry;\n  },\n  getActiveNetworkProps() {\n    const namespace = StorageUtil.getActiveNamespace();\n    const caipNetworkId = StorageUtil.getActiveCaipNetworkId();\n    const stringChainId = caipNetworkId ? caipNetworkId.split(':')[1] : undefined;\n    // eslint-disable-next-line no-nested-ternary\n    const chainId = stringChainId ? isNaN(Number(stringChainId)) ? stringChainId : Number(stringChainId) : undefined;\n    return {\n      namespace,\n      caipNetworkId,\n      chainId\n    };\n  },\n  setWalletConnectDeepLink(_ref) {\n    let {\n      name,\n      href\n    } = _ref;\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.DEEPLINK_CHOICE, JSON.stringify({\n        href,\n        name\n      }));\n    } catch (_unused) {\n      console.info('Unable to set WalletConnect deep link');\n    }\n  },\n  getWalletConnectDeepLink() {\n    try {\n      const deepLink = SafeLocalStorage.getItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);\n      if (deepLink) {\n        return JSON.parse(deepLink);\n      }\n    } catch (_unused2) {\n      console.info('Unable to get WalletConnect deep link');\n    }\n    return undefined;\n  },\n  deleteWalletConnectDeepLink() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);\n    } catch (_unused3) {\n      console.info('Unable to delete WalletConnect deep link');\n    }\n  },\n  setActiveNamespace(namespace) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_NAMESPACE, namespace);\n    } catch (_unused4) {\n      console.info('Unable to set active namespace');\n    }\n  },\n  setActiveCaipNetworkId(caipNetworkId) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID, caipNetworkId);\n      StorageUtil.setActiveNamespace(caipNetworkId.split(':')[0]);\n    } catch (_unused5) {\n      console.info('Unable to set active caip network id');\n    }\n  },\n  getActiveCaipNetworkId() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    } catch (_unused6) {\n      console.info('Unable to get active caip network id');\n      return undefined;\n    }\n  },\n  deleteActiveCaipNetworkId() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    } catch (_unused7) {\n      console.info('Unable to delete active caip network id');\n    }\n  },\n  deleteConnectedConnectorId(namespace) {\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      SafeLocalStorage.removeItem(key);\n    } catch (_unused8) {\n      console.info('Unable to delete connected connector id');\n    }\n  },\n  setAppKitRecent(wallet) {\n    try {\n      const recentWallets = StorageUtil.getRecentWallets();\n      const exists = recentWallets.find(w => w.id === wallet.id);\n      if (!exists) {\n        recentWallets.unshift(wallet);\n        if (recentWallets.length > 2) {\n          recentWallets.pop();\n        }\n        SafeLocalStorage.setItem(SafeLocalStorageKeys.RECENT_WALLETS, JSON.stringify(recentWallets));\n        SafeLocalStorage.setItem(SafeLocalStorageKeys.RECENT_WALLET, JSON.stringify(wallet));\n      }\n    } catch (_unused9) {\n      console.info('Unable to set AppKit recent');\n    }\n  },\n  getRecentWallets() {\n    try {\n      const recent = SafeLocalStorage.getItem(SafeLocalStorageKeys.RECENT_WALLETS);\n      return recent ? JSON.parse(recent) : [];\n    } catch (_unused0) {\n      console.info('Unable to get AppKit recent');\n    }\n    return [];\n  },\n  getRecentWallet() {\n    try {\n      const recent = SafeLocalStorage.getItem(SafeLocalStorageKeys.RECENT_WALLET);\n      return recent ? JSON.parse(recent) : null;\n    } catch (_unused1) {\n      console.info('Unable to get AppKit recent');\n    }\n    return null;\n  },\n  deleteRecentWallet() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.RECENT_WALLET);\n    } catch (_unused10) {\n      console.info('Unable to delete AppKit recent');\n    }\n  },\n  setConnectedConnectorId(namespace, connectorId) {\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      SafeLocalStorage.setItem(key, connectorId);\n    } catch (_unused11) {\n      console.info('Unable to set Connected Connector Id');\n    }\n  },\n  getActiveNamespace() {\n    try {\n      const activeNamespace = SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_NAMESPACE);\n      return activeNamespace;\n    } catch (_unused12) {\n      console.info('Unable to get active namespace');\n    }\n    return undefined;\n  },\n  getConnectedConnectorId(namespace) {\n    if (!namespace) {\n      return undefined;\n    }\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      return SafeLocalStorage.getItem(key);\n    } catch (e) {\n      console.info('Unable to get connected connector id in namespace', namespace);\n    }\n    return undefined;\n  },\n  setConnectedSocialProvider(socialProvider) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_SOCIAL, socialProvider);\n    } catch (_unused13) {\n      console.info('Unable to set connected social provider');\n    }\n  },\n  getConnectedSocialProvider() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL);\n    } catch (_unused14) {\n      console.info('Unable to get connected social provider');\n    }\n    return undefined;\n  },\n  deleteConnectedSocialProvider() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.CONNECTED_SOCIAL);\n    } catch (_unused15) {\n      console.info('Unable to delete connected social provider');\n    }\n  },\n  getConnectedSocialUsername() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME);\n    } catch (_unused16) {\n      console.info('Unable to get connected social username');\n    }\n    return undefined;\n  },\n  getStoredActiveCaipNetworkId() {\n    var _storedCaipNetworkId$;\n    const storedCaipNetworkId = SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    const networkId = storedCaipNetworkId === null || storedCaipNetworkId === void 0 || (_storedCaipNetworkId$ = storedCaipNetworkId.split(':')) === null || _storedCaipNetworkId$ === void 0 ? void 0 : _storedCaipNetworkId$[1];\n    return networkId;\n  },\n  setConnectionStatus(status) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTION_STATUS, status);\n    } catch (_unused17) {\n      console.info('Unable to set connection status');\n    }\n  },\n  getConnectionStatus() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTION_STATUS);\n    } catch (_unused18) {\n      return undefined;\n    }\n  },\n  getConnectedNamespaces() {\n    try {\n      const namespaces = SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_NAMESPACES);\n      if (!(namespaces !== null && namespaces !== void 0 && namespaces.length)) {\n        return [];\n      }\n      return namespaces.split(',');\n    } catch (_unused19) {\n      return [];\n    }\n  },\n  setConnectedNamespaces(namespaces) {\n    try {\n      const uniqueNamespaces = Array.from(new Set(namespaces));\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_NAMESPACES, uniqueNamespaces.join(','));\n    } catch (_unused20) {\n      console.info('Unable to set namespaces in storage');\n    }\n  },\n  addConnectedNamespace(namespace) {\n    try {\n      const namespaces = StorageUtil.getConnectedNamespaces();\n      if (!namespaces.includes(namespace)) {\n        namespaces.push(namespace);\n        StorageUtil.setConnectedNamespaces(namespaces);\n      }\n    } catch (_unused21) {\n      console.info('Unable to add connected namespace');\n    }\n  },\n  removeConnectedNamespace(namespace) {\n    try {\n      const namespaces = StorageUtil.getConnectedNamespaces();\n      const index = namespaces.indexOf(namespace);\n      if (index > -1) {\n        namespaces.splice(index, 1);\n        StorageUtil.setConnectedNamespaces(namespaces);\n      }\n    } catch (_unused22) {\n      console.info('Unable to remove connected namespace');\n    }\n  },\n  getTelegramSocialProvider() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n    } catch (_unused23) {\n      console.info('Unable to get telegram social provider');\n      return null;\n    }\n  },\n  setTelegramSocialProvider(socialProvider) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER, socialProvider);\n    } catch (_unused24) {\n      console.info('Unable to set telegram social provider');\n    }\n  },\n  removeTelegramSocialProvider() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n    } catch (_unused25) {\n      console.info('Unable to remove telegram social provider');\n    }\n  },\n  getBalanceCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.PORTFOLIO_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch (_unused26) {\n      console.info('Unable to get balance cache');\n    }\n    return cache;\n  },\n  removeAddressFromBalanceCache(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify(_objectSpread(_objectSpread({}, cache), {}, {\n        [caipAddress]: undefined\n      })));\n    } catch (_unused27) {\n      console.info('Unable to remove address from balance cache', caipAddress);\n    }\n  },\n  getBalanceCacheForCaipAddress(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      const balanceCache = cache[caipAddress];\n      // We want to discard cache if it's older than the cache expiry\n      if (balanceCache && !this.isCacheExpired(balanceCache.timestamp, this.cacheExpiry.portfolio)) {\n        return balanceCache.balance;\n      }\n      StorageUtil.removeAddressFromBalanceCache(caipAddress);\n    } catch (_unused28) {\n      console.info('Unable to get balance cache for address', caipAddress);\n    }\n    return undefined;\n  },\n  updateBalanceCache(params) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      cache[params.caipAddress] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify(cache));\n    } catch (_unused29) {\n      console.info('Unable to update balance cache', params);\n    }\n  },\n  getNativeBalanceCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch (_unused30) {\n      console.info('Unable to get balance cache');\n    }\n    return cache;\n  },\n  removeAddressFromNativeBalanceCache(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify(_objectSpread(_objectSpread({}, cache), {}, {\n        [caipAddress]: undefined\n      })));\n    } catch (_unused31) {\n      console.info('Unable to remove address from balance cache', caipAddress);\n    }\n  },\n  getNativeBalanceCacheForCaipAddress(caipAddress) {\n    try {\n      const cache = StorageUtil.getNativeBalanceCache();\n      const nativeBalanceCache = cache[caipAddress];\n      // We want to discard cache if it's older than the cache expiry\n      if (nativeBalanceCache && !this.isCacheExpired(nativeBalanceCache.timestamp, this.cacheExpiry.nativeBalance)) {\n        return nativeBalanceCache;\n      }\n      console.info('Discarding cache for address', caipAddress);\n      StorageUtil.removeAddressFromBalanceCache(caipAddress);\n    } catch (_unused32) {\n      console.info('Unable to get balance cache for address', caipAddress);\n    }\n    return undefined;\n  },\n  updateNativeBalanceCache(params) {\n    try {\n      const cache = StorageUtil.getNativeBalanceCache();\n      cache[params.caipAddress] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify(cache));\n    } catch (_unused33) {\n      console.info('Unable to update balance cache', params);\n    }\n  },\n  getEnsCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.ENS_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch (_unused34) {\n      console.info('Unable to get ens name cache');\n    }\n    return cache;\n  },\n  getEnsFromCacheForAddress(address) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      const ensCache = cache[address];\n      // We want to discard cache if it's older than the cache expiry\n      if (ensCache && !this.isCacheExpired(ensCache.timestamp, this.cacheExpiry.ens)) {\n        return ensCache.ens;\n      }\n      StorageUtil.removeEnsFromCache(address);\n    } catch (_unused35) {\n      console.info('Unable to get ens name from cache', address);\n    }\n    return undefined;\n  },\n  updateEnsCache(params) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      cache[params.address] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ENS_CACHE, JSON.stringify(cache));\n    } catch (_unused36) {\n      console.info('Unable to update ens name cache', params);\n    }\n  },\n  removeEnsFromCache(address) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ENS_CACHE, JSON.stringify(_objectSpread(_objectSpread({}, cache), {}, {\n        [address]: undefined\n      })));\n    } catch (_unused37) {\n      console.info('Unable to remove ens name from cache', address);\n    }\n  },\n  getIdentityCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.IDENTITY_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch (_unused38) {\n      console.info('Unable to get identity cache');\n    }\n    return cache;\n  },\n  getIdentityFromCacheForAddress(address) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      const identityCache = cache[address];\n      // We want to discard cache if it's older than the cache expiry\n      if (identityCache && !this.isCacheExpired(identityCache.timestamp, this.cacheExpiry.identity)) {\n        return identityCache.identity;\n      }\n      StorageUtil.removeIdentityFromCache(address);\n    } catch (_unused39) {\n      console.info('Unable to get identity from cache', address);\n    }\n    return undefined;\n  },\n  updateIdentityCache(params) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      cache[params.address] = {\n        identity: params.identity,\n        timestamp: params.timestamp\n      };\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify(cache));\n    } catch (_unused40) {\n      console.info('Unable to update identity cache', params);\n    }\n  },\n  removeIdentityFromCache(address) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify(_objectSpread(_objectSpread({}, cache), {}, {\n        [address]: undefined\n      })));\n    } catch (_unused41) {\n      console.info('Unable to remove identity from cache', address);\n    }\n  },\n  clearAddressCache() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.PORTFOLIO_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.ENS_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.IDENTITY_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n    } catch (_unused42) {\n      console.info('Unable to clear address cache');\n    }\n  },\n  setPreferredAccountTypes(accountTypes) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES, JSON.stringify(accountTypes));\n    } catch (_unused43) {\n      console.info('Unable to set preferred account types', accountTypes);\n    }\n  },\n  getPreferredAccountTypes() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);\n      if (!result) {\n        return {};\n      }\n      return JSON.parse(result);\n    } catch (_unused44) {\n      console.info('Unable to get preferred account types');\n    }\n    return {};\n  },\n  setConnections(connections, chainNamespace) {\n    try {\n      var _existingConnections$;\n      const existingConnections = StorageUtil.getConnections();\n      const existing = (_existingConnections$ = existingConnections[chainNamespace]) !== null && _existingConnections$ !== void 0 ? _existingConnections$ : [];\n      const connectorConnectionMap = new Map();\n      for (const conn of existing) {\n        connectorConnectionMap.set(conn.connectorId, _objectSpread({}, conn));\n      }\n      for (const conn of connections) {\n        const existingConn = connectorConnectionMap.get(conn.connectorId);\n        const isAuth = conn.connectorId === CommonConstantsUtil.CONNECTOR_ID.AUTH;\n        if (existingConn && !isAuth) {\n          const existingAddrs = new Set(existingConn.accounts.map(a => a.address.toLowerCase()));\n          const newAccounts = conn.accounts.filter(a => !existingAddrs.has(a.address.toLowerCase()));\n          existingConn.accounts.push(...newAccounts);\n        } else {\n          connectorConnectionMap.set(conn.connectorId, _objectSpread({}, conn));\n        }\n      }\n      const dedupedConnections = _objectSpread(_objectSpread({}, existingConnections), {}, {\n        [chainNamespace]: Array.from(connectorConnectionMap.values())\n      });\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTIONS, JSON.stringify(dedupedConnections));\n    } catch (error) {\n      console.error('Unable to sync connections to storage', error);\n    }\n  },\n  getConnections() {\n    try {\n      const connectionsStorage = SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTIONS);\n      if (!connectionsStorage) {\n        return {};\n      }\n      return JSON.parse(connectionsStorage);\n    } catch (error) {\n      console.error('Unable to get connections from storage', error);\n      return {};\n    }\n  },\n  deleteAddressFromConnection(_ref2) {\n    let {\n      connectorId,\n      address,\n      namespace\n    } = _ref2;\n    try {\n      var _connections$namespac;\n      const connections = StorageUtil.getConnections();\n      const namespaceConnections = (_connections$namespac = connections[namespace]) !== null && _connections$namespac !== void 0 ? _connections$namespac : [];\n      const connectionMap = new Map(namespaceConnections.map(conn => [conn.connectorId, conn]));\n      const connector = connectionMap.get(connectorId);\n      if (connector) {\n        const updatedAccounts = connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase());\n        if (updatedAccounts.length === 0) {\n          connectionMap.delete(connectorId);\n        } else {\n          connectionMap.set(connectorId, _objectSpread(_objectSpread({}, connector), {}, {\n            accounts: connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase())\n          }));\n        }\n      }\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTIONS, JSON.stringify(_objectSpread(_objectSpread({}, connections), {}, {\n        [namespace]: Array.from(connectionMap.values())\n      })));\n    } catch (_unused45) {\n      console.error(\"Unable to remove address \\\"\".concat(address, \"\\\" from connector \\\"\").concat(connectorId, \"\\\" in namespace \\\"\").concat(namespace, \"\\\"\"));\n    }\n  },\n  getDisconnectedConnectorIds() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);\n      if (!result) {\n        return {};\n      }\n      return JSON.parse(result);\n    } catch (_unused46) {\n      console.info('Unable to get disconnected connector ids');\n    }\n    return {};\n  },\n  addDisconnectedConnectorId(connectorId, chainNamespace) {\n    try {\n      var _currentDisconnectedC;\n      const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n      const disconnectedConnectorIdsByNamespace = (_currentDisconnectedC = currentDisconnectedConnectorIds[chainNamespace]) !== null && _currentDisconnectedC !== void 0 ? _currentDisconnectedC : [];\n      disconnectedConnectorIdsByNamespace.push(connectorId);\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify(_objectSpread(_objectSpread({}, currentDisconnectedConnectorIds), {}, {\n        [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n      })));\n    } catch (_unused47) {\n      console.error(\"Unable to set disconnected connector id \\\"\".concat(connectorId, \"\\\" for namespace \\\"\").concat(chainNamespace, \"\\\"\"));\n    }\n  },\n  removeDisconnectedConnectorId(connectorId, chainNamespace) {\n    try {\n      var _currentDisconnectedC2;\n      const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n      let disconnectedConnectorIdsByNamespace = (_currentDisconnectedC2 = currentDisconnectedConnectorIds[chainNamespace]) !== null && _currentDisconnectedC2 !== void 0 ? _currentDisconnectedC2 : [];\n      disconnectedConnectorIdsByNamespace = disconnectedConnectorIdsByNamespace.filter(id => id.toLowerCase() !== connectorId.toLowerCase());\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify(_objectSpread(_objectSpread({}, currentDisconnectedConnectorIds), {}, {\n        [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n      })));\n    } catch (_unused48) {\n      console.error(\"Unable to remove disconnected connector id \\\"\".concat(connectorId, \"\\\" for namespace \\\"\").concat(chainNamespace, \"\\\"\"));\n    }\n  },\n  isConnectorDisconnected(connectorId, chainNamespace) {\n    try {\n      var _currentDisconnectedC3;\n      const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n      const disconnectedConnectorIdsByNamespace = (_currentDisconnectedC3 = currentDisconnectedConnectorIds[chainNamespace]) !== null && _currentDisconnectedC3 !== void 0 ? _currentDisconnectedC3 : [];\n      return disconnectedConnectorIdsByNamespace.some(id => id.toLowerCase() === connectorId.toLowerCase());\n    } catch (_unused49) {\n      console.info(\"Unable to get disconnected connector id \\\"\".concat(connectorId, \"\\\" for namespace \\\"\").concat(chainNamespace, \"\\\"\"));\n    }\n    return false;\n  },\n  getTransactionsCache() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n      return result ? JSON.parse(result) : {};\n    } catch (_unused50) {\n      console.info('Unable to get transactions cache');\n    }\n    return {};\n  },\n  getTransactionsCacheForAddress(_ref3) {\n    let {\n      address,\n      chainId = ''\n    } = _ref3;\n    try {\n      var _cache$address;\n      const cache = StorageUtil.getTransactionsCache();\n      const transactionsCache = (_cache$address = cache[address]) === null || _cache$address === void 0 ? void 0 : _cache$address[chainId];\n      // We want to discard cache if it's older than the cache expiry\n      if (transactionsCache && !this.isCacheExpired(transactionsCache.timestamp, this.cacheExpiry.transactionsHistory)) {\n        return transactionsCache.transactions;\n      }\n      StorageUtil.removeTransactionsCache({\n        address,\n        chainId\n      });\n    } catch (_unused51) {\n      console.info('Unable to get transactions cache');\n    }\n    return undefined;\n  },\n  updateTransactionsCache(_ref4) {\n    let {\n      address,\n      chainId = '',\n      timestamp,\n      transactions\n    } = _ref4;\n    try {\n      const cache = StorageUtil.getTransactionsCache();\n      cache[address] = _objectSpread(_objectSpread({}, cache[address]), {}, {\n        [chainId]: {\n          timestamp,\n          transactions\n        }\n      });\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify(cache));\n    } catch (_unused52) {\n      console.info('Unable to update transactions cache', {\n        address,\n        chainId,\n        timestamp,\n        transactions\n      });\n    }\n  },\n  removeTransactionsCache(_ref5) {\n    let {\n      address,\n      chainId\n    } = _ref5;\n    try {\n      const cache = StorageUtil.getTransactionsCache();\n      const addressCache = (cache === null || cache === void 0 ? void 0 : cache[address]) || {};\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const {\n          [chainId]: _removed\n        } = addressCache,\n        updatedChainData = _objectWithoutProperties(addressCache, [chainId].map(_toPropertyKey));\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify(_objectSpread(_objectSpread({}, cache), {}, {\n        [address]: updatedChainData\n      })));\n    } catch (_unused53) {\n      console.info('Unable to remove transactions cache', {\n        address,\n        chainId\n      });\n    }\n  },\n  getTokenPriceCache() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.TOKEN_PRICE_CACHE);\n      return result ? JSON.parse(result) : {};\n    } catch (_unused54) {\n      console.info('Unable to get token price cache');\n    }\n    return {};\n  },\n  getTokenPriceCacheForAddresses(addresses) {\n    try {\n      const cache = StorageUtil.getTokenPriceCache();\n      const tokenPriceCache = cache[addresses.join(',')];\n      if (tokenPriceCache && !this.isCacheExpired(tokenPriceCache.timestamp, this.cacheExpiry.tokenPrice)) {\n        return tokenPriceCache.tokenPrice;\n      }\n      StorageUtil.removeTokenPriceCache(addresses);\n    } catch (_unused55) {\n      console.info('Unable to get token price cache for addresses', addresses);\n    }\n    return undefined;\n  },\n  updateTokenPriceCache(params) {\n    try {\n      const cache = StorageUtil.getTokenPriceCache();\n      cache[params.addresses.join(',')] = {\n        timestamp: params.timestamp,\n        tokenPrice: params.tokenPrice\n      };\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify(cache));\n    } catch (_unused56) {\n      console.info('Unable to update token price cache', params);\n    }\n  },\n  removeTokenPriceCache(addresses) {\n    try {\n      const cache = StorageUtil.getTokenPriceCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify(_objectSpread(_objectSpread({}, cache), {}, {\n        [addresses.join(',')]: undefined\n      })));\n    } catch (_unused57) {\n      console.info('Unable to remove token price cache', addresses);\n    }\n  },\n  /* ----- AppKit Latest Version ------------------------- */\n  getLatestAppKitVersion() {\n    try {\n      const result = this.getLatestAppKitVersionCache();\n      const version = result === null || result === void 0 ? void 0 : result.version;\n      if (version && !this.isCacheExpired(result.timestamp, this.cacheExpiry.latestAppKitVersion)) {\n        return version;\n      }\n      return undefined;\n    } catch (_unused58) {\n      console.info('Unable to get latest AppKit version');\n    }\n    return undefined;\n  },\n  getLatestAppKitVersionCache() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.LATEST_APPKIT_VERSION);\n      return result ? JSON.parse(result) : {};\n    } catch (_unused59) {\n      console.info('Unable to get latest AppKit version cache');\n    }\n    return {};\n  },\n  updateLatestAppKitVersion(params) {\n    try {\n      const cache = StorageUtil.getLatestAppKitVersionCache();\n      cache.timestamp = params.timestamp;\n      cache.version = params.version;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.LATEST_APPKIT_VERSION, JSON.stringify(cache));\n    } catch (_unused60) {\n      console.info('Unable to update latest AppKit version on local storage', params);\n    }\n  }\n};","map":{"version":3,"names":["ConstantsUtil","CommonConstantsUtil","SafeLocalStorage","SafeLocalStorageKeys","getSafeConnectorIdKey","StorageUtil","cacheExpiry","portfolio","nativeBalance","ens","identity","transactionsHistory","tokenPrice","latestAppKitVersion","isCacheExpired","timestamp","Date","now","getActiveNetworkProps","namespace","getActiveNamespace","caipNetworkId","getActiveCaipNetworkId","stringChainId","split","undefined","chainId","isNaN","Number","setWalletConnectDeepLink","_ref","name","href","setItem","DEEPLINK_CHOICE","JSON","stringify","_unused","console","info","getWalletConnectDeepLink","deepLink","getItem","parse","_unused2","deleteWalletConnectDeepLink","removeItem","_unused3","setActiveNamespace","ACTIVE_NAMESPACE","_unused4","setActiveCaipNetworkId","ACTIVE_CAIP_NETWORK_ID","_unused5","_unused6","deleteActiveCaipNetworkId","_unused7","deleteConnectedConnectorId","key","_unused8","setAppKitRecent","wallet","recentWallets","getRecentWallets","exists","find","w","id","unshift","length","pop","RECENT_WALLETS","RECENT_WALLET","_unused9","recent","_unused0","getRecentWallet","_unused1","deleteRecentWallet","_unused10","setConnectedConnectorId","connectorId","_unused11","activeNamespace","_unused12","getConnectedConnectorId","e","setConnectedSocialProvider","socialProvider","CONNECTED_SOCIAL","_unused13","getConnectedSocialProvider","_unused14","deleteConnectedSocialProvider","_unused15","getConnectedSocialUsername","CONNECTED_SOCIAL_USERNAME","_unused16","getStoredActiveCaipNetworkId","_storedCaipNetworkId$","storedCaipNetworkId","networkId","setConnectionStatus","status","CONNECTION_STATUS","_unused17","getConnectionStatus","_unused18","getConnectedNamespaces","namespaces","CONNECTED_NAMESPACES","_unused19","setConnectedNamespaces","uniqueNamespaces","Array","from","Set","join","_unused20","addConnectedNamespace","includes","push","_unused21","removeConnectedNamespace","index","indexOf","splice","_unused22","getTelegramSocialProvider","TELEGRAM_SOCIAL_PROVIDER","_unused23","setTelegramSocialProvider","_unused24","removeTelegramSocialProvider","_unused25","getBalanceCache","cache","result","PORTFOLIO_CACHE","_unused26","removeAddressFromBalanceCache","caipAddress","_objectSpread","_unused27","getBalanceCacheForCaipAddress","balanceCache","balance","_unused28","updateBalanceCache","params","_unused29","getNativeBalanceCache","NATIVE_BALANCE_CACHE","_unused30","removeAddressFromNativeBalanceCache","_unused31","getNativeBalanceCacheForCaipAddress","nativeBalanceCache","_unused32","updateNativeBalanceCache","_unused33","getEnsCache","ENS_CACHE","_unused34","getEnsFromCacheForAddress","address","ensCache","removeEnsFromCache","_unused35","updateEnsCache","_unused36","_unused37","getIdentityCache","IDENTITY_CACHE","_unused38","getIdentityFromCacheForAddress","identityCache","removeIdentityFromCache","_unused39","updateIdentityCache","_unused40","_unused41","clearAddressCache","HISTORY_TRANSACTIONS_CACHE","_unused42","setPreferredAccountTypes","accountTypes","PREFERRED_ACCOUNT_TYPES","_unused43","getPreferredAccountTypes","_unused44","setConnections","connections","chainNamespace","_existingConnections$","existingConnections","getConnections","existing","connectorConnectionMap","Map","conn","set","existingConn","get","isAuth","CONNECTOR_ID","AUTH","existingAddrs","accounts","map","a","toLowerCase","newAccounts","filter","has","dedupedConnections","values","CONNECTIONS","error","connectionsStorage","deleteAddressFromConnection","_ref2","_connections$namespac","namespaceConnections","connectionMap","connector","updatedAccounts","acc","delete","_unused45","concat","getDisconnectedConnectorIds","DISCONNECTED_CONNECTOR_IDS","_unused46","addDisconnectedConnectorId","_currentDisconnectedC","currentDisconnectedConnectorIds","disconnectedConnectorIdsByNamespace","_unused47","removeDisconnectedConnectorId","_currentDisconnectedC2","_unused48","isConnectorDisconnected","_currentDisconnectedC3","some","_unused49","getTransactionsCache","_unused50","getTransactionsCacheForAddress","_ref3","_cache$address","transactionsCache","transactions","removeTransactionsCache","_unused51","updateTransactionsCache","_ref4","_unused52","_ref5","addressCache","_removed","updatedChainData","_objectWithoutProperties","_toPropertyKey","_unused53","getTokenPriceCache","TOKEN_PRICE_CACHE","_unused54","getTokenPriceCacheForAddresses","addresses","tokenPriceCache","removeTokenPriceCache","_unused55","updateTokenPriceCache","_unused56","_unused57","getLatestAppKitVersion","getLatestAppKitVersionCache","version","_unused58","LATEST_APPKIT_VERSION","_unused59","updateLatestAppKitVersion","_unused60"],"sources":["../../../../src/utils/StorageUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}