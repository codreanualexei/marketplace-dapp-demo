{"ast":null,"code":"import '@reown/appkit-common';\nimport { ChainController, ConnectionController, ConnectorController, CoreHelperUtil, OptionsController } from '@reown/appkit-controllers';\nimport { AppKitBaseClient } from './appkit-base-client.js';\n// -- Helpers -------------------------------------------------------------------\nlet isInitialized = false;\n// -- Client --------------------------------------------------------------------\nexport class AppKit extends AppKitBaseClient {\n  // -- Overrides --------------------------------------------------------------\n  async open(options) {\n    // Only open modal when not connected\n    const isConnected = ConnectorController.isConnected();\n    if (!isConnected) {\n      await super.open(options);\n    }\n  }\n  async close() {\n    await super.close();\n    if (this.options.manualWCControl) {\n      var _ChainController$getA;\n      const address = (_ChainController$getA = ChainController.getAccountData(this.activeChainNamespace)) === null || _ChainController$getA === void 0 ? void 0 : _ChainController$getA.address;\n      ConnectionController.finalizeWcConnection(address);\n    }\n  }\n  async syncIdentity(_request) {\n    return Promise.resolve();\n  }\n  async syncBalance(_params) {\n    return Promise.resolve();\n  }\n  async injectModalUi() {\n    if (!isInitialized && CoreHelperUtil.isClient()) {\n      await import('@reown/appkit-scaffold-ui/basic');\n      await import('@reown/appkit-scaffold-ui/w3m-modal');\n      const isElementCreated = document.querySelector('w3m-modal');\n      if (!isElementCreated) {\n        const modal = document.createElement('w3m-modal');\n        if (!OptionsController.state.disableAppend && !OptionsController.state.enableEmbedded) {\n          document.body.insertAdjacentElement('beforeend', modal);\n        }\n      }\n      isInitialized = true;\n    }\n  }\n}","map":{"version":3,"names":["ChainController","ConnectionController","ConnectorController","CoreHelperUtil","OptionsController","AppKitBaseClient","isInitialized","AppKit","open","options","isConnected","close","manualWCControl","_ChainController$getA","address","getAccountData","activeChainNamespace","finalizeWcConnection","syncIdentity","_request","Promise","resolve","syncBalance","_params","injectModalUi","isClient","isElementCreated","document","querySelector","modal","createElement","state","disableAppend","enableEmbedded","body","insertAdjacentElement"],"sources":["../../../../src/client/appkit-core.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAoC,sBAAsB;AAE1D,SACEA,eAAe,EACfC,oBAAoB,EACpBC,mBAAmB,EACnBC,cAAc,EACdC,iBAAiB,QACZ,2BAA2B;AAGlC,SACEC,gBAAgB,QAGX,yBAAyB;AAWhC;AACA,IAAIC,aAAa,GAAG,KAAK;AAEzB;AACA,OAAM,MAAOC,MAAO,SAAQF,gBAAgB;EAS1C;EACgB,MAAMG,IAAIA,CAAqBC,OAA2B;IACxE;IACA,MAAMC,WAAW,GAAGR,mBAAmB,CAACQ,WAAW,EAAE;IAErD,IAAI,CAACA,WAAW,EAAE;MAChB,MAAM,KAAK,CAACF,IAAI,CAACC,OAAO,CAAC;IAC3B;EACF;EAEgB,MAAME,KAAKA,CAAA;IACzB,MAAM,KAAK,CAACA,KAAK,EAAE;IAEnB,IAAI,IAAI,CAACF,OAAO,CAACG,eAAe,EAAE;MAAA,IAAAC,qBAAA;MAChC,MAAMC,OAAO,IAAAD,qBAAA,GAAGb,eAAe,CAACe,cAAc,CAAC,IAAI,CAACC,oBAAoB,CAAC,cAAAH,qBAAA,uBAAzDA,qBAAA,CAA2DC,OAAO;MAClFb,oBAAoB,CAACgB,oBAAoB,CAACH,OAAO,CAAC;IACpD;EACF;EAEgB,MAAMI,YAAYA,CAChCC,QAEC;IAED,OAAOC,OAAO,CAACC,OAAO,EAAE;EAC1B;EAEgB,MAAMC,WAAWA,CAACC,OAIjC;IACC,OAAOH,OAAO,CAACC,OAAO,EAAE;EAC1B;EAEmB,MAAMG,aAAaA,CAAA;IACpC,IAAI,CAAClB,aAAa,IAAIH,cAAc,CAACsB,QAAQ,EAAE,EAAE;MAC/C,MAAM,MAAM,CAAC,iCAAiC,CAAC;MAC/C,MAAM,MAAM,CAAC,qCAAqC,CAAC;MAEnD,MAAMC,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;MAC5D,IAAI,CAACF,gBAAgB,EAAE;QACrB,MAAMG,KAAK,GAAGF,QAAQ,CAACG,aAAa,CAAC,WAAW,CAAC;QACjD,IAAI,CAAC1B,iBAAiB,CAAC2B,KAAK,CAACC,aAAa,IAAI,CAAC5B,iBAAiB,CAAC2B,KAAK,CAACE,cAAc,EAAE;UACrFN,QAAQ,CAACO,IAAI,CAACC,qBAAqB,CAAC,WAAW,EAAEN,KAAK,CAAC;QACzD;MACF;MACAvB,aAAa,GAAG,IAAI;IACtB;EACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}