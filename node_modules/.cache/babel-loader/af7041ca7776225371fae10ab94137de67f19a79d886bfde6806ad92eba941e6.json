{"ast":null,"code":"// Utility to suppress WalletConnect session topic errors\nexport const suppressWalletConnectErrors = () => {\n  // Override the global error handler for uncaught errors\n  const handleError = event => {\n    var _event$error;\n    const errorMessage = ((_event$error = event.error) === null || _event$error === void 0 ? void 0 : _event$error.message) || event.message || '';\n    if (errorMessage.includes('No matching key. session topic doesn\\'t exist') || errorMessage.includes('session topic doesn\\'t exist') || errorMessage.includes('isValidSessionTopic') || errorMessage.includes('isValidUpdate') || errorMessage.includes('onSessionUpdateRequest') || errorMessage.includes('onSessionEventRequest') || errorMessage.includes('isValidEmit') || errorMessage.includes('Connection request reset') || errorMessage.includes('Please try again') || errorMessage.includes('connection was reset') || errorMessage.includes('request was reset')) {\n      console.log('WalletConnect Error Suppression: Suppressing session error:', errorMessage);\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    }\n  };\n\n  // Override the global unhandled promise rejection handler\n  const handleUnhandledRejection = event => {\n    var _event$reason, _event$reason2;\n    const errorMessage = ((_event$reason = event.reason) === null || _event$reason === void 0 ? void 0 : _event$reason.message) || ((_event$reason2 = event.reason) === null || _event$reason2 === void 0 ? void 0 : _event$reason2.toString()) || '';\n    if (errorMessage.includes('No matching key. session topic doesn\\'t exist') || errorMessage.includes('session topic doesn\\'t exist') || errorMessage.includes('isValidSessionTopic') || errorMessage.includes('isValidUpdate') || errorMessage.includes('onSessionUpdateRequest') || errorMessage.includes('onSessionEventRequest') || errorMessage.includes('isValidEmit') || errorMessage.includes('Connection request reset') || errorMessage.includes('Please try again') || errorMessage.includes('connection was reset') || errorMessage.includes('request was reset')) {\n      console.log('WalletConnect Error Suppression: Suppressing session promise rejection:', errorMessage);\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    }\n  };\n\n  // Add event listeners with capture to catch errors early\n  window.addEventListener('error', handleError, true);\n  window.addEventListener('unhandledrejection', handleUnhandledRejection, true);\n\n  // Return cleanup function\n  return () => {\n    window.removeEventListener('error', handleError, true);\n    window.removeEventListener('unhandledrejection', handleUnhandledRejection, true);\n  };\n};\n\n// Wrapper function to suppress errors during WalletConnect operations\nexport const withWalletConnectErrorSuppression = async operation => {\n  const cleanup = suppressWalletConnectErrors();\n  try {\n    return await operation();\n  } finally {\n    cleanup();\n  }\n};","map":{"version":3,"names":["suppressWalletConnectErrors","handleError","event","_event$error","errorMessage","error","message","includes","console","log","preventDefault","stopPropagation","handleUnhandledRejection","_event$reason","_event$reason2","reason","toString","window","addEventListener","removeEventListener","withWalletConnectErrorSuppression","operation","cleanup"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/src/utils/walletConnectErrorSuppression.ts"],"sourcesContent":["// Utility to suppress WalletConnect session topic errors\nexport const suppressWalletConnectErrors = () => {\n  // Override the global error handler for uncaught errors\n  const handleError = (event: ErrorEvent) => {\n    const errorMessage = event.error?.message || event.message || '';\n    \n    if (errorMessage.includes('No matching key. session topic doesn\\'t exist') ||\n        errorMessage.includes('session topic doesn\\'t exist') ||\n        errorMessage.includes('isValidSessionTopic') ||\n        errorMessage.includes('isValidUpdate') ||\n        errorMessage.includes('onSessionUpdateRequest') ||\n        errorMessage.includes('onSessionEventRequest') ||\n        errorMessage.includes('isValidEmit') ||\n        errorMessage.includes('Connection request reset') ||\n        errorMessage.includes('Please try again') ||\n        errorMessage.includes('connection was reset') ||\n        errorMessage.includes('request was reset')) {\n      console.log('WalletConnect Error Suppression: Suppressing session error:', errorMessage);\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    }\n  };\n\n  // Override the global unhandled promise rejection handler\n  const handleUnhandledRejection = (event: PromiseRejectionEvent) => {\n    const errorMessage = event.reason?.message || event.reason?.toString() || '';\n    \n    if (errorMessage.includes('No matching key. session topic doesn\\'t exist') ||\n        errorMessage.includes('session topic doesn\\'t exist') ||\n        errorMessage.includes('isValidSessionTopic') ||\n        errorMessage.includes('isValidUpdate') ||\n        errorMessage.includes('onSessionUpdateRequest') ||\n        errorMessage.includes('onSessionEventRequest') ||\n        errorMessage.includes('isValidEmit') ||\n        errorMessage.includes('Connection request reset') ||\n        errorMessage.includes('Please try again') ||\n        errorMessage.includes('connection was reset') ||\n        errorMessage.includes('request was reset')) {\n      console.log('WalletConnect Error Suppression: Suppressing session promise rejection:', errorMessage);\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    }\n  };\n\n  // Add event listeners with capture to catch errors early\n  window.addEventListener('error', handleError, true);\n  window.addEventListener('unhandledrejection', handleUnhandledRejection, true);\n\n  // Return cleanup function\n  return () => {\n    window.removeEventListener('error', handleError, true);\n    window.removeEventListener('unhandledrejection', handleUnhandledRejection, true);\n  };\n};\n\n// Wrapper function to suppress errors during WalletConnect operations\nexport const withWalletConnectErrorSuppression = async <T>(\n  operation: () => Promise<T>\n): Promise<T> => {\n  const cleanup = suppressWalletConnectErrors();\n  \n  try {\n    return await operation();\n  } finally {\n    cleanup();\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}