{"ast":null,"code":"import { proxy } from 'valtio/vanilla';\nimport { ApiController } from '../controllers/ApiController.js';\nimport { AssetController } from '../controllers/AssetController.js';\nconst namespaceImageIds = {\n  // Ethereum\n  eip155: 'ba0ba0cd-17c6-4806-ad93-f9d174f17900',\n  // Solana\n  solana: 'a1b58899-f671-4276-6a5e-56ca5bd59700',\n  // Polkadot\n  polkadot: '',\n  // Bitcoin\n  bip122: '0b4838db-0161-4ffe-022d-532bf03dba00',\n  // Cosmos\n  cosmos: '',\n  // Sui\n  sui: '',\n  // Stacks\n  stacks: ''\n};\n// -- State --------------------------------------------- //\nconst state = proxy({\n  networkImagePromises: {}\n});\n// -- Util ---------------------------------------- //\nexport const AssetUtil = {\n  async fetchWalletImage(imageId) {\n    if (!imageId) {\n      return undefined;\n    }\n    await ApiController._fetchWalletImage(imageId);\n    return this.getWalletImageById(imageId);\n  },\n  async fetchNetworkImage(imageId) {\n    if (!imageId) {\n      return undefined;\n    }\n    const existingImage = this.getNetworkImageById(imageId);\n    // Check if the image already exists\n    if (existingImage) {\n      return existingImage;\n    }\n    // Check if the promise is already created\n    if (!state.networkImagePromises[imageId]) {\n      state.networkImagePromises[imageId] = ApiController._fetchNetworkImage(imageId);\n    }\n    await state.networkImagePromises[imageId];\n    return this.getNetworkImageById(imageId);\n  },\n  getWalletImageById(imageId) {\n    if (!imageId) {\n      return undefined;\n    }\n    return AssetController.state.walletImages[imageId];\n  },\n  getWalletImage(wallet) {\n    if (wallet !== null && wallet !== void 0 && wallet.image_url) {\n      return wallet === null || wallet === void 0 ? void 0 : wallet.image_url;\n    }\n    if (wallet !== null && wallet !== void 0 && wallet.image_id) {\n      return AssetController.state.walletImages[wallet.image_id];\n    }\n    return undefined;\n  },\n  getNetworkImage(network) {\n    var _network$assets, _network$assets3;\n    if (network !== null && network !== void 0 && (_network$assets = network.assets) !== null && _network$assets !== void 0 && _network$assets.imageUrl) {\n      var _network$assets2;\n      return network === null || network === void 0 || (_network$assets2 = network.assets) === null || _network$assets2 === void 0 ? void 0 : _network$assets2.imageUrl;\n    }\n    if (network !== null && network !== void 0 && (_network$assets3 = network.assets) !== null && _network$assets3 !== void 0 && _network$assets3.imageId) {\n      return AssetController.state.networkImages[network.assets.imageId];\n    }\n    return undefined;\n  },\n  getNetworkImageById(imageId) {\n    if (!imageId) {\n      return undefined;\n    }\n    return AssetController.state.networkImages[imageId];\n  },\n  getConnectorImage(connector) {\n    var _connector$info;\n    if (connector !== null && connector !== void 0 && connector.imageUrl) {\n      return connector.imageUrl;\n    }\n    if (connector !== null && connector !== void 0 && (_connector$info = connector.info) !== null && _connector$info !== void 0 && _connector$info.icon) {\n      return connector.info.icon;\n    }\n    if (connector !== null && connector !== void 0 && connector.imageId) {\n      return AssetController.state.connectorImages[connector.imageId];\n    }\n    return undefined;\n  },\n  getChainImage(chain) {\n    return AssetController.state.networkImages[namespaceImageIds[chain]];\n  },\n  getTokenImage(symbol) {\n    if (!symbol) {\n      return undefined;\n    }\n    return AssetController.state.tokenImages[symbol];\n  }\n};","map":{"version":3,"names":["proxy","ApiController","AssetController","namespaceImageIds","eip155","solana","polkadot","bip122","cosmos","sui","stacks","state","networkImagePromises","AssetUtil","fetchWalletImage","imageId","undefined","_fetchWalletImage","getWalletImageById","fetchNetworkImage","existingImage","getNetworkImageById","_fetchNetworkImage","walletImages","getWalletImage","wallet","image_url","image_id","getNetworkImage","network","_network$assets","_network$assets3","assets","imageUrl","_network$assets2","networkImages","getConnectorImage","connector","_connector$info","info","icon","connectorImages","getChainImage","chain","getTokenImage","symbol","tokenImages"],"sources":["../../../../src/utils/AssetUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}