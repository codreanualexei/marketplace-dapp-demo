{"ast":null,"code":"import { ParseUtil } from '@reown/appkit-common';\nimport { EnsController } from '@reown/appkit-controllers';\nimport { solana, solanaDevnet } from '../networks/index.js';\nexport const DEFAULT_METHODS = {\n  solana: ['solana_signMessage', 'solana_signTransaction', 'solana_requestAccounts', 'solana_getAccounts', 'solana_signAllTransactions', 'solana_signAndSendTransaction'],\n  eip155: ['eth_accounts', 'eth_requestAccounts', 'eth_sendRawTransaction', 'eth_sign', 'eth_signTransaction', 'eth_signTypedData', 'eth_signTypedData_v3', 'eth_signTypedData_v4', 'eth_sendTransaction', 'personal_sign', 'wallet_switchEthereumChain', 'wallet_addEthereumChain', 'wallet_getPermissions', 'wallet_requestPermissions', 'wallet_registerOnboarding', 'wallet_watchAsset', 'wallet_scanQRCode',\n  // EIP-5792\n  'wallet_getCallsStatus', 'wallet_showCallsStatus', 'wallet_sendCalls', 'wallet_getCapabilities',\n  // EIP-7715\n  'wallet_grantPermissions', 'wallet_revokePermissions',\n  //EIP-7811\n  'wallet_getAssets'],\n  bip122: ['sendTransfer', 'signMessage', 'signPsbt', 'getAccountAddresses']\n};\nexport const WcHelpersUtil = {\n  RPC_ERROR_CODE: {\n    USER_REJECTED: 5000,\n    USER_REJECTED_METHODS: 5002\n  },\n  getMethodsByChainNamespace(chainNamespace) {\n    return DEFAULT_METHODS[chainNamespace] || [];\n  },\n  createDefaultNamespace(chainNamespace) {\n    return {\n      methods: this.getMethodsByChainNamespace(chainNamespace),\n      events: ['accountsChanged', 'chainChanged'],\n      chains: [],\n      rpcMap: {}\n    };\n  },\n  applyNamespaceOverrides(baseNamespaces, overrides) {\n    if (!overrides) {\n      return {\n        ...baseNamespaces\n      };\n    }\n    const result = {\n      ...baseNamespaces\n    };\n    const namespacesToOverride = new Set();\n    if (overrides.methods) {\n      Object.keys(overrides.methods).forEach(ns => namespacesToOverride.add(ns));\n    }\n    if (overrides.chains) {\n      Object.keys(overrides.chains).forEach(ns => namespacesToOverride.add(ns));\n    }\n    if (overrides.events) {\n      Object.keys(overrides.events).forEach(ns => namespacesToOverride.add(ns));\n    }\n    if (overrides.rpcMap) {\n      Object.keys(overrides.rpcMap).forEach(chainId => {\n        const [ns] = chainId.split(':');\n        if (ns) {\n          namespacesToOverride.add(ns);\n        }\n      });\n    }\n    namespacesToOverride.forEach(ns => {\n      if (!result[ns]) {\n        result[ns] = this.createDefaultNamespace(ns);\n      }\n    });\n    if (overrides.methods) {\n      Object.entries(overrides.methods).forEach(([ns, methods]) => {\n        if (result[ns]) {\n          result[ns].methods = methods;\n        }\n      });\n    }\n    if (overrides.chains) {\n      Object.entries(overrides.chains).forEach(([ns, chains]) => {\n        if (result[ns]) {\n          result[ns].chains = chains;\n        }\n      });\n    }\n    if (overrides.events) {\n      Object.entries(overrides.events).forEach(([ns, events]) => {\n        if (result[ns]) {\n          result[ns].events = events;\n        }\n      });\n    }\n    if (overrides.rpcMap) {\n      const processedNamespaces = new Set();\n      Object.entries(overrides.rpcMap).forEach(([chainId, rpcUrl]) => {\n        const [ns, id] = chainId.split(':');\n        if (!ns || !id || !result[ns]) {\n          return;\n        }\n        if (!result[ns].rpcMap) {\n          result[ns].rpcMap = {};\n        }\n        if (!processedNamespaces.has(ns)) {\n          result[ns].rpcMap = {};\n          processedNamespaces.add(ns);\n        }\n        result[ns].rpcMap[id] = rpcUrl;\n      });\n    }\n    return result;\n  },\n  createNamespaces(caipNetworks, configOverride) {\n    const defaultNamespaces = caipNetworks.reduce((acc, chain) => {\n      const {\n        id,\n        chainNamespace,\n        rpcUrls\n      } = chain;\n      const rpcUrl = rpcUrls.default.http[0];\n      if (!acc[chainNamespace]) {\n        acc[chainNamespace] = this.createDefaultNamespace(chainNamespace);\n      }\n      const caipNetworkId = `${chainNamespace}:${id}`;\n      // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n      const namespace = acc[chainNamespace];\n      namespace.chains.push(caipNetworkId);\n      // Workaround for wallets that only support deprecated Solana network ID\n      switch (caipNetworkId) {\n        case solana.caipNetworkId:\n          namespace.chains.push(solana.deprecatedCaipNetworkId);\n          break;\n        case solanaDevnet.caipNetworkId:\n          namespace.chains.push(solanaDevnet.deprecatedCaipNetworkId);\n          break;\n        default:\n      }\n      if (namespace?.rpcMap && rpcUrl) {\n        namespace.rpcMap[id] = rpcUrl;\n      }\n      return acc;\n    }, {});\n    return this.applyNamespaceOverrides(defaultNamespaces, configOverride);\n  },\n  resolveReownName: async name => {\n    const wcNameAddress = await EnsController.resolveName(name);\n    const networkNameAddresses = Object.values(wcNameAddress?.addresses) || [];\n    return networkNameAddresses[0]?.address || false;\n  },\n  getChainsFromNamespaces(namespaces = {}) {\n    return Object.values(namespaces).flatMap(namespace => {\n      const chains = namespace.chains || [];\n      const accountsChains = namespace.accounts.map(account => {\n        const [chainNamespace, chainId] = account.split(':');\n        return `${chainNamespace}:${chainId}`;\n      });\n      return Array.from(new Set([...chains, ...accountsChains]));\n    });\n  },\n  isSessionEventData(data) {\n    return typeof data === 'object' && data !== null && 'id' in data && 'topic' in data && 'params' in data && typeof data.params === 'object' && data.params !== null && 'chainId' in data.params && 'event' in data.params && typeof data.params.event === 'object' && data.params.event !== null;\n  },\n  isUserRejectedRequestError(error) {\n    try {\n      if (typeof error === 'object' && error !== null) {\n        const objErr = error;\n        const hasCode = typeof objErr['code'] === 'number';\n        const hasUserRejectedMethods = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED_METHODS;\n        const hasUserRejected = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED;\n        return hasUserRejectedMethods || hasUserRejected;\n      }\n      return false;\n    } catch {\n      return false;\n    }\n  },\n  isOriginAllowed(currentOrigin, allowedPatterns, defaultAllowedOrigins) {\n    for (const pattern of [...allowedPatterns, ...defaultAllowedOrigins]) {\n      if (pattern.includes('*')) {\n        // Convert wildcard pattern to regex, escape special chars, replace *, match whole string\n        const escapedPattern = pattern.replace(/[.*+?^${}()|[\\]\\\\]/gu, '\\\\$&');\n        const regexString = `^${escapedPattern.replace(/\\\\\\*/gu, '.*')}$`;\n        const regex = new RegExp(regexString, 'u');\n        if (regex.test(currentOrigin)) {\n          return true;\n        }\n      } else {\n        /**\n         * There are some cases where pattern is getting just the origin, where using new URL(pattern).origin will throw an error\n         * thus we a try catch to handle this case\n         */\n        try {\n          if (new URL(pattern).origin === currentOrigin) {\n            return true;\n          }\n        } catch (e) {\n          if (pattern === currentOrigin) {\n            return true;\n          }\n        }\n      }\n    }\n    // No match found\n    return false;\n  },\n  listenWcProvider({\n    universalProvider,\n    namespace,\n    onConnect,\n    onDisconnect,\n    onAccountsChanged,\n    onChainChanged,\n    onDisplayUri\n  }) {\n    if (onConnect) {\n      universalProvider.on('connect', () => {\n        const accounts = WcHelpersUtil.getWalletConnectAccounts(universalProvider, namespace);\n        onConnect(accounts);\n      });\n    }\n    if (onDisconnect) {\n      universalProvider.on('disconnect', () => {\n        onDisconnect();\n      });\n    }\n    if (onAccountsChanged) {\n      /*\n       * In multichain scenario - every adapter will listen to accountsChanged event\n       * so make sure to call `onAccountsChanged` only on the namespace that actually has accounts changed\n       */\n      universalProvider.on('accountsChanged', accounts => {\n        try {\n          const allAccounts = universalProvider.session?.namespaces?.[namespace]?.accounts || [];\n          const defaultChain = universalProvider.rpcProviders?.[namespace]?.getDefaultChain();\n          const parsedAccounts = accounts.map(account => {\n            const caipAccount = allAccounts.find(acc => acc.includes(`${namespace}:${defaultChain}:${account}`));\n            if (!caipAccount) {\n              return undefined;\n            }\n            const {\n              chainId,\n              chainNamespace\n            } = ParseUtil.parseCaipAddress(caipAccount);\n            return {\n              address: account,\n              chainId,\n              chainNamespace\n            };\n          }).filter(account => account !== undefined);\n          // Emit accountsChanged event only if there are accounts\n          if (parsedAccounts.length > 0) {\n            onAccountsChanged(parsedAccounts);\n          }\n        } catch (error) {\n          console.warn('Failed to parse accounts for namespace on accountsChanged event', namespace, accounts, error);\n        }\n      });\n    }\n    if (onChainChanged) {\n      universalProvider.on('chainChanged', chainId => {\n        onChainChanged(chainId);\n      });\n    }\n    if (onDisplayUri) {\n      universalProvider.on('display_uri', uri => {\n        onDisplayUri(uri);\n      });\n    }\n  },\n  getWalletConnectAccounts(universalProvider, namespace) {\n    const accountsAdded = new Set();\n    const accounts = universalProvider?.session?.namespaces?.[namespace]?.accounts?.map(account => ParseUtil.parseCaipAddress(account)).filter(({\n      address\n    }) => {\n      if (accountsAdded.has(address.toLowerCase())) {\n        return false;\n      }\n      accountsAdded.add(address.toLowerCase());\n      return true;\n    });\n    if (accounts && accounts.length > 0) {\n      return accounts;\n    }\n    return [];\n  }\n};","map":{"version":3,"names":["ParseUtil","EnsController","solana","solanaDevnet","DEFAULT_METHODS","eip155","bip122","WcHelpersUtil","RPC_ERROR_CODE","USER_REJECTED","USER_REJECTED_METHODS","getMethodsByChainNamespace","chainNamespace","createDefaultNamespace","methods","events","chains","rpcMap","applyNamespaceOverrides","baseNamespaces","overrides","result","namespacesToOverride","Set","Object","keys","forEach","ns","add","chainId","split","entries","processedNamespaces","rpcUrl","id","has","createNamespaces","caipNetworks","configOverride","defaultNamespaces","reduce","acc","chain","rpcUrls","default","http","caipNetworkId","namespace","push","deprecatedCaipNetworkId","resolveReownName","name","wcNameAddress","resolveName","networkNameAddresses","values","addresses","address","getChainsFromNamespaces","namespaces","flatMap","accountsChains","accounts","map","account","Array","from","isSessionEventData","data","params","event","isUserRejectedRequestError","error","objErr","hasCode","hasUserRejectedMethods","hasUserRejected","isOriginAllowed","currentOrigin","allowedPatterns","defaultAllowedOrigins","pattern","includes","escapedPattern","replace","regexString","regex","RegExp","test","URL","origin","e","listenWcProvider","universalProvider","onConnect","onDisconnect","onAccountsChanged","onChainChanged","onDisplayUri","on","getWalletConnectAccounts","allAccounts","session","defaultChain","rpcProviders","getDefaultChain","parsedAccounts","caipAccount","find","undefined","parseCaipAddress","filter","length","console","warn","uri","accountsAdded","toLowerCase"],"sources":["../../../../src/utils/HelpersUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}