{"ast":null,"code":"import _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { proxy, ref, subscribe } from 'valtio/vanilla';\nimport { subscribeKey as subKey } from 'valtio/vanilla/utils';\nconst CLEAN_PROVIDERS_STATE = {\n  eip155: undefined,\n  solana: undefined,\n  polkadot: undefined,\n  bip122: undefined,\n  cosmos: undefined,\n  sui: undefined,\n  stacks: undefined\n};\nconst state = proxy({\n  providers: _objectSpread({}, CLEAN_PROVIDERS_STATE),\n  providerIds: _objectSpread({}, CLEAN_PROVIDERS_STATE)\n});\nexport const ProviderController = {\n  state,\n  subscribeKey(key, callback) {\n    return subKey(state, key, callback);\n  },\n  subscribe(callback) {\n    return subscribe(state, () => {\n      callback(state);\n    });\n  },\n  subscribeProviders(callback) {\n    return subscribe(state.providers, () => callback(state.providers));\n  },\n  setProvider(chainNamespace, provider) {\n    if (chainNamespace && provider) {\n      state.providers[chainNamespace] = ref(provider);\n    }\n  },\n  getProvider(chainNamespace) {\n    if (!chainNamespace) {\n      return undefined;\n    }\n    return state.providers[chainNamespace];\n  },\n  setProviderId(chainNamespace, providerId) {\n    if (providerId) {\n      state.providerIds[chainNamespace] = providerId;\n    }\n  },\n  getProviderId(chainNamespace) {\n    if (!chainNamespace) {\n      return undefined;\n    }\n    return state.providerIds[chainNamespace];\n  },\n  reset() {\n    state.providers = _objectSpread({}, CLEAN_PROVIDERS_STATE);\n    state.providerIds = _objectSpread({}, CLEAN_PROVIDERS_STATE);\n  },\n  resetChain(chainNamespace) {\n    state.providers[chainNamespace] = undefined;\n    state.providerIds[chainNamespace] = undefined;\n  }\n};","map":{"version":3,"names":["proxy","ref","subscribe","subscribeKey","subKey","CLEAN_PROVIDERS_STATE","eip155","undefined","solana","polkadot","bip122","cosmos","sui","stacks","state","providers","_objectSpread","providerIds","ProviderController","key","callback","subscribeProviders","setProvider","chainNamespace","provider","getProvider","setProviderId","providerId","getProviderId","reset","resetChain"],"sources":["../../../../src/controllers/ProviderController.ts"],"sourcesContent":[null],"mappings":";AACA,SAASA,KAAK,EAAEC,GAAG,EAAEC,SAAS,QAAQ,gBAAgB;AACtD,SAASC,YAAY,IAAIC,MAAM,QAAQ,sBAAsB;AAqB7D,MAAMC,qBAAqB,GAAG;EAC5BC,MAAM,EAAEC,SAAS;EACjBC,MAAM,EAAED,SAAS;EACjBE,QAAQ,EAAEF,SAAS;EACnBG,MAAM,EAAEH,SAAS;EACjBI,MAAM,EAAEJ,SAAS;EACjBK,GAAG,EAAEL,SAAS;EACdM,MAAM,EAAEN;CACT;AAED,MAAMO,KAAK,GAAGd,KAAK,CAA0B;EAC3Ce,SAAS,EAAAC,aAAA,KAAOX,qBAAqB,CAAE;EACvCY,WAAW,EAAAD,aAAA,KAAOX,qBAAqB;CACxC,CAAC;AAEF,OAAO,MAAMa,kBAAkB,GAAG;EAChCJ,KAAK;EAELX,YAAYA,CAAqBgB,GAAM,EAAEC,QAAqD;IAC5F,OAAOhB,MAAM,CAACU,KAAK,EAAEK,GAAG,EAAEC,QAAQ,CAAC;EACrC,CAAC;EAEDlB,SAASA,CAACkB,QAAkD;IAC1D,OAAOlB,SAAS,CAACY,KAAK,EAAE,MAAK;MAC3BM,QAAQ,CAACN,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ,CAAC;EAEDO,kBAAkBA,CAACD,QAAmE;IACpF,OAAOlB,SAAS,CAACY,KAAK,CAACC,SAAS,EAAE,MAAMK,QAAQ,CAACN,KAAK,CAACC,SAAS,CAAC,CAAC;EACpE,CAAC;EAEDO,WAAWA,CACTC,cAAmD,EACnDC,QAAW;IAEX,IAAID,cAAc,IAAIC,QAAQ,EAAE;MAC9BV,KAAK,CAACC,SAAS,CAACQ,cAAc,CAAC,GAAGtB,GAAG,CAACuB,QAAQ,CAAM;IACtD;EACF,CAAC;EAEDC,WAAWA,CACTF,cAAmD;IAEnD,IAAI,CAACA,cAAc,EAAE;MACnB,OAAOhB,SAAS;IAClB;IAEA,OAAOO,KAAK,CAACC,SAAS,CAACQ,cAAc,CAAkB;EACzD,CAAC;EAEDG,aAAaA,CAACH,cAA8B,EAAEI,UAAyB;IACrE,IAAIA,UAAU,EAAE;MACdb,KAAK,CAACG,WAAW,CAACM,cAAc,CAAC,GAAGI,UAAU;IAChD;EACF,CAAC;EAEDC,aAAaA,CAACL,cAA0C;IACtD,IAAI,CAACA,cAAc,EAAE;MACnB,OAAOhB,SAAS;IAClB;IAEA,OAAOO,KAAK,CAACG,WAAW,CAACM,cAAc,CAAC;EAC1C,CAAC;EAEDM,KAAKA,CAAA;IACHf,KAAK,CAACC,SAAS,GAAAC,aAAA,KAAQX,qBAAqB,CAAE;IAC9CS,KAAK,CAACG,WAAW,GAAAD,aAAA,KAAQX,qBAAqB,CAAE;EAClD,CAAC;EAEDyB,UAAUA,CAACP,cAA8B;IACvCT,KAAK,CAACC,SAAS,CAACQ,cAAc,CAAC,GAAGhB,SAAS;IAC3CO,KAAK,CAACG,WAAW,CAACM,cAAc,CAAC,GAAGhB,SAAS;EAC/C;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}