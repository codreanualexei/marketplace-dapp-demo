{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _templateObject, _templateObject2, _templateObject3;\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { LitElement, html } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { ConstantsUtil as CommonConstantsUtil } from '@reown/appkit-common';\nimport { ApiController, AssetController, AssetUtil, ConnectionController, ConnectorController, CoreHelperUtil, RouterController } from '@reown/appkit-controllers';\nimport { customElement } from '@reown/appkit-ui';\nimport '@reown/appkit-ui/wui-flex';\nimport { HelpersUtil } from '@reown/appkit-utils';\nimport { ConnectorUtil } from '../../utils/ConnectorUtil.js';\nimport styles from './styles.js';\nlet W3mConnectorList = class W3mConnectorList extends LitElement {\n  constructor() {\n    super();\n    this.unsubscribe = [];\n    this.connectors = ConnectorController.state.connectors;\n    this.recommended = ApiController.state.recommended;\n    this.featured = ApiController.state.featured;\n    this.explorerWallets = ApiController.state.explorerWallets;\n    this.connections = ConnectionController.state.connections;\n    this.connectorImages = AssetController.state.connectorImages;\n    this.loadingTelegram = false;\n    this.unsubscribe.push(ConnectorController.subscribeKey('connectors', val => this.connectors = val), ConnectionController.subscribeKey('connections', val => this.connections = val), AssetController.subscribeKey('connectorImages', val => this.connectorImages = val), ApiController.subscribeKey('recommended', val => this.recommended = val), ApiController.subscribeKey('featured', val => this.featured = val), ApiController.subscribeKey('explorerFilteredWallets', val => {\n      this.explorerWallets = val !== null && val !== void 0 && val.length ? val : ApiController.state.explorerWallets;\n    }), ApiController.subscribeKey('explorerWallets', val => {\n      var _this$explorerWallets;\n      if (!((_this$explorerWallets = this.explorerWallets) !== null && _this$explorerWallets !== void 0 && _this$explorerWallets.length)) {\n        this.explorerWallets = val;\n      }\n    }));\n    if (CoreHelperUtil.isTelegram() && CoreHelperUtil.isIos()) {\n      this.loadingTelegram = !ConnectionController.state.wcUri;\n      this.unsubscribe.push(ConnectionController.subscribeKey('wcUri', val => this.loadingTelegram = !val));\n    }\n  }\n  disconnectedCallback() {\n    this.unsubscribe.forEach(unsubscribe => unsubscribe());\n  }\n  render() {\n    return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <wui-flex flexDirection=\\\"column\\\" gap=\\\"2\\\"> \", \" </wui-flex>\\n    \"])), this.connectorListTemplate());\n  }\n  mapConnectorsToExplorerWallets(connectors, explorerWallets) {\n    return connectors.map(connector => {\n      if (connector.type === 'MULTI_CHAIN' && connector.connectors) {\n        const connectorIds = connector.connectors.map(c => c.id);\n        const connectorNames = connector.connectors.map(c => c.name);\n        const connectorRdns = connector.connectors.map(c => {\n          var _c$info;\n          return (_c$info = c.info) === null || _c$info === void 0 ? void 0 : _c$info.rdns;\n        });\n        const explorerWallet = explorerWallets === null || explorerWallets === void 0 ? void 0 : explorerWallets.find(wallet => connectorIds.includes(wallet.id) || connectorNames.includes(wallet.name) || wallet.rdns && (connectorRdns.includes(wallet.rdns) || connectorIds.includes(wallet.rdns)));\n        connector.explorerWallet = explorerWallet !== null && explorerWallet !== void 0 ? explorerWallet : connector.explorerWallet;\n        return connector;\n      }\n      const explorerWallet = explorerWallets === null || explorerWallets === void 0 ? void 0 : explorerWallets.find(wallet => {\n        var _connector$info;\n        return wallet.id === connector.id || wallet.rdns === ((_connector$info = connector.info) === null || _connector$info === void 0 ? void 0 : _connector$info.rdns) || wallet.name === connector.name;\n      });\n      connector.explorerWallet = explorerWallet !== null && explorerWallet !== void 0 ? explorerWallet : connector.explorerWallet;\n      return connector;\n    });\n  }\n  processConnectorsByType(connectors) {\n    let shouldFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const sorted = ConnectorUtil.sortConnectorsByExplorerWallet([...connectors]);\n    return shouldFilter ? sorted.filter(ConnectorUtil.showConnector) : sorted;\n  }\n  connectorListTemplate() {\n    var _this$explorerWallets2;\n    const mappedConnectors = this.mapConnectorsToExplorerWallets(this.connectors, (_this$explorerWallets2 = this.explorerWallets) !== null && _this$explorerWallets2 !== void 0 ? _this$explorerWallets2 : []);\n    const byType = ConnectorUtil.getConnectorsByType(mappedConnectors, this.recommended, this.featured);\n    const announced = this.processConnectorsByType(byType.announced.filter(c => c.id !== 'walletConnect'));\n    const injected = this.processConnectorsByType(byType.injected);\n    const multiChain = this.processConnectorsByType(byType.multiChain.filter(c => c.name !== 'WalletConnect'), false);\n    const custom = byType.custom;\n    const recent = byType.recent;\n    const external = this.processConnectorsByType(byType.external.filter(c => c.id !== CommonConstantsUtil.CONNECTOR_ID.COINBASE_SDK));\n    const recommended = byType.recommended;\n    const featured = byType.featured;\n    const connectorTypeOrder = ConnectorUtil.getConnectorTypeOrder({\n      custom,\n      recent,\n      announced,\n      injected,\n      multiChain,\n      recommended,\n      featured,\n      external\n    });\n    const wcConnector = this.connectors.find(c => c.id === 'walletConnect');\n    const isMobile = CoreHelperUtil.isMobile();\n    const items = [];\n    for (const type of connectorTypeOrder) {\n      switch (type) {\n        case 'walletConnect':\n          {\n            if (!isMobile && wcConnector) {\n              items.push({\n                kind: 'connector',\n                subtype: 'walletConnect',\n                connector: wcConnector\n              });\n            }\n            break;\n          }\n        case 'recent':\n          {\n            const filteredRecent = ConnectorUtil.getFilteredRecentWallets();\n            filteredRecent.forEach(w => items.push({\n              kind: 'wallet',\n              subtype: 'recent',\n              wallet: w\n            }));\n            break;\n          }\n        case 'injected':\n          {\n            multiChain.forEach(c => items.push({\n              kind: 'connector',\n              subtype: 'multiChain',\n              connector: c\n            }));\n            announced.forEach(c => items.push({\n              kind: 'connector',\n              subtype: 'announced',\n              connector: c\n            }));\n            injected.forEach(c => items.push({\n              kind: 'connector',\n              subtype: 'injected',\n              connector: c\n            }));\n            break;\n          }\n        case 'featured':\n          {\n            featured.forEach(w => items.push({\n              kind: 'wallet',\n              subtype: 'featured',\n              wallet: w\n            }));\n            break;\n          }\n        case 'custom':\n          {\n            const filteredCustom = ConnectorUtil.getFilteredCustomWallets(custom !== null && custom !== void 0 ? custom : []);\n            filteredCustom.forEach(w => items.push({\n              kind: 'wallet',\n              subtype: 'custom',\n              wallet: w\n            }));\n            break;\n          }\n        case 'external':\n          {\n            external.forEach(c => items.push({\n              kind: 'connector',\n              subtype: 'external',\n              connector: c\n            }));\n            break;\n          }\n        case 'recommended':\n          {\n            const cappedRecommended = ConnectorUtil.getCappedRecommendedWallets(recommended);\n            cappedRecommended.forEach(w => items.push({\n              kind: 'wallet',\n              subtype: 'recommended',\n              wallet: w\n            }));\n            break;\n          }\n        default:\n          console.warn(\"Unknown connector type: \".concat(type));\n      }\n    }\n    return items.map((item, displayIndex) => {\n      if (item.kind === 'connector') {\n        return this.renderConnector(item, displayIndex);\n      }\n      return this.renderWallet(item, displayIndex);\n    });\n  }\n  renderConnector(item, index) {\n    var _connector$imageId, _this$connections$get, _connector$name, _connector$explorerWa, _connector$explorerWa2;\n    const connector = item.connector;\n    const imageSrc = AssetUtil.getConnectorImage(connector) || this.connectorImages[(_connector$imageId = connector === null || connector === void 0 ? void 0 : connector.imageId) !== null && _connector$imageId !== void 0 ? _connector$imageId : ''];\n    const connectionsByNamespace = (_this$connections$get = this.connections.get(connector.chain)) !== null && _this$connections$get !== void 0 ? _this$connections$get : [];\n    const isAlreadyConnected = connectionsByNamespace.some(c => HelpersUtil.isLowerCaseMatch(c.connectorId, connector.id));\n    let tagLabel = undefined;\n    let tagVariant = undefined;\n    if (item.subtype === 'multiChain') {\n      tagLabel = 'multichain';\n      tagVariant = 'info';\n    } else if (item.subtype === 'walletConnect') {\n      tagLabel = 'qr code';\n      tagVariant = 'accent';\n    } else if (item.subtype === 'injected' || item.subtype === 'announced') {\n      tagLabel = isAlreadyConnected ? 'connected' : 'installed';\n      tagVariant = isAlreadyConnected ? 'info' : 'success';\n    } else {\n      tagLabel = undefined;\n      tagVariant = undefined;\n    }\n    const hasWcConnection = ConnectionController.hasAnyConnection(CommonConstantsUtil.CONNECTOR_ID.WALLET_CONNECT);\n    const disabled = item.subtype === 'walletConnect' || item.subtype === 'external' ? hasWcConnection : false;\n    return html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      <w3m-list-wallet\\n        displayIndex=\", \"\\n        imageSrc=\", \"\\n        .installed=\", \"\\n        name=\", \"\\n        .tagVariant=\", \"\\n        tagLabel=\", \"\\n        data-testid=\", \"\\n        size=\\\"sm\\\"\\n        @click=\", \"\\n        tabIdx=\", \"\\n        ?disabled=\", \"\\n        rdnsId=\", \"\\n        walletRank=\", \"\\n      >\\n      </w3m-list-wallet>\\n    \"])), index, ifDefined(imageSrc), true, (_connector$name = connector.name) !== null && _connector$name !== void 0 ? _connector$name : 'Unknown', tagVariant, ifDefined(tagLabel), \"wallet-selector-\".concat(connector.id.toLowerCase()), () => this.onClickConnector(item), ifDefined(this.tabIdx), disabled, ifDefined(((_connector$explorerWa = connector.explorerWallet) === null || _connector$explorerWa === void 0 ? void 0 : _connector$explorerWa.rdns) || undefined), ifDefined((_connector$explorerWa2 = connector.explorerWallet) === null || _connector$explorerWa2 === void 0 ? void 0 : _connector$explorerWa2.order));\n  }\n  onClickConnector(item) {\n    var _RouterController$sta;\n    const redirectView = (_RouterController$sta = RouterController.state.data) === null || _RouterController$sta === void 0 ? void 0 : _RouterController$sta.redirectView;\n    if (item.subtype === 'walletConnect') {\n      ConnectorController.setActiveConnector(item.connector);\n      if (CoreHelperUtil.isMobile()) {\n        RouterController.push('AllWallets');\n      } else {\n        RouterController.push('ConnectingWalletConnect', {\n          redirectView\n        });\n      }\n      return;\n    }\n    if (item.subtype === 'multiChain') {\n      ConnectorController.setActiveConnector(item.connector);\n      RouterController.push('ConnectingMultiChain', {\n        redirectView\n      });\n      return;\n    }\n    if (item.subtype === 'injected') {\n      ConnectorController.setActiveConnector(item.connector);\n      RouterController.push('ConnectingExternal', {\n        connector: item.connector,\n        redirectView,\n        wallet: item.connector.explorerWallet\n      });\n      return;\n    }\n    if (item.subtype === 'announced') {\n      if (item.connector.id === 'walletConnect') {\n        if (CoreHelperUtil.isMobile()) {\n          RouterController.push('AllWallets');\n        } else {\n          RouterController.push('ConnectingWalletConnect', {\n            redirectView\n          });\n        }\n        return;\n      }\n      RouterController.push('ConnectingExternal', {\n        connector: item.connector,\n        redirectView,\n        wallet: item.connector.explorerWallet\n      });\n      return;\n    }\n    RouterController.push('ConnectingExternal', {\n      connector: item.connector,\n      redirectView\n    });\n  }\n  renderWallet(item, index) {\n    var _wallet$name;\n    const wallet = item.wallet;\n    const imageSrc = AssetUtil.getWalletImage(wallet);\n    const hasWcConnection = ConnectionController.hasAnyConnection(CommonConstantsUtil.CONNECTOR_ID.WALLET_CONNECT);\n    const disabled = hasWcConnection;\n    const loading = this.loadingTelegram;\n    const tagLabel = item.subtype === 'recent' ? 'recent' : undefined;\n    const tagVariant = item.subtype === 'recent' ? 'info' : undefined;\n    return html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n      <w3m-list-wallet\\n        displayIndex=\", \"\\n        imageSrc=\", \"\\n        name=\", \"\\n        @click=\", \"\\n        size=\\\"sm\\\"\\n        data-testid=\", \"\\n        tabIdx=\", \"\\n        ?loading=\", \"\\n        ?disabled=\", \"\\n        rdnsId=\", \"\\n        walletRank=\", \"\\n        tagLabel=\", \"\\n        .tagVariant=\", \"\\n      >\\n      </w3m-list-wallet>\\n    \"])), index, ifDefined(imageSrc), (_wallet$name = wallet.name) !== null && _wallet$name !== void 0 ? _wallet$name : 'Unknown', () => this.onClickWallet(item), \"wallet-selector-\".concat(wallet.id), ifDefined(this.tabIdx), loading, disabled, ifDefined(wallet.rdns || undefined), ifDefined(wallet.order), ifDefined(tagLabel), tagVariant);\n  }\n  onClickWallet(item) {\n    var _RouterController$sta2;\n    const redirectView = (_RouterController$sta2 = RouterController.state.data) === null || _RouterController$sta2 === void 0 ? void 0 : _RouterController$sta2.redirectView;\n    if (item.subtype === 'featured') {\n      ConnectorController.selectWalletConnector(item.wallet);\n      return;\n    }\n    if (item.subtype === 'recent') {\n      if (this.loadingTelegram) {\n        return;\n      }\n      ConnectorController.selectWalletConnector(item.wallet);\n      return;\n    }\n    if (item.subtype === 'custom') {\n      if (this.loadingTelegram) {\n        return;\n      }\n      RouterController.push('ConnectingWalletConnect', {\n        wallet: item.wallet,\n        redirectView\n      });\n      return;\n    }\n    if (this.loadingTelegram) {\n      return;\n    }\n    const connector = ConnectorController.getConnector({\n      id: item.wallet.id,\n      rdns: item.wallet.rdns\n    });\n    if (connector) {\n      RouterController.push('ConnectingExternal', {\n        connector,\n        redirectView\n      });\n    } else {\n      RouterController.push('ConnectingWalletConnect', {\n        wallet: item.wallet,\n        redirectView\n      });\n    }\n  }\n};\nW3mConnectorList.styles = styles;\n__decorate([property({\n  type: Number\n})], W3mConnectorList.prototype, \"tabIdx\", void 0);\n__decorate([state()], W3mConnectorList.prototype, \"connectors\", void 0);\n__decorate([state()], W3mConnectorList.prototype, \"recommended\", void 0);\n__decorate([state()], W3mConnectorList.prototype, \"featured\", void 0);\n__decorate([state()], W3mConnectorList.prototype, \"explorerWallets\", void 0);\n__decorate([state()], W3mConnectorList.prototype, \"connections\", void 0);\n__decorate([state()], W3mConnectorList.prototype, \"connectorImages\", void 0);\n__decorate([state()], W3mConnectorList.prototype, \"loadingTelegram\", void 0);\nW3mConnectorList = __decorate([customElement('w3m-connector-list')], W3mConnectorList);\nexport { W3mConnectorList };","map":{"version":3,"names":["LitElement","html","property","state","ifDefined","ConstantsUtil","CommonConstantsUtil","ApiController","AssetController","AssetUtil","ConnectionController","ConnectorController","CoreHelperUtil","RouterController","customElement","HelpersUtil","ConnectorUtil","styles","W3mConnectorList","constructor","unsubscribe","connectors","recommended","featured","explorerWallets","connections","connectorImages","loadingTelegram","push","subscribeKey","val","length","_this$explorerWallets","isTelegram","isIos","wcUri","disconnectedCallback","forEach","render","_templateObject","_taggedTemplateLiteral","connectorListTemplate","mapConnectorsToExplorerWallets","map","connector","type","connectorIds","c","id","connectorNames","name","connectorRdns","_c$info","info","rdns","explorerWallet","find","wallet","includes","_connector$info","processConnectorsByType","shouldFilter","arguments","undefined","sorted","sortConnectorsByExplorerWallet","filter","showConnector","_this$explorerWallets2","mappedConnectors","byType","getConnectorsByType","announced","injected","multiChain","custom","recent","external","CONNECTOR_ID","COINBASE_SDK","connectorTypeOrder","getConnectorTypeOrder","wcConnector","isMobile","items","kind","subtype","filteredRecent","getFilteredRecentWallets","w","filteredCustom","getFilteredCustomWallets","cappedRecommended","getCappedRecommendedWallets","console","warn","concat","item","displayIndex","renderConnector","renderWallet","index","_connector$imageId","_this$connections$get","_connector$name","_connector$explorerWa","_connector$explorerWa2","imageSrc","getConnectorImage","imageId","connectionsByNamespace","get","chain","isAlreadyConnected","some","isLowerCaseMatch","connectorId","tagLabel","tagVariant","hasWcConnection","hasAnyConnection","WALLET_CONNECT","disabled","_templateObject2","toLowerCase","onClickConnector","tabIdx","order","_RouterController$sta","redirectView","data","setActiveConnector","_wallet$name","getWalletImage","loading","_templateObject3","onClickWallet","_RouterController$sta2","selectWalletConnector","getConnector","__decorate","Number"],"sources":["../../../../../src/partials/w3m-connector-list/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}