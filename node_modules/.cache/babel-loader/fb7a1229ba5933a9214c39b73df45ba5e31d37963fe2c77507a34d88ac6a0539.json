{"ast":null,"code":"import { ConstantsUtil as CommonConstantsUtil } from '@reown/appkit-common';\nimport { ApiController, ChainController, ConnectionController, ConnectorController, CoreHelperUtil, OptionsController, OptionsUtil, StorageUtil } from '@reown/appkit-controllers';\nimport { HelpersUtil } from '@reown/appkit-utils';\nimport { WalletUtil } from './WalletUtil.js';\nexport const ConnectorUtil = {\n  getConnectorsByType(connectors, recommended, featured) {\n    const {\n      customWallets\n    } = OptionsController.state;\n    const recent = StorageUtil.getRecentWallets();\n    const filteredRecommended = WalletUtil.filterOutDuplicateWallets(recommended);\n    const filteredFeatured = WalletUtil.filterOutDuplicateWallets(featured);\n    const multiChain = connectors.filter(connector => connector.type === 'MULTI_CHAIN');\n    const announced = connectors.filter(connector => connector.type === 'ANNOUNCED');\n    const injected = connectors.filter(connector => connector.type === 'INJECTED');\n    const external = connectors.filter(connector => connector.type === 'EXTERNAL');\n    return {\n      custom: customWallets,\n      recent,\n      external,\n      multiChain,\n      announced,\n      injected,\n      recommended: filteredRecommended,\n      featured: filteredFeatured\n    };\n  },\n  showConnector(connector) {\n    const rdns = connector.info?.rdns;\n    const isRDNSExcluded = Boolean(rdns) && ApiController.state.excludedWallets.some(wallet => Boolean(wallet.rdns) && wallet.rdns === rdns);\n    const isNameExcluded = Boolean(connector.name) && ApiController.state.excludedWallets.some(wallet => HelpersUtil.isLowerCaseMatch(wallet.name, connector.name));\n    if (connector.type === 'INJECTED') {\n      const isBrowserWallet = connector.name === 'Browser Wallet';\n      if (isBrowserWallet) {\n        if (!CoreHelperUtil.isMobile()) {\n          return false;\n        }\n        if (CoreHelperUtil.isMobile() && !rdns && !ConnectionController.checkInstalled()) {\n          return false;\n        }\n      }\n      if (isRDNSExcluded || isNameExcluded) {\n        return false;\n      }\n    }\n    if ((connector.type === 'ANNOUNCED' || connector.type === 'EXTERNAL') && (isRDNSExcluded || isNameExcluded)) {\n      return false;\n    }\n    return true;\n  },\n  getIsConnectedWithWC() {\n    const chains = Array.from(ChainController.state.chains.values());\n    const isConnectedWithWC = chains.some(chain => {\n      const connectorId = ConnectorController.getConnectorId(chain.namespace);\n      return connectorId === CommonConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n    });\n    return isConnectedWithWC;\n  },\n  getConnectorTypeOrder({\n    recommended,\n    featured,\n    custom,\n    recent,\n    announced,\n    injected,\n    multiChain,\n    external,\n    overriddenConnectors = OptionsController.state.features?.connectorTypeOrder ?? []\n  }) {\n    const allConnectors = [{\n      type: 'walletConnect',\n      isEnabled: true\n    }, {\n      type: 'recent',\n      isEnabled: recent.length > 0\n    }, {\n      type: 'injected',\n      isEnabled: [...injected, ...announced, ...multiChain].length > 0\n    }, {\n      type: 'featured',\n      isEnabled: featured.length > 0\n    }, {\n      type: 'custom',\n      isEnabled: custom && custom.length > 0\n    }, {\n      type: 'external',\n      isEnabled: external.length > 0\n    }, {\n      type: 'recommended',\n      isEnabled: recommended.length > 0\n    }];\n    const enabledConnectors = allConnectors.filter(option => option.isEnabled);\n    const enabledConnectorTypes = new Set(enabledConnectors.map(option => option.type));\n    const prioritizedConnectors = overriddenConnectors.filter(type => enabledConnectorTypes.has(type)).map(type => ({\n      type,\n      isEnabled: true\n    }));\n    const remainingConnectors = enabledConnectors.filter(({\n      type: enabledConnectorType\n    }) => {\n      const hasPrioritizedConnector = prioritizedConnectors.some(({\n        type: prioritizedConnectorType\n      }) => prioritizedConnectorType === enabledConnectorType);\n      return !hasPrioritizedConnector;\n    });\n    return Array.from(new Set([...prioritizedConnectors, ...remainingConnectors].map(({\n      type\n    }) => type)));\n  },\n  sortConnectorsByExplorerWallet(connectors) {\n    return [...connectors].sort((a, b) => {\n      if (a.explorerWallet && b.explorerWallet) {\n        return (a.explorerWallet.order ?? 0) - (b.explorerWallet.order ?? 0);\n      }\n      if (a.explorerWallet) {\n        return -1;\n      }\n      if (b.explorerWallet) {\n        return 1;\n      }\n      return 0;\n    });\n  },\n  getAuthName({\n    email,\n    socialUsername,\n    socialProvider\n  }) {\n    if (socialUsername) {\n      if (socialProvider && socialProvider === 'discord' && socialUsername.endsWith('0')) {\n        return socialUsername.slice(0, -1);\n      }\n      return socialUsername;\n    }\n    return email.length > 30 ? `${email.slice(0, -3)}...` : email;\n  },\n  async fetchProviderData(connector) {\n    try {\n      if (connector.name === 'Browser Wallet' && !CoreHelperUtil.isMobile()) {\n        return {\n          accounts: [],\n          chainId: undefined\n        };\n      }\n      if (connector.id === CommonConstantsUtil.CONNECTOR_ID.AUTH) {\n        return {\n          accounts: [],\n          chainId: undefined\n        };\n      }\n      const [accounts, chainId] = await Promise.all([connector.provider?.request({\n        method: 'eth_accounts'\n      }), connector.provider?.request({\n        method: 'eth_chainId'\n      }).then(hexChainId => Number(hexChainId))]);\n      return {\n        accounts,\n        chainId\n      };\n    } catch (err) {\n      console.warn(`Failed to fetch provider data for ${connector.name}`, err);\n      return {\n        accounts: [],\n        chainId: undefined\n      };\n    }\n  },\n  getFilteredCustomWallets(wallets) {\n    const recent = StorageUtil.getRecentWallets();\n    const connectorRDNSs = ConnectorController.state.connectors.map(connector => connector.info?.rdns).filter(Boolean);\n    const recentRDNSs = recent.map(wallet => wallet.rdns).filter(Boolean);\n    const allRDNSs = connectorRDNSs.concat(recentRDNSs);\n    if (allRDNSs.includes('io.metamask.mobile') && CoreHelperUtil.isMobile()) {\n      const index = allRDNSs.indexOf('io.metamask.mobile');\n      allRDNSs[index] = 'io.metamask';\n    }\n    const filtered = wallets.filter(wallet => !allRDNSs.includes(String(wallet?.rdns)));\n    return filtered;\n  },\n  hasWalletConnector(wallet) {\n    return ConnectorController.state.connectors.some(connector => connector.id === wallet.id || connector.name === wallet.name);\n  },\n  isWalletCompatibleWithCurrentChain(wallet) {\n    const currentNamespace = ChainController.state.activeChain;\n    if (currentNamespace && wallet.chains) {\n      return wallet.chains.some(c => {\n        const chainNamespace = c.split(':')[0];\n        return currentNamespace === chainNamespace;\n      });\n    }\n    return true;\n  },\n  getFilteredRecentWallets() {\n    const recentWallets = StorageUtil.getRecentWallets();\n    const filteredRecentWallets = recentWallets.filter(wallet => !WalletUtil.isExcluded(wallet)).filter(wallet => !this.hasWalletConnector(wallet)).filter(wallet => this.isWalletCompatibleWithCurrentChain(wallet));\n    return filteredRecentWallets;\n  },\n  getCappedRecommendedWallets(wallets) {\n    const {\n      connectors\n    } = ConnectorController.state;\n    const {\n      customWallets,\n      featuredWalletIds\n    } = OptionsController.state;\n    const wcConnector = connectors.find(c => c.id === 'walletConnect');\n    const injectedConnectors = connectors.filter(c => c.type === 'INJECTED' || c.type === 'ANNOUNCED' || c.type === 'MULTI_CHAIN');\n    if (!wcConnector && !injectedConnectors.length && !customWallets?.length) {\n      return [];\n    }\n    const isEmailEnabled = OptionsUtil.isEmailEnabled();\n    const isSocialsEnabled = OptionsUtil.isSocialsEnabled();\n    const injectedWallets = injectedConnectors.filter(i => i.name !== 'Browser Wallet');\n    const featuredWalletAmount = featuredWalletIds?.length || 0;\n    const customWalletAmount = customWallets?.length || 0;\n    const injectedWalletAmount = injectedWallets.length || 0;\n    const emailWalletAmount = isEmailEnabled ? 1 : 0;\n    const socialWalletAmount = isSocialsEnabled ? 1 : 0;\n    const walletsDisplayed = featuredWalletAmount + customWalletAmount + injectedWalletAmount + emailWalletAmount + socialWalletAmount;\n    const DISPLAYED_WALLETS_AMOUNT = 4;\n    const sliceAmount = Math.max(0, DISPLAYED_WALLETS_AMOUNT - walletsDisplayed);\n    if (sliceAmount <= 0) {\n      return [];\n    }\n    const filtered = WalletUtil.filterOutDuplicateWallets(wallets);\n    return filtered.slice(0, sliceAmount);\n  }\n};","map":{"version":3,"names":["ConstantsUtil","CommonConstantsUtil","ApiController","ChainController","ConnectionController","ConnectorController","CoreHelperUtil","OptionsController","OptionsUtil","StorageUtil","HelpersUtil","WalletUtil","ConnectorUtil","getConnectorsByType","connectors","recommended","featured","customWallets","state","recent","getRecentWallets","filteredRecommended","filterOutDuplicateWallets","filteredFeatured","multiChain","filter","connector","type","announced","injected","external","custom","showConnector","rdns","info","isRDNSExcluded","Boolean","excludedWallets","some","wallet","isNameExcluded","name","isLowerCaseMatch","isBrowserWallet","isMobile","checkInstalled","getIsConnectedWithWC","chains","Array","from","values","isConnectedWithWC","chain","connectorId","getConnectorId","namespace","CONNECTOR_ID","WALLET_CONNECT","getConnectorTypeOrder","overriddenConnectors","features","connectorTypeOrder","allConnectors","isEnabled","length","enabledConnectors","option","enabledConnectorTypes","Set","map","prioritizedConnectors","has","remainingConnectors","enabledConnectorType","hasPrioritizedConnector","prioritizedConnectorType","sortConnectorsByExplorerWallet","sort","a","b","explorerWallet","order","getAuthName","email","socialUsername","socialProvider","endsWith","slice","fetchProviderData","accounts","chainId","undefined","id","AUTH","Promise","all","provider","request","method","then","hexChainId","Number","err","console","warn","getFilteredCustomWallets","wallets","connectorRDNSs","recentRDNSs","allRDNSs","concat","includes","index","indexOf","filtered","String","hasWalletConnector","isWalletCompatibleWithCurrentChain","currentNamespace","activeChain","c","chainNamespace","split","getFilteredRecentWallets","recentWallets","filteredRecentWallets","isExcluded","getCappedRecommendedWallets","featuredWalletIds","wcConnector","find","injectedConnectors","isEmailEnabled","isSocialsEnabled","injectedWallets","i","featuredWalletAmount","customWalletAmount","injectedWalletAmount","emailWalletAmount","socialWalletAmount","walletsDisplayed","DISPLAYED_WALLETS_AMOUNT","sliceAmount","Math","max"],"sources":["../../../../src/utils/ConnectorUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}