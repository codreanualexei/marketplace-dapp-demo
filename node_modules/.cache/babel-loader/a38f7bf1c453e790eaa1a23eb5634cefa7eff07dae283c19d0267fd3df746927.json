{"ast":null,"code":"/* eslint-disable no-console */\nimport { ConstantsUtil as CommonConstantsUtil, SafeLocalStorage, SafeLocalStorageKeys, getSafeConnectorIdKey } from '@reown/appkit-common';\n// -- Utility -----------------------------------------------------------------\nexport const StorageUtil = {\n  // Cache expiry in milliseconds\n  cacheExpiry: {\n    portfolio: 30000,\n    nativeBalance: 30000,\n    ens: 300000,\n    identity: 300000,\n    transactionsHistory: 15000,\n    tokenPrice: 15000,\n    // 7 Days\n    latestAppKitVersion: 604_800_000\n  },\n  isCacheExpired(timestamp, cacheExpiry) {\n    return Date.now() - timestamp > cacheExpiry;\n  },\n  getActiveNetworkProps() {\n    const namespace = StorageUtil.getActiveNamespace();\n    const caipNetworkId = StorageUtil.getActiveCaipNetworkId();\n    const stringChainId = caipNetworkId ? caipNetworkId.split(':')[1] : undefined;\n    // eslint-disable-next-line no-nested-ternary\n    const chainId = stringChainId ? isNaN(Number(stringChainId)) ? stringChainId : Number(stringChainId) : undefined;\n    return {\n      namespace,\n      caipNetworkId,\n      chainId\n    };\n  },\n  setWalletConnectDeepLink({\n    name,\n    href\n  }) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.DEEPLINK_CHOICE, JSON.stringify({\n        href,\n        name\n      }));\n    } catch {\n      console.info('Unable to set WalletConnect deep link');\n    }\n  },\n  getWalletConnectDeepLink() {\n    try {\n      const deepLink = SafeLocalStorage.getItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);\n      if (deepLink) {\n        return JSON.parse(deepLink);\n      }\n    } catch {\n      console.info('Unable to get WalletConnect deep link');\n    }\n    return undefined;\n  },\n  deleteWalletConnectDeepLink() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);\n    } catch {\n      console.info('Unable to delete WalletConnect deep link');\n    }\n  },\n  setActiveNamespace(namespace) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_NAMESPACE, namespace);\n    } catch {\n      console.info('Unable to set active namespace');\n    }\n  },\n  setActiveCaipNetworkId(caipNetworkId) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID, caipNetworkId);\n      StorageUtil.setActiveNamespace(caipNetworkId.split(':')[0]);\n    } catch {\n      console.info('Unable to set active caip network id');\n    }\n  },\n  getActiveCaipNetworkId() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    } catch {\n      console.info('Unable to get active caip network id');\n      return undefined;\n    }\n  },\n  deleteActiveCaipNetworkId() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    } catch {\n      console.info('Unable to delete active caip network id');\n    }\n  },\n  deleteConnectedConnectorId(namespace) {\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      SafeLocalStorage.removeItem(key);\n    } catch {\n      console.info('Unable to delete connected connector id');\n    }\n  },\n  setAppKitRecent(wallet) {\n    try {\n      const recentWallets = StorageUtil.getRecentWallets();\n      const exists = recentWallets.find(w => w.id === wallet.id);\n      if (!exists) {\n        recentWallets.unshift(wallet);\n        if (recentWallets.length > 2) {\n          recentWallets.pop();\n        }\n        SafeLocalStorage.setItem(SafeLocalStorageKeys.RECENT_WALLETS, JSON.stringify(recentWallets));\n        SafeLocalStorage.setItem(SafeLocalStorageKeys.RECENT_WALLET, JSON.stringify(wallet));\n      }\n    } catch {\n      console.info('Unable to set AppKit recent');\n    }\n  },\n  getRecentWallets() {\n    try {\n      const recent = SafeLocalStorage.getItem(SafeLocalStorageKeys.RECENT_WALLETS);\n      return recent ? JSON.parse(recent) : [];\n    } catch {\n      console.info('Unable to get AppKit recent');\n    }\n    return [];\n  },\n  getRecentWallet() {\n    try {\n      const recent = SafeLocalStorage.getItem(SafeLocalStorageKeys.RECENT_WALLET);\n      return recent ? JSON.parse(recent) : null;\n    } catch {\n      console.info('Unable to get AppKit recent');\n    }\n    return null;\n  },\n  deleteRecentWallet() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.RECENT_WALLET);\n    } catch {\n      console.info('Unable to delete AppKit recent');\n    }\n  },\n  setConnectedConnectorId(namespace, connectorId) {\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      SafeLocalStorage.setItem(key, connectorId);\n    } catch {\n      console.info('Unable to set Connected Connector Id');\n    }\n  },\n  getActiveNamespace() {\n    try {\n      const activeNamespace = SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_NAMESPACE);\n      return activeNamespace;\n    } catch {\n      console.info('Unable to get active namespace');\n    }\n    return undefined;\n  },\n  getConnectedConnectorId(namespace) {\n    if (!namespace) {\n      return undefined;\n    }\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      return SafeLocalStorage.getItem(key);\n    } catch (e) {\n      console.info('Unable to get connected connector id in namespace', namespace);\n    }\n    return undefined;\n  },\n  setConnectedSocialProvider(socialProvider) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_SOCIAL, socialProvider);\n    } catch {\n      console.info('Unable to set connected social provider');\n    }\n  },\n  getConnectedSocialProvider() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL);\n    } catch {\n      console.info('Unable to get connected social provider');\n    }\n    return undefined;\n  },\n  deleteConnectedSocialProvider() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.CONNECTED_SOCIAL);\n    } catch {\n      console.info('Unable to delete connected social provider');\n    }\n  },\n  getConnectedSocialUsername() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME);\n    } catch {\n      console.info('Unable to get connected social username');\n    }\n    return undefined;\n  },\n  getStoredActiveCaipNetworkId() {\n    const storedCaipNetworkId = SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    const networkId = storedCaipNetworkId?.split(':')?.[1];\n    return networkId;\n  },\n  setConnectionStatus(status) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTION_STATUS, status);\n    } catch {\n      console.info('Unable to set connection status');\n    }\n  },\n  getConnectionStatus() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTION_STATUS);\n    } catch {\n      return undefined;\n    }\n  },\n  getConnectedNamespaces() {\n    try {\n      const namespaces = SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_NAMESPACES);\n      if (!namespaces?.length) {\n        return [];\n      }\n      return namespaces.split(',');\n    } catch {\n      return [];\n    }\n  },\n  setConnectedNamespaces(namespaces) {\n    try {\n      const uniqueNamespaces = Array.from(new Set(namespaces));\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_NAMESPACES, uniqueNamespaces.join(','));\n    } catch {\n      console.info('Unable to set namespaces in storage');\n    }\n  },\n  addConnectedNamespace(namespace) {\n    try {\n      const namespaces = StorageUtil.getConnectedNamespaces();\n      if (!namespaces.includes(namespace)) {\n        namespaces.push(namespace);\n        StorageUtil.setConnectedNamespaces(namespaces);\n      }\n    } catch {\n      console.info('Unable to add connected namespace');\n    }\n  },\n  removeConnectedNamespace(namespace) {\n    try {\n      const namespaces = StorageUtil.getConnectedNamespaces();\n      const index = namespaces.indexOf(namespace);\n      if (index > -1) {\n        namespaces.splice(index, 1);\n        StorageUtil.setConnectedNamespaces(namespaces);\n      }\n    } catch {\n      console.info('Unable to remove connected namespace');\n    }\n  },\n  getTelegramSocialProvider() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n    } catch {\n      console.info('Unable to get telegram social provider');\n      return null;\n    }\n  },\n  setTelegramSocialProvider(socialProvider) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER, socialProvider);\n    } catch {\n      console.info('Unable to set telegram social provider');\n    }\n  },\n  removeTelegramSocialProvider() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n    } catch {\n      console.info('Unable to remove telegram social provider');\n    }\n  },\n  getBalanceCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.PORTFOLIO_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get balance cache');\n    }\n    return cache;\n  },\n  removeAddressFromBalanceCache(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify({\n        ...cache,\n        [caipAddress]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove address from balance cache', caipAddress);\n    }\n  },\n  getBalanceCacheForCaipAddress(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      const balanceCache = cache[caipAddress];\n      // We want to discard cache if it's older than the cache expiry\n      if (balanceCache && !this.isCacheExpired(balanceCache.timestamp, this.cacheExpiry.portfolio)) {\n        return balanceCache.balance;\n      }\n      StorageUtil.removeAddressFromBalanceCache(caipAddress);\n    } catch {\n      console.info('Unable to get balance cache for address', caipAddress);\n    }\n    return undefined;\n  },\n  updateBalanceCache(params) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      cache[params.caipAddress] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update balance cache', params);\n    }\n  },\n  getNativeBalanceCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get balance cache');\n    }\n    return cache;\n  },\n  removeAddressFromNativeBalanceCache(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify({\n        ...cache,\n        [caipAddress]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove address from balance cache', caipAddress);\n    }\n  },\n  getNativeBalanceCacheForCaipAddress(caipAddress) {\n    try {\n      const cache = StorageUtil.getNativeBalanceCache();\n      const nativeBalanceCache = cache[caipAddress];\n      // We want to discard cache if it's older than the cache expiry\n      if (nativeBalanceCache && !this.isCacheExpired(nativeBalanceCache.timestamp, this.cacheExpiry.nativeBalance)) {\n        return nativeBalanceCache;\n      }\n      console.info('Discarding cache for address', caipAddress);\n      StorageUtil.removeAddressFromBalanceCache(caipAddress);\n    } catch {\n      console.info('Unable to get balance cache for address', caipAddress);\n    }\n    return undefined;\n  },\n  updateNativeBalanceCache(params) {\n    try {\n      const cache = StorageUtil.getNativeBalanceCache();\n      cache[params.caipAddress] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update balance cache', params);\n    }\n  },\n  getEnsCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.ENS_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get ens name cache');\n    }\n    return cache;\n  },\n  getEnsFromCacheForAddress(address) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      const ensCache = cache[address];\n      // We want to discard cache if it's older than the cache expiry\n      if (ensCache && !this.isCacheExpired(ensCache.timestamp, this.cacheExpiry.ens)) {\n        return ensCache.ens;\n      }\n      StorageUtil.removeEnsFromCache(address);\n    } catch {\n      console.info('Unable to get ens name from cache', address);\n    }\n    return undefined;\n  },\n  updateEnsCache(params) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      cache[params.address] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ENS_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update ens name cache', params);\n    }\n  },\n  removeEnsFromCache(address) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ENS_CACHE, JSON.stringify({\n        ...cache,\n        [address]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove ens name from cache', address);\n    }\n  },\n  getIdentityCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.IDENTITY_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get identity cache');\n    }\n    return cache;\n  },\n  getIdentityFromCacheForAddress(address) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      const identityCache = cache[address];\n      // We want to discard cache if it's older than the cache expiry\n      if (identityCache && !this.isCacheExpired(identityCache.timestamp, this.cacheExpiry.identity)) {\n        return identityCache.identity;\n      }\n      StorageUtil.removeIdentityFromCache(address);\n    } catch {\n      console.info('Unable to get identity from cache', address);\n    }\n    return undefined;\n  },\n  updateIdentityCache(params) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      cache[params.address] = {\n        identity: params.identity,\n        timestamp: params.timestamp\n      };\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update identity cache', params);\n    }\n  },\n  removeIdentityFromCache(address) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify({\n        ...cache,\n        [address]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove identity from cache', address);\n    }\n  },\n  clearAddressCache() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.PORTFOLIO_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.ENS_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.IDENTITY_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n    } catch {\n      console.info('Unable to clear address cache');\n    }\n  },\n  setPreferredAccountTypes(accountTypes) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES, JSON.stringify(accountTypes));\n    } catch {\n      console.info('Unable to set preferred account types', accountTypes);\n    }\n  },\n  getPreferredAccountTypes() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);\n      if (!result) {\n        return {};\n      }\n      return JSON.parse(result);\n    } catch {\n      console.info('Unable to get preferred account types');\n    }\n    return {};\n  },\n  setConnections(connections, chainNamespace) {\n    try {\n      const existingConnections = StorageUtil.getConnections();\n      const existing = existingConnections[chainNamespace] ?? [];\n      const connectorConnectionMap = new Map();\n      for (const conn of existing) {\n        connectorConnectionMap.set(conn.connectorId, {\n          ...conn\n        });\n      }\n      for (const conn of connections) {\n        const existingConn = connectorConnectionMap.get(conn.connectorId);\n        const isAuth = conn.connectorId === CommonConstantsUtil.CONNECTOR_ID.AUTH;\n        if (existingConn && !isAuth) {\n          const existingAddrs = new Set(existingConn.accounts.map(a => a.address.toLowerCase()));\n          const newAccounts = conn.accounts.filter(a => !existingAddrs.has(a.address.toLowerCase()));\n          existingConn.accounts.push(...newAccounts);\n        } else {\n          connectorConnectionMap.set(conn.connectorId, {\n            ...conn\n          });\n        }\n      }\n      const dedupedConnections = {\n        ...existingConnections,\n        [chainNamespace]: Array.from(connectorConnectionMap.values())\n      };\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTIONS, JSON.stringify(dedupedConnections));\n    } catch (error) {\n      console.error('Unable to sync connections to storage', error);\n    }\n  },\n  getConnections() {\n    try {\n      const connectionsStorage = SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTIONS);\n      if (!connectionsStorage) {\n        return {};\n      }\n      return JSON.parse(connectionsStorage);\n    } catch (error) {\n      console.error('Unable to get connections from storage', error);\n      return {};\n    }\n  },\n  deleteAddressFromConnection({\n    connectorId,\n    address,\n    namespace\n  }) {\n    try {\n      const connections = StorageUtil.getConnections();\n      const namespaceConnections = connections[namespace] ?? [];\n      const connectionMap = new Map(namespaceConnections.map(conn => [conn.connectorId, conn]));\n      const connector = connectionMap.get(connectorId);\n      if (connector) {\n        const updatedAccounts = connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase());\n        if (updatedAccounts.length === 0) {\n          connectionMap.delete(connectorId);\n        } else {\n          connectionMap.set(connectorId, {\n            ...connector,\n            accounts: connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase())\n          });\n        }\n      }\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTIONS, JSON.stringify({\n        ...connections,\n        [namespace]: Array.from(connectionMap.values())\n      }));\n    } catch {\n      console.error(`Unable to remove address \"${address}\" from connector \"${connectorId}\" in namespace \"${namespace}\"`);\n    }\n  },\n  getDisconnectedConnectorIds() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);\n      if (!result) {\n        return {};\n      }\n      return JSON.parse(result);\n    } catch {\n      console.info('Unable to get disconnected connector ids');\n    }\n    return {};\n  },\n  addDisconnectedConnectorId(connectorId, chainNamespace) {\n    try {\n      const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n      const disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n      disconnectedConnectorIdsByNamespace.push(connectorId);\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify({\n        ...currentDisconnectedConnectorIds,\n        [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n      }));\n    } catch {\n      console.error(`Unable to set disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n    }\n  },\n  removeDisconnectedConnectorId(connectorId, chainNamespace) {\n    try {\n      const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n      let disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n      disconnectedConnectorIdsByNamespace = disconnectedConnectorIdsByNamespace.filter(id => id.toLowerCase() !== connectorId.toLowerCase());\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify({\n        ...currentDisconnectedConnectorIds,\n        [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n      }));\n    } catch {\n      console.error(`Unable to remove disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n    }\n  },\n  isConnectorDisconnected(connectorId, chainNamespace) {\n    try {\n      const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n      const disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n      return disconnectedConnectorIdsByNamespace.some(id => id.toLowerCase() === connectorId.toLowerCase());\n    } catch {\n      console.info(`Unable to get disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n    }\n    return false;\n  },\n  getTransactionsCache() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n      return result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get transactions cache');\n    }\n    return {};\n  },\n  getTransactionsCacheForAddress({\n    address,\n    chainId = ''\n  }) {\n    try {\n      const cache = StorageUtil.getTransactionsCache();\n      const transactionsCache = cache[address]?.[chainId];\n      // We want to discard cache if it's older than the cache expiry\n      if (transactionsCache && !this.isCacheExpired(transactionsCache.timestamp, this.cacheExpiry.transactionsHistory)) {\n        return transactionsCache.transactions;\n      }\n      StorageUtil.removeTransactionsCache({\n        address,\n        chainId\n      });\n    } catch {\n      console.info('Unable to get transactions cache');\n    }\n    return undefined;\n  },\n  updateTransactionsCache({\n    address,\n    chainId = '',\n    timestamp,\n    transactions\n  }) {\n    try {\n      const cache = StorageUtil.getTransactionsCache();\n      cache[address] = {\n        ...cache[address],\n        [chainId]: {\n          timestamp,\n          transactions\n        }\n      };\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update transactions cache', {\n        address,\n        chainId,\n        timestamp,\n        transactions\n      });\n    }\n  },\n  removeTransactionsCache({\n    address,\n    chainId\n  }) {\n    try {\n      const cache = StorageUtil.getTransactionsCache();\n      const addressCache = cache?.[address] || {};\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const {\n        [chainId]: _removed,\n        ...updatedChainData\n      } = addressCache;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify({\n        ...cache,\n        [address]: updatedChainData\n      }));\n    } catch {\n      console.info('Unable to remove transactions cache', {\n        address,\n        chainId\n      });\n    }\n  },\n  getTokenPriceCache() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.TOKEN_PRICE_CACHE);\n      return result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get token price cache');\n    }\n    return {};\n  },\n  getTokenPriceCacheForAddresses(addresses) {\n    try {\n      const cache = StorageUtil.getTokenPriceCache();\n      const tokenPriceCache = cache[addresses.join(',')];\n      if (tokenPriceCache && !this.isCacheExpired(tokenPriceCache.timestamp, this.cacheExpiry.tokenPrice)) {\n        return tokenPriceCache.tokenPrice;\n      }\n      StorageUtil.removeTokenPriceCache(addresses);\n    } catch {\n      console.info('Unable to get token price cache for addresses', addresses);\n    }\n    return undefined;\n  },\n  updateTokenPriceCache(params) {\n    try {\n      const cache = StorageUtil.getTokenPriceCache();\n      cache[params.addresses.join(',')] = {\n        timestamp: params.timestamp,\n        tokenPrice: params.tokenPrice\n      };\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update token price cache', params);\n    }\n  },\n  removeTokenPriceCache(addresses) {\n    try {\n      const cache = StorageUtil.getTokenPriceCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify({\n        ...cache,\n        [addresses.join(',')]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove token price cache', addresses);\n    }\n  },\n  /* ----- AppKit Latest Version ------------------------- */\n  getLatestAppKitVersion() {\n    try {\n      const result = this.getLatestAppKitVersionCache();\n      const version = result?.version;\n      if (version && !this.isCacheExpired(result.timestamp, this.cacheExpiry.latestAppKitVersion)) {\n        return version;\n      }\n      return undefined;\n    } catch {\n      console.info('Unable to get latest AppKit version');\n    }\n    return undefined;\n  },\n  getLatestAppKitVersionCache() {\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.LATEST_APPKIT_VERSION);\n      return result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get latest AppKit version cache');\n    }\n    return {};\n  },\n  updateLatestAppKitVersion(params) {\n    try {\n      const cache = StorageUtil.getLatestAppKitVersionCache();\n      cache.timestamp = params.timestamp;\n      cache.version = params.version;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.LATEST_APPKIT_VERSION, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update latest AppKit version on local storage', params);\n    }\n  }\n};","map":{"version":3,"names":["ConstantsUtil","CommonConstantsUtil","SafeLocalStorage","SafeLocalStorageKeys","getSafeConnectorIdKey","StorageUtil","cacheExpiry","portfolio","nativeBalance","ens","identity","transactionsHistory","tokenPrice","latestAppKitVersion","isCacheExpired","timestamp","Date","now","getActiveNetworkProps","namespace","getActiveNamespace","caipNetworkId","getActiveCaipNetworkId","stringChainId","split","undefined","chainId","isNaN","Number","setWalletConnectDeepLink","name","href","setItem","DEEPLINK_CHOICE","JSON","stringify","console","info","getWalletConnectDeepLink","deepLink","getItem","parse","deleteWalletConnectDeepLink","removeItem","setActiveNamespace","ACTIVE_NAMESPACE","setActiveCaipNetworkId","ACTIVE_CAIP_NETWORK_ID","deleteActiveCaipNetworkId","deleteConnectedConnectorId","key","setAppKitRecent","wallet","recentWallets","getRecentWallets","exists","find","w","id","unshift","length","pop","RECENT_WALLETS","RECENT_WALLET","recent","getRecentWallet","deleteRecentWallet","setConnectedConnectorId","connectorId","activeNamespace","getConnectedConnectorId","e","setConnectedSocialProvider","socialProvider","CONNECTED_SOCIAL","getConnectedSocialProvider","deleteConnectedSocialProvider","getConnectedSocialUsername","CONNECTED_SOCIAL_USERNAME","getStoredActiveCaipNetworkId","storedCaipNetworkId","networkId","setConnectionStatus","status","CONNECTION_STATUS","getConnectionStatus","getConnectedNamespaces","namespaces","CONNECTED_NAMESPACES","setConnectedNamespaces","uniqueNamespaces","Array","from","Set","join","addConnectedNamespace","includes","push","removeConnectedNamespace","index","indexOf","splice","getTelegramSocialProvider","TELEGRAM_SOCIAL_PROVIDER","setTelegramSocialProvider","removeTelegramSocialProvider","getBalanceCache","cache","result","PORTFOLIO_CACHE","removeAddressFromBalanceCache","caipAddress","getBalanceCacheForCaipAddress","balanceCache","balance","updateBalanceCache","params","getNativeBalanceCache","NATIVE_BALANCE_CACHE","removeAddressFromNativeBalanceCache","getNativeBalanceCacheForCaipAddress","nativeBalanceCache","updateNativeBalanceCache","getEnsCache","ENS_CACHE","getEnsFromCacheForAddress","address","ensCache","removeEnsFromCache","updateEnsCache","getIdentityCache","IDENTITY_CACHE","getIdentityFromCacheForAddress","identityCache","removeIdentityFromCache","updateIdentityCache","clearAddressCache","HISTORY_TRANSACTIONS_CACHE","setPreferredAccountTypes","accountTypes","PREFERRED_ACCOUNT_TYPES","getPreferredAccountTypes","setConnections","connections","chainNamespace","existingConnections","getConnections","existing","connectorConnectionMap","Map","conn","set","existingConn","get","isAuth","CONNECTOR_ID","AUTH","existingAddrs","accounts","map","a","toLowerCase","newAccounts","filter","has","dedupedConnections","values","CONNECTIONS","error","connectionsStorage","deleteAddressFromConnection","namespaceConnections","connectionMap","connector","updatedAccounts","acc","delete","getDisconnectedConnectorIds","DISCONNECTED_CONNECTOR_IDS","addDisconnectedConnectorId","currentDisconnectedConnectorIds","disconnectedConnectorIdsByNamespace","removeDisconnectedConnectorId","isConnectorDisconnected","some","getTransactionsCache","getTransactionsCacheForAddress","transactionsCache","transactions","removeTransactionsCache","updateTransactionsCache","addressCache","_removed","updatedChainData","getTokenPriceCache","TOKEN_PRICE_CACHE","getTokenPriceCacheForAddresses","addresses","tokenPriceCache","removeTokenPriceCache","updateTokenPriceCache","getLatestAppKitVersion","getLatestAppKitVersionCache","version","LATEST_APPKIT_VERSION","updateLatestAppKitVersion"],"sources":["../../../../src/utils/StorageUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}