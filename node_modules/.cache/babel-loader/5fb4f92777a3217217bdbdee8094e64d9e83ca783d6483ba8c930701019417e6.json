{"ast":null,"code":"import { PresetsUtil } from '../PresetsUtil.js';\nexport const EthersHelpersUtil = {\n  hexStringToNumber(value) {\n    const string = value.startsWith('0x') ? value.slice(2) : value;\n    const number = parseInt(string, 16);\n    return number;\n  },\n  numberToHexString(value) {\n    return `0x${value.toString(16)}`;\n  },\n  async getUserInfo(provider) {\n    const [addresses, chainId] = await Promise.all([EthersHelpersUtil.getAddresses(provider), EthersHelpersUtil.getChainId(provider)]);\n    return {\n      chainId,\n      addresses\n    };\n  },\n  async getChainId(provider) {\n    const chainId = await provider.request({\n      method: 'eth_chainId'\n    });\n    return Number(chainId);\n  },\n  async getAddress(provider) {\n    const [address] = await provider.request({\n      method: 'eth_accounts'\n    });\n    return address;\n  },\n  async getAddresses(provider) {\n    const addresses = await provider.request({\n      method: 'eth_accounts'\n    });\n    return addresses;\n  },\n  async addEthereumChain(provider, caipNetwork) {\n    const rpcUrls = caipNetwork.rpcUrls['chainDefault']?.http || [];\n    await provider.request({\n      method: 'wallet_addEthereumChain',\n      params: [{\n        chainId: EthersHelpersUtil.numberToHexString(caipNetwork.id),\n        rpcUrls: [...rpcUrls],\n        chainName: caipNetwork.name,\n        nativeCurrency: {\n          name: caipNetwork.nativeCurrency.name,\n          decimals: caipNetwork.nativeCurrency.decimals,\n          symbol: caipNetwork.nativeCurrency.symbol\n        },\n        blockExplorerUrls: [caipNetwork.blockExplorers?.default.url],\n        iconUrls: [PresetsUtil.NetworkImageIds[caipNetwork.id]]\n      }]\n    });\n  }\n};","map":{"version":3,"names":["PresetsUtil","EthersHelpersUtil","hexStringToNumber","value","string","startsWith","slice","number","parseInt","numberToHexString","toString","getUserInfo","provider","addresses","chainId","Promise","all","getAddresses","getChainId","request","method","Number","getAddress","address","addEthereumChain","caipNetwork","rpcUrls","http","params","id","chainName","name","nativeCurrency","decimals","symbol","blockExplorerUrls","blockExplorers","default","url","iconUrls","NetworkImageIds"],"sources":["../../../../src/ethers/EthersHelpersUtil.ts"],"sourcesContent":[null],"mappings":"AAEA,SAASA,WAAW,QAAQ,mBAAmB;AAG/C,OAAO,MAAMC,iBAAiB,GAAG;EAC/BC,iBAAiBA,CAACC,KAAa;IAC7B,MAAMC,MAAM,GAAGD,KAAK,CAACE,UAAU,CAAC,IAAI,CAAC,GAAGF,KAAK,CAACG,KAAK,CAAC,CAAC,CAAC,GAAGH,KAAK;IAC9D,MAAMI,MAAM,GAAGC,QAAQ,CAACJ,MAAM,EAAE,EAAE,CAAC;IAEnC,OAAOG,MAAM;EACf,CAAC;EACDE,iBAAiBA,CAACN,KAAsB;IACtC,OAAO,KAAKA,KAAK,CAACO,QAAQ,CAAC,EAAE,CAAC,EAAE;EAClC,CAAC;EACD,MAAMC,WAAWA,CAACC,QAAkB;IAClC,MAAM,CAACC,SAAS,EAAEC,OAAO,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC7Cf,iBAAiB,CAACgB,YAAY,CAACL,QAAQ,CAAC,EACxCX,iBAAiB,CAACiB,UAAU,CAACN,QAAQ,CAAC,CACvC,CAAC;IAEF,OAAO;MAAEE,OAAO;MAAED;IAAS,CAAE;EAC/B,CAAC;EACD,MAAMK,UAAUA,CAACN,QAAkB;IACjC,MAAME,OAAO,GAAG,MAAMF,QAAQ,CAACO,OAAO,CAAkB;MAAEC,MAAM,EAAE;IAAa,CAAE,CAAC;IAElF,OAAOC,MAAM,CAACP,OAAO,CAAC;EACxB,CAAC;EACD,MAAMQ,UAAUA,CAACV,QAAkB;IACjC,MAAM,CAACW,OAAO,CAAC,GAAG,MAAMX,QAAQ,CAACO,OAAO,CAAW;MAAEC,MAAM,EAAE;IAAc,CAAE,CAAC;IAE9E,OAAOG,OAAO;EAChB,CAAC;EACD,MAAMN,YAAYA,CAACL,QAAkB;IACnC,MAAMC,SAAS,GAAG,MAAMD,QAAQ,CAACO,OAAO,CAAW;MAAEC,MAAM,EAAE;IAAc,CAAE,CAAC;IAE9E,OAAOP,SAAS;EAClB,CAAC;EACD,MAAMW,gBAAgBA,CAACZ,QAAkB,EAAEa,WAAwB;IACjE,MAAMC,OAAO,GAAGD,WAAW,CAACC,OAAO,CAAC,cAAc,CAAC,EAAEC,IAAI,IAAI,EAAE;IAC/D,MAAMf,QAAQ,CAACO,OAAO,CAAC;MACrBC,MAAM,EAAE,yBAAyB;MACjCQ,MAAM,EAAE,CACN;QACEd,OAAO,EAAEb,iBAAiB,CAACQ,iBAAiB,CAACgB,WAAW,CAACI,EAAE,CAAC;QAC5DH,OAAO,EAAE,CAAC,GAAGA,OAAO,CAAC;QACrBI,SAAS,EAAEL,WAAW,CAACM,IAAI;QAC3BC,cAAc,EAAE;UACdD,IAAI,EAAEN,WAAW,CAACO,cAAc,CAACD,IAAI;UACrCE,QAAQ,EAAER,WAAW,CAACO,cAAc,CAACC,QAAQ;UAC7CC,MAAM,EAAET,WAAW,CAACO,cAAc,CAACE;SACpC;QACDC,iBAAiB,EAAE,CAACV,WAAW,CAACW,cAAc,EAAEC,OAAO,CAACC,GAAG,CAAC;QAC5DC,QAAQ,EAAE,CAACvC,WAAW,CAACwC,eAAe,CAACf,WAAW,CAACI,EAAE,CAAC;OACvD;KAEJ,CAAC;EACJ;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}