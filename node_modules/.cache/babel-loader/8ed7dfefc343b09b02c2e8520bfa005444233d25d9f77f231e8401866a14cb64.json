{"ast":null,"code":"import _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _wrapRegExp from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js\";\nimport { execTyped } from '../regex.js';\n// https://regexr.com/7f7rv\nconst tupleRegex = /*#__PURE__*/_wrapRegExp(/^tuple((\\[(\\d*)\\])*)$/, {\n  array: 1\n});\n/**\n * Formats {@link AbiParameter} to human-readable ABI parameter.\n *\n * @param abiParameter - ABI parameter\n * @returns Human-readable ABI parameter\n *\n * @example\n * const result = formatAbiParameter({ type: 'address', name: 'from' })\n * //    ^? const result: 'address from'\n */\nexport function formatAbiParameter(abiParameter) {\n  let type = abiParameter.type;\n  if (tupleRegex.test(abiParameter.type) && 'components' in abiParameter) {\n    var _result$array;\n    type = '(';\n    const length = abiParameter.components.length;\n    for (let i = 0; i < length; i++) {\n      const component = abiParameter.components[i];\n      type += formatAbiParameter(component);\n      if (i < length - 1) type += ', ';\n    }\n    const result = execTyped(tupleRegex, abiParameter.type);\n    type += \")\".concat((_result$array = result === null || result === void 0 ? void 0 : result.array) !== null && _result$array !== void 0 ? _result$array : '');\n    return formatAbiParameter(_objectSpread(_objectSpread({}, abiParameter), {}, {\n      type\n    }));\n  }\n  // Add `indexed` to type if in `abiParameter`\n  if ('indexed' in abiParameter && abiParameter.indexed) type = \"\".concat(type, \" indexed\");\n  // Return human-readable ABI parameter\n  if (abiParameter.name) return \"\".concat(type, \" \").concat(abiParameter.name);\n  return type;\n}","map":{"version":3,"names":["execTyped","tupleRegex","_wrapRegExp","array","formatAbiParameter","abiParameter","type","test","_result$array","length","components","i","component","result","concat","_objectSpread","indexed","name"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/viem/node_modules/abitype/src/human-readable/formatAbiParameter.ts"],"sourcesContent":["import type { AbiEventParameter, AbiParameter } from '../abi.js'\nimport { execTyped } from '../regex.js'\nimport type { IsNarrowable, Join } from '../types.js'\nimport type { AssertName } from './types/signatures.js'\n\n/**\n * Formats {@link AbiParameter} to human-readable ABI parameter.\n *\n * @param abiParameter - ABI parameter\n * @returns Human-readable ABI parameter\n *\n * @example\n * type Result = FormatAbiParameter<{ type: 'address'; name: 'from'; }>\n * //   ^? type Result = 'address from'\n */\nexport type FormatAbiParameter<\n  abiParameter extends AbiParameter | AbiEventParameter,\n> = abiParameter extends {\n  name?: infer name extends string\n  type: `tuple${infer array}`\n  components: infer components extends readonly AbiParameter[]\n  indexed?: infer indexed extends boolean\n}\n  ? FormatAbiParameter<\n      {\n        type: `(${Join<\n          {\n            [key in keyof components]: FormatAbiParameter<\n              {\n                type: components[key]['type']\n              } & (IsNarrowable<components[key]['name'], string> extends true\n                ? { name: components[key]['name'] }\n                : unknown) &\n                (components[key] extends { components: readonly AbiParameter[] }\n                  ? { components: components[key]['components'] }\n                  : unknown)\n            >\n          },\n          ', '\n        >})${array}`\n      } & (IsNarrowable<name, string> extends true ? { name: name } : unknown) &\n        (IsNarrowable<indexed, boolean> extends true\n          ? { indexed: indexed }\n          : unknown)\n    >\n  : `${abiParameter['type']}${abiParameter extends { indexed: true }\n      ? ' indexed'\n      : ''}${abiParameter['name'] extends infer name extends string\n      ? name extends ''\n        ? ''\n        : ` ${AssertName<name>}`\n      : ''}`\n\n// https://regexr.com/7f7rv\nconst tupleRegex = /^tuple(?<array>(\\[(\\d*)\\])*)$/\n\n/**\n * Formats {@link AbiParameter} to human-readable ABI parameter.\n *\n * @param abiParameter - ABI parameter\n * @returns Human-readable ABI parameter\n *\n * @example\n * const result = formatAbiParameter({ type: 'address', name: 'from' })\n * //    ^? const result: 'address from'\n */\nexport function formatAbiParameter<\n  const abiParameter extends AbiParameter | AbiEventParameter,\n>(abiParameter: abiParameter): FormatAbiParameter<abiParameter> {\n  type Result = FormatAbiParameter<abiParameter>\n\n  let type = abiParameter.type\n  if (tupleRegex.test(abiParameter.type) && 'components' in abiParameter) {\n    type = '('\n    const length = abiParameter.components.length as number\n    for (let i = 0; i < length; i++) {\n      const component = abiParameter.components[i]!\n      type += formatAbiParameter(component)\n      if (i < length - 1) type += ', '\n    }\n    const result = execTyped<{ array?: string }>(tupleRegex, abiParameter.type)\n    type += `)${result?.array ?? ''}`\n    return formatAbiParameter({\n      ...abiParameter,\n      type,\n    }) as Result\n  }\n  // Add `indexed` to type if in `abiParameter`\n  if ('indexed' in abiParameter && abiParameter.indexed)\n    type = `${type} indexed`\n  // Return human-readable ABI parameter\n  if (abiParameter.name) return `${type} ${abiParameter.name}` as Result\n  return type as Result\n}\n"],"mappings":";;AACA,SAASA,SAAS,QAAQ,aAAa;AAoDvC;AACA,MAAMC,UAAU,gBAAAC,WAAA,CAAG,uBAA+B;EAAAC,KAAA;AAAA;AAElD;;;;;;;;;;AAUA,OAAM,SAAUC,kBAAkBA,CAEhCC,YAA0B;EAG1B,IAAIC,IAAI,GAAGD,YAAY,CAACC,IAAI;EAC5B,IAAIL,UAAU,CAACM,IAAI,CAACF,YAAY,CAACC,IAAI,CAAC,IAAI,YAAY,IAAID,YAAY,EAAE;IAAA,IAAAG,aAAA;IACtEF,IAAI,GAAG,GAAG;IACV,MAAMG,MAAM,GAAGJ,YAAY,CAACK,UAAU,CAACD,MAAgB;IACvD,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,EAAEE,CAAC,EAAE,EAAE;MAC/B,MAAMC,SAAS,GAAGP,YAAY,CAACK,UAAU,CAACC,CAAC,CAAE;MAC7CL,IAAI,IAAIF,kBAAkB,CAACQ,SAAS,CAAC;MACrC,IAAID,CAAC,GAAGF,MAAM,GAAG,CAAC,EAAEH,IAAI,IAAI,IAAI;IAClC;IACA,MAAMO,MAAM,GAAGb,SAAS,CAAqBC,UAAU,EAAEI,YAAY,CAACC,IAAI,CAAC;IAC3EA,IAAI,QAAAQ,MAAA,EAAAN,aAAA,GAAQK,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEV,KAAK,cAAAK,aAAA,cAAAA,aAAA,GAAI,EAAE,CAAE;IACjC,OAAOJ,kBAAkB,CAAAW,aAAA,CAAAA,aAAA,KACpBV,YAAY;MACfC;IAAI,EACL,CAAW;EACd;EACA;EACA,IAAI,SAAS,IAAID,YAAY,IAAIA,YAAY,CAACW,OAAO,EACnDV,IAAI,MAAAQ,MAAA,CAAMR,IAAI,aAAU;EAC1B;EACA,IAAID,YAAY,CAACY,IAAI,EAAE,UAAAH,MAAA,CAAUR,IAAI,OAAAQ,MAAA,CAAIT,YAAY,CAACY,IAAI;EAC1D,OAAOX,IAAc;AACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}