{"ast":null,"code":"import _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { EventEmitter } from 'eventemitter3';\nimport * as Errors from './Errors.js';\nimport * as RpcResponse from './RpcResponse.js';\nexport class ProviderRpcError extends Error {\n  constructor(code, message) {\n    super(message);\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'ProviderRpcError'\n    });\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"details\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    this.code = code;\n    this.details = message;\n  }\n}\n/** The user rejected the request. */\nexport class UserRejectedRequestError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'The user rejected the request.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(4001, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 4001\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.UserRejectedRequestError'\n    });\n  }\n}\nObject.defineProperty(UserRejectedRequestError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 4001\n});\n/** The requested method and/or account has not been authorized by the user. */\nexport class UnauthorizedError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'The requested method and/or account has not been authorized by the user.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(4100, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 4100\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.UnauthorizedError'\n    });\n  }\n}\nObject.defineProperty(UnauthorizedError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 4100\n});\n/** The provider does not support the requested method. */\nexport class UnsupportedMethodError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'The provider does not support the requested method.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(4200, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 4200\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.UnsupportedMethodError'\n    });\n  }\n}\nObject.defineProperty(UnsupportedMethodError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 4200\n});\n/** The provider is disconnected from all chains. */\nexport class DisconnectedError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'The provider is disconnected from all chains.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(4900, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 4900\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.DisconnectedError'\n    });\n  }\n}\nObject.defineProperty(DisconnectedError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 4900\n});\n/** The provider is not connected to the requested chain. */\nexport class ChainDisconnectedError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'The provider is not connected to the requested chain.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(4901, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 4901\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.ChainDisconnectedError'\n    });\n  }\n}\nObject.defineProperty(ChainDisconnectedError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 4901\n});\n/** An error occurred when attempting to switch chain. */\nexport class SwitchChainError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'An error occurred when attempting to switch chain.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(4902, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 4902\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.SwitchChainError'\n    });\n  }\n}\nObject.defineProperty(SwitchChainError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 4902\n});\n/** This Wallet does not support a capability that was not marked as optional. */\nexport class UnsupportedNonOptionalCapabilityError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'This Wallet does not support a capability that was not marked as optional.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(5700, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 5700\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.UnsupportedNonOptionalCapabilityError'\n    });\n  }\n}\nObject.defineProperty(UnsupportedNonOptionalCapabilityError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 5700\n});\n/** This Wallet does not support the requested chain ID. */\nexport class UnsupportedChainIdError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'This Wallet does not support the requested chain ID.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(5710, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 5710\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.UnsupportedChainIdError'\n    });\n  }\n}\nObject.defineProperty(UnsupportedChainIdError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 5710\n});\n/** There is already a bundle submitted with this ID. */\nexport class DuplicateIdError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'There is already a bundle submitted with this ID.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(5720, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 5720\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.DuplicateIdError'\n    });\n  }\n}\nObject.defineProperty(DuplicateIdError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 5720\n});\n/** This bundle id is unknown / has not been submitted. */\nexport class UnknownBundleIdError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'This bundle id is unknown / has not been submitted.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(5730, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 5730\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.UnknownBundleIdError'\n    });\n  }\n}\nObject.defineProperty(UnknownBundleIdError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 5730\n});\n/** The call bundle is too large for the Wallet to process. */\nexport class BundleTooLargeError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'The call bundle is too large for the Wallet to process.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(5740, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 5740\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.BundleTooLargeError'\n    });\n  }\n}\nObject.defineProperty(BundleTooLargeError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 5740\n});\n/** The Wallet can support atomicity after an upgrade, but the user rejected the upgrade. */\nexport class AtomicReadyWalletRejectedUpgradeError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'The Wallet can support atomicity after an upgrade, but the user rejected the upgrade.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(5750, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 5750\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.AtomicReadyWalletRejectedUpgradeError'\n    });\n  }\n}\nObject.defineProperty(AtomicReadyWalletRejectedUpgradeError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 5750\n});\n/** The wallet does not support atomic execution but the request requires it. */\nexport class AtomicityNotSupportedError extends ProviderRpcError {\n  constructor() {\n    let {\n      message = 'The wallet does not support atomic execution but the request requires it.'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(5760, message);\n    Object.defineProperty(this, \"code\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 5760\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.AtomicityNotSupportedError'\n    });\n  }\n}\nObject.defineProperty(AtomicityNotSupportedError, \"code\", {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value: 5760\n});\n/**\n * Creates an EIP-1193 flavored event emitter to be injected onto a Provider.\n *\n * @example\n * ```ts twoslash\n * // @noErrors\n * import { Provider, RpcRequest, RpcResponse } from 'ox' // [!code focus]\n *\n * // 1. Instantiate a Provider Emitter. // [!code focus]\n * const emitter = Provider.createEmitter() // [!code focus]\n *\n * const store = RpcRequest.createStore()\n *\n * const provider = Provider.from({\n *   // 2. Pass the Emitter to the Provider. // [!code focus]\n *   ...emitter, // [!code focus]\n *   async request(args) {\n *     return await fetch('https://1.rpc.thirdweb.com', {\n *       body: JSON.stringify(store.prepare(args)),\n *       method: 'POST',\n *       headers: {\n *         'Content-Type': 'application/json',\n *       },\n *     })\n *       .then((res) => res.json())\n *       .then(RpcResponse.parse)\n *   },\n * })\n *\n * // 3. Emit Provider Events. // [!code focus]\n * emitter.emit('accountsChanged', ['0x...']) // [!code focus]\n * ```\n *\n * @returns An event emitter.\n */\nexport function createEmitter() {\n  const emitter = new EventEmitter();\n  return {\n    get eventNames() {\n      return emitter.eventNames.bind(emitter);\n    },\n    get listenerCount() {\n      return emitter.listenerCount.bind(emitter);\n    },\n    get listeners() {\n      return emitter.listeners.bind(emitter);\n    },\n    addListener: emitter.addListener.bind(emitter),\n    emit: emitter.emit.bind(emitter),\n    off: emitter.off.bind(emitter),\n    on: emitter.on.bind(emitter),\n    once: emitter.once.bind(emitter),\n    removeAllListeners: emitter.removeAllListeners.bind(emitter),\n    removeListener: emitter.removeListener.bind(emitter)\n  };\n}\n// eslint-disable-next-line jsdoc/require-jsdoc\nexport function from(provider) {\n  var _provider$on, _provider$removeListe;\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    includeEvents = true\n  } = options;\n  if (!provider) throw new IsUndefinedError();\n  return _objectSpread(_objectSpread({}, includeEvents ? {\n    on: (_provider$on = provider.on) === null || _provider$on === void 0 ? void 0 : _provider$on.bind(provider),\n    removeListener: (_provider$removeListe = provider.removeListener) === null || _provider$removeListe === void 0 ? void 0 : _provider$removeListe.bind(provider)\n  } : {}), {}, {\n    async request(args) {\n      try {\n        const result = await provider.request(args);\n        if (result && typeof result === 'object' && 'jsonrpc' in result) return RpcResponse.parse(result);\n        return result;\n      } catch (error) {\n        throw parseError(error);\n      }\n    }\n  });\n}\n/**\n * Parses an error into a Provider error instance.\n *\n * @example\n * ```ts twoslash\n * import { Provider } from 'ox'\n *\n * const error = Provider.parseError({ code: 4200, message: 'foo' })\n *\n * error\n * // ^?\n *\n * ```\n *\n * @param error - The error object to parse.\n * @returns An error instance.\n */\nexport function parseError(error) {\n  const error_ = RpcResponse.parseError(error);\n  if (error_ instanceof RpcResponse.InternalError) {\n    if (!error_.data) return error_;\n    const {\n      code\n    } = error_.data;\n    if (code === DisconnectedError.code) return new DisconnectedError(error_);\n    if (code === ChainDisconnectedError.code) return new ChainDisconnectedError(error_);\n    if (code === UserRejectedRequestError.code) return new UserRejectedRequestError(error_);\n    if (code === UnauthorizedError.code) return new UnauthorizedError(error_);\n    if (code === UnsupportedMethodError.code) return new UnsupportedMethodError(error_);\n    if (code === SwitchChainError.code) return new SwitchChainError(error_);\n    if (code === AtomicReadyWalletRejectedUpgradeError.code) return new AtomicReadyWalletRejectedUpgradeError(error_);\n    if (code === AtomicityNotSupportedError.code) return new AtomicityNotSupportedError(error_);\n    if (code === BundleTooLargeError.code) return new BundleTooLargeError(error_);\n    if (code === UnknownBundleIdError.code) return new UnknownBundleIdError(error_);\n    if (code === DuplicateIdError.code) return new DuplicateIdError(error_);\n    if (code === UnsupportedChainIdError.code) return new UnsupportedChainIdError(error_);\n    if (code === UnsupportedNonOptionalCapabilityError.code) return new UnsupportedNonOptionalCapabilityError(error_);\n  }\n  return error_;\n}\n/** Thrown when the provider is undefined. */\nexport class IsUndefinedError extends Errors.BaseError {\n  constructor() {\n    super('`provider` is undefined.');\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 'Provider.IsUndefinedError'\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","Errors","RpcResponse","ProviderRpcError","Error","constructor","code","message","Object","defineProperty","details","UserRejectedRequestError","arguments","length","undefined","UnauthorizedError","UnsupportedMethodError","DisconnectedError","ChainDisconnectedError","SwitchChainError","UnsupportedNonOptionalCapabilityError","UnsupportedChainIdError","DuplicateIdError","UnknownBundleIdError","BundleTooLargeError","AtomicReadyWalletRejectedUpgradeError","AtomicityNotSupportedError","createEmitter","emitter","eventNames","bind","listenerCount","listeners","addListener","emit","off","on","once","removeAllListeners","removeListener","from","provider","_provider$on","_provider$removeListe","options","includeEvents","IsUndefinedError","_objectSpread","request","args","result","parse","error","parseError","error_","InternalError","data","BaseError"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/ox/core/Provider.ts"],"sourcesContent":["import { EventEmitter } from 'eventemitter3'\nimport type * as Address from './Address.js'\nimport * as Errors from './Errors.js'\nimport type * as RpcSchema_internal from './internal/rpcSchema.js'\nimport type { Compute, IsNarrowable, IsNever } from './internal/types.js'\nimport * as RpcResponse from './RpcResponse.js'\nimport type * as RpcSchema from './RpcSchema.js'\n\n/** Options for a {@link ox#Provider.Provider}. */\nexport type Options = {\n  /**\n   * Whether to include event functions (`on`, `removeListener`) on the Provider.\n   *\n   * @default true\n   */\n  includeEvents?: boolean | undefined\n  /**\n   * RPC Schema to use for the Provider's `request` function.\n   * See {@link ox#RpcSchema.(from:function)} for more.\n   *\n   * @default `RpcSchema.Generic`\n   */\n  schema?: RpcSchema.Generic | undefined\n}\n\n/** Root type for an EIP-1193 Provider. */\nexport type Provider<\n  options extends Options | undefined = undefined,\n  ///\n  _schema extends RpcSchema.Generic = options extends {\n    schema: infer schema extends RpcSchema.Generic\n  }\n    ? schema\n    : RpcSchema.Default,\n> = Compute<\n  {\n    request: RequestFn<_schema>\n  } & (options extends { includeEvents: true } | undefined\n    ? {\n        on: EventListenerFn\n        removeListener: EventListenerFn\n      }\n    : {})\n>\n\n/** Type for an EIP-1193 Provider's event emitter. */\nexport type Emitter = Compute<EventEmitter<EventMap>>\n\n/** EIP-1193 Provider's `request` function. */\nexport type RequestFn<schema extends RpcSchema.Generic = RpcSchema.Generic> = <\n  methodName extends RpcSchema.MethodNameGeneric,\n>(\n  parameters: RpcSchema_internal.ExtractRequestOpaque<schema, methodName>,\n) => Promise<RpcSchema.ExtractReturnType<schema, methodName>>\n\n/** Type for an EIP-1193 Provider's event listener functions (`on`, `removeListener`, etc). */\nexport type EventListenerFn = <event extends keyof EventMap>(\n  event: event,\n  listener: EventMap[event],\n) => void\n\nexport type ConnectInfo = {\n  chainId: string\n}\n\nexport type Message = {\n  type: string\n  data: unknown\n}\n\nexport class ProviderRpcError extends Error {\n  override name = 'ProviderRpcError'\n\n  code: number\n  details: string\n\n  constructor(code: number, message: string) {\n    super(message)\n    this.code = code\n    this.details = message\n  }\n}\n\nexport type EventMap = {\n  accountsChanged: (accounts: readonly Address.Address[]) => void\n  chainChanged: (chainId: string) => void\n  connect: (connectInfo: ConnectInfo) => void\n  disconnect: (error: ProviderRpcError) => void\n  message: (message: Message) => void\n}\n\n/** The user rejected the request. */\nexport class UserRejectedRequestError extends ProviderRpcError {\n  static readonly code = 4001\n  override readonly code = 4001\n  override readonly name = 'Provider.UserRejectedRequestError'\n\n  constructor({\n    message = 'The user rejected the request.',\n  }: { message?: string | undefined } = {}) {\n    super(4001, message)\n  }\n}\n\n/** The requested method and/or account has not been authorized by the user. */\nexport class UnauthorizedError extends ProviderRpcError {\n  static readonly code = 4100\n  override readonly code = 4100\n  override readonly name = 'Provider.UnauthorizedError'\n\n  constructor({\n    message = 'The requested method and/or account has not been authorized by the user.',\n  }: { message?: string | undefined } = {}) {\n    super(4100, message)\n  }\n}\n\n/** The provider does not support the requested method. */\nexport class UnsupportedMethodError extends ProviderRpcError {\n  static readonly code = 4200\n  override readonly code = 4200\n  override readonly name = 'Provider.UnsupportedMethodError'\n\n  constructor({\n    message = 'The provider does not support the requested method.',\n  }: { message?: string | undefined } = {}) {\n    super(4200, message)\n  }\n}\n\n/** The provider is disconnected from all chains. */\nexport class DisconnectedError extends ProviderRpcError {\n  static readonly code = 4900\n  override readonly code = 4900\n  override readonly name = 'Provider.DisconnectedError'\n\n  constructor({\n    message = 'The provider is disconnected from all chains.',\n  }: { message?: string | undefined } = {}) {\n    super(4900, message)\n  }\n}\n\n/** The provider is not connected to the requested chain. */\nexport class ChainDisconnectedError extends ProviderRpcError {\n  static readonly code = 4901\n  override readonly code = 4901\n  override readonly name = 'Provider.ChainDisconnectedError'\n\n  constructor({\n    message = 'The provider is not connected to the requested chain.',\n  }: { message?: string | undefined } = {}) {\n    super(4901, message)\n  }\n}\n\n/** An error occurred when attempting to switch chain. */\nexport class SwitchChainError extends ProviderRpcError {\n  static readonly code = 4902\n  override readonly code = 4902\n  override readonly name = 'Provider.SwitchChainError'\n\n  constructor({\n    message = 'An error occurred when attempting to switch chain.',\n  }: { message?: string | undefined } = {}) {\n    super(4902, message)\n  }\n}\n\n/** This Wallet does not support a capability that was not marked as optional. */\nexport class UnsupportedNonOptionalCapabilityError extends ProviderRpcError {\n  static readonly code = 5700\n  override readonly code = 5700\n  override readonly name = 'Provider.UnsupportedNonOptionalCapabilityError'\n\n  constructor({\n    message = 'This Wallet does not support a capability that was not marked as optional.',\n  }: { message?: string | undefined } = {}) {\n    super(5700, message)\n  }\n}\n\n/** This Wallet does not support the requested chain ID. */\nexport class UnsupportedChainIdError extends ProviderRpcError {\n  static readonly code = 5710\n  override readonly code = 5710\n  override readonly name = 'Provider.UnsupportedChainIdError'\n\n  constructor({\n    message = 'This Wallet does not support the requested chain ID.',\n  }: { message?: string | undefined } = {}) {\n    super(5710, message)\n  }\n}\n\n/** There is already a bundle submitted with this ID. */\nexport class DuplicateIdError extends ProviderRpcError {\n  static readonly code = 5720\n  override readonly code = 5720\n  override readonly name = 'Provider.DuplicateIdError'\n\n  constructor({\n    message = 'There is already a bundle submitted with this ID.',\n  }: { message?: string | undefined } = {}) {\n    super(5720, message)\n  }\n}\n\n/** This bundle id is unknown / has not been submitted. */\nexport class UnknownBundleIdError extends ProviderRpcError {\n  static readonly code = 5730\n  override readonly code = 5730\n  override readonly name = 'Provider.UnknownBundleIdError'\n\n  constructor({\n    message = 'This bundle id is unknown / has not been submitted.',\n  }: { message?: string | undefined } = {}) {\n    super(5730, message)\n  }\n}\n\n/** The call bundle is too large for the Wallet to process. */\nexport class BundleTooLargeError extends ProviderRpcError {\n  static readonly code = 5740\n  override readonly code = 5740\n  override readonly name = 'Provider.BundleTooLargeError'\n\n  constructor({\n    message = 'The call bundle is too large for the Wallet to process.',\n  }: { message?: string | undefined } = {}) {\n    super(5740, message)\n  }\n}\n\n/** The Wallet can support atomicity after an upgrade, but the user rejected the upgrade. */\nexport class AtomicReadyWalletRejectedUpgradeError extends ProviderRpcError {\n  static readonly code = 5750\n  override readonly code = 5750\n  override readonly name = 'Provider.AtomicReadyWalletRejectedUpgradeError'\n\n  constructor({\n    message = 'The Wallet can support atomicity after an upgrade, but the user rejected the upgrade.',\n  }: { message?: string | undefined } = {}) {\n    super(5750, message)\n  }\n}\n\n/** The wallet does not support atomic execution but the request requires it. */\nexport class AtomicityNotSupportedError extends ProviderRpcError {\n  static readonly code = 5760\n  override readonly code = 5760\n  override readonly name = 'Provider.AtomicityNotSupportedError'\n\n  constructor({\n    message = 'The wallet does not support atomic execution but the request requires it.',\n  }: { message?: string | undefined } = {}) {\n    super(5760, message)\n  }\n}\n\n/**\n * Creates an EIP-1193 flavored event emitter to be injected onto a Provider.\n *\n * @example\n * ```ts twoslash\n * // @noErrors\n * import { Provider, RpcRequest, RpcResponse } from 'ox' // [!code focus]\n *\n * // 1. Instantiate a Provider Emitter. // [!code focus]\n * const emitter = Provider.createEmitter() // [!code focus]\n *\n * const store = RpcRequest.createStore()\n *\n * const provider = Provider.from({\n *   // 2. Pass the Emitter to the Provider. // [!code focus]\n *   ...emitter, // [!code focus]\n *   async request(args) {\n *     return await fetch('https://1.rpc.thirdweb.com', {\n *       body: JSON.stringify(store.prepare(args)),\n *       method: 'POST',\n *       headers: {\n *         'Content-Type': 'application/json',\n *       },\n *     })\n *       .then((res) => res.json())\n *       .then(RpcResponse.parse)\n *   },\n * })\n *\n * // 3. Emit Provider Events. // [!code focus]\n * emitter.emit('accountsChanged', ['0x...']) // [!code focus]\n * ```\n *\n * @returns An event emitter.\n */\nexport function createEmitter(): Emitter {\n  const emitter = new EventEmitter<EventMap>()\n\n  return {\n    get eventNames() {\n      return emitter.eventNames.bind(emitter)\n    },\n    get listenerCount() {\n      return emitter.listenerCount.bind(emitter)\n    },\n    get listeners() {\n      return emitter.listeners.bind(emitter)\n    },\n    addListener: emitter.addListener.bind(emitter),\n    emit: emitter.emit.bind(emitter),\n    off: emitter.off.bind(emitter),\n    on: emitter.on.bind(emitter),\n    once: emitter.once.bind(emitter),\n    removeAllListeners: emitter.removeAllListeners.bind(emitter),\n    removeListener: emitter.removeListener.bind(emitter),\n  }\n}\n\nexport declare namespace createEmitter {\n  type ErrorType = Errors.GlobalErrorType\n}\n\n/**\n * Instantiates an [EIP-1193](https://eips.ethereum.org/EIPS/eip-1193) {@link ox#Provider.Provider}\n * from an arbitrary [EIP-1193 Provider](https://eips.ethereum.org/EIPS/eip-1193) interface.\n *\n * @example\n * ### Instantiating with RPC Transport\n *\n * Ox's {@link ox#RpcTransport} is EIP-1193 compliant, and can be used to instantiate an EIP-1193 Provider. This means you can use any HTTP RPC endpoint as an EIP-1193 Provider.\n *\n * ```ts twoslash\n * import { Provider, RpcTransport } from 'ox'\n *\n * const transport = RpcTransport.fromHttp('https://1.rpc.thirdweb.com')\n * const provider = Provider.from(transport)\n * ```\n *\n * @example\n * ### Instantiating with External Providers\n *\n * The example below demonstrates how we can instantiate a typed EIP-1193 Provider from an\n * external EIP-1193 Provider like `window.ethereum`.\n *\n * ```ts twoslash\n * import 'ox/window'\n * import { Provider } from 'ox'\n *\n * const provider = Provider.from(window.ethereum)\n *\n * const blockNumber = await provider.request({ method: 'eth_blockNumber' })\n * ```\n *\n * :::tip\n *\n * There are also libraries that distribute EIP-1193 Provider objects that you can use with `Provider.from`:\n *\n * - [`@walletconnect/ethereum-provider`](https://www.npmjs.com/package/\\@walletconnect/ethereum-provider)\n *\n * - [`@coinbase/wallet-sdk`](https://www.npmjs.com/package/\\@coinbase/wallet-sdk)\n *\n * - [`@metamask/detect-provider`](https://www.npmjs.com/package/\\@metamask/detect-provider)\n *\n * - [`@safe-global/safe-apps-provider`](https://github.com/safe-global/safe-apps-sdk/tree/main/packages/safe-apps-provider)\n *\n * - [`mipd`](https://github.com/wevm/mipd): EIP-6963 Multi Injected Providers\n *\n * :::\n *\n * @example\n * ### Instantiating a Custom Provider\n *\n * The example below demonstrates how we can instantiate a typed EIP-1193 Provider from a\n * HTTP `fetch` JSON-RPC request. You can use this pattern to integrate with any asynchronous JSON-RPC\n * transport, including WebSockets and IPC.\n *\n * ```ts twoslash\n * // @noErrors\n * import { Provider, RpcRequest, RpcResponse } from 'ox'\n *\n * const store = RpcRequest.createStore()\n *\n * const provider = Provider.from({\n *   async request(args) {\n *     return await fetch('https://1.rpc.thirdweb.com', {\n *       body: JSON.stringify(store.prepare(args)),\n *       method: 'POST',\n *       headers: {\n *         'Content-Type': 'application/json',\n *       },\n *     })\n *       .then((res) => res.json())\n *       .then(RpcResponse.parse)\n *   },\n * })\n *\n * const blockNumber = await provider.request({ method: 'eth_blockNumber' })\n * ```\n *\n * @example\n * ### Type-safe Custom Schemas\n *\n * It is possible to define your own type-safe schema by using the {@link ox#RpcSchema.(from:function)} type.\n *\n * ```ts twoslash\n * // @noErrors\n * import 'ox/window'\n * import { Provider, RpcSchema } from 'ox'\n *\n * const schema = RpcSchema.from<\n *   | RpcSchema.Default\n *   | {\n *       Request: {\n *         method: 'abe_foo',\n *         params: [id: number],\n *       }\n *       ReturnType: string\n *     }\n *   | {\n *       Request: {\n *         method: 'abe_bar',\n *         params: [id: string],\n *       }\n *       ReturnType: string\n *     }\n * >()\n *\n * const provider = Provider.from(window.ethereum, { schema })\n *\n * const blockNumber = await provider.request({ method: 'e' })\n * //                                                    ^|\n *\n *\n *\n *\n *\n * ```\n *\n * @example\n * ### Instantiating a Provider with Events\n *\n * The example below demonstrates how to instantiate a Provider with your own EIP-1193 flavored event emitter.\n *\n * This example is useful for Wallets that distribute an EIP-1193 Provider (e.g. webpage injection via `window.ethereum`).\n *\n * ```ts twoslash\n * // @noErrors\n * import { Provider, RpcRequest, RpcResponse } from 'ox'\n *\n * // 1. Instantiate a Provider Emitter.\n * const emitter = Provider.createEmitter() // [!code ++]\n *\n * const store = RpcRequest.createStore()\n *\n * const provider = Provider.from({\n *   // 2. Pass the Emitter to the Provider.\n *   ...emitter, // [!code ++]\n *   async request(args) {\n *     return await fetch('https://1.rpc.thirdweb.com', {\n *       body: JSON.stringify(store.prepare(args)),\n *       method: 'POST',\n *       headers: {\n *         'Content-Type': 'application/json',\n *       },\n *     })\n *       .then((res) => res.json())\n *       .then(RpcResponse.parse)\n *   },\n * })\n *\n * // 3. Emit Provider Events.\n * emitter.emit('accountsChanged', ['0x...']) // [!code ++]\n * ```\n *\n * @param provider - The EIP-1193 provider to convert.\n * @returns An typed EIP-1193 Provider.\n */\nexport function from<\n  const provider extends Provider | unknown,\n  options extends Options | undefined = undefined,\n>(\n  provider: provider | Provider<{ schema: RpcSchema.Generic }>,\n  options?: options | Options,\n): Provider<options>\n// eslint-disable-next-line jsdoc/require-jsdoc\nexport function from(provider: any, options: Options = {}): Provider<Options> {\n  const { includeEvents = true } = options\n  if (!provider) throw new IsUndefinedError()\n  return {\n    ...(includeEvents\n      ? {\n          on: provider.on?.bind(provider),\n          removeListener: provider.removeListener?.bind(provider),\n        }\n      : {}),\n    async request(args) {\n      try {\n        const result = await provider.request(args)\n        if (\n          result &&\n          typeof result === 'object' &&\n          'jsonrpc' in (result as { jsonrpc?: unknown })\n        )\n          return RpcResponse.parse(result) as never\n        return result\n      } catch (error) {\n        throw parseError(error)\n      }\n    },\n  }\n}\n\nexport declare namespace from {\n  type ErrorType = IsUndefinedError | Errors.GlobalErrorType\n}\n\n/**\n * Parses an error into a Provider error instance.\n *\n * @example\n * ```ts twoslash\n * import { Provider } from 'ox'\n *\n * const error = Provider.parseError({ code: 4200, message: 'foo' })\n *\n * error\n * // ^?\n *\n * ```\n *\n * @param error - The error object to parse.\n * @returns An error instance.\n */\nexport function parseError<\n  const error extends RpcResponse.ErrorObject | Error | unknown,\n>(\n  error: error | Error | RpcResponse.ErrorObject,\n): parseError.ReturnType<error> {\n  const error_ = RpcResponse.parseError(error)\n  if (error_ instanceof RpcResponse.InternalError) {\n    if (!error_.data) return error_ as never\n\n    const { code } = error_.data as RpcResponse.ErrorObject\n    if (code === DisconnectedError.code)\n      return new DisconnectedError(error_) as never\n    if (code === ChainDisconnectedError.code)\n      return new ChainDisconnectedError(error_) as never\n    if (code === UserRejectedRequestError.code)\n      return new UserRejectedRequestError(error_) as never\n    if (code === UnauthorizedError.code)\n      return new UnauthorizedError(error_) as never\n    if (code === UnsupportedMethodError.code)\n      return new UnsupportedMethodError(error_) as never\n    if (code === SwitchChainError.code)\n      return new SwitchChainError(error_) as never\n    if (code === AtomicReadyWalletRejectedUpgradeError.code)\n      return new AtomicReadyWalletRejectedUpgradeError(error_) as never\n    if (code === AtomicityNotSupportedError.code)\n      return new AtomicityNotSupportedError(error_) as never\n    if (code === BundleTooLargeError.code)\n      return new BundleTooLargeError(error_) as never\n    if (code === UnknownBundleIdError.code)\n      return new UnknownBundleIdError(error_) as never\n    if (code === DuplicateIdError.code)\n      return new DuplicateIdError(error_) as never\n    if (code === UnsupportedChainIdError.code)\n      return new UnsupportedChainIdError(error_) as never\n    if (code === UnsupportedNonOptionalCapabilityError.code)\n      return new UnsupportedNonOptionalCapabilityError(error_) as never\n  }\n  return error_ as never\n}\n\nexport declare namespace parseError {\n  type ReturnType<\n    errorObject extends RpcResponse.ErrorObject | unknown,\n    //\n    error = errorObject extends RpcResponse.ErrorObject\n      ?\n          | (errorObject['code'] extends DisconnectedError['code']\n              ? DisconnectedError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? DisconnectedError\n              : never)\n          | (errorObject['code'] extends ChainDisconnectedError['code']\n              ? ChainDisconnectedError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? ChainDisconnectedError\n              : never)\n          | (errorObject['code'] extends UserRejectedRequestError['code']\n              ? UserRejectedRequestError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? UserRejectedRequestError\n              : never)\n          | (errorObject['code'] extends UnauthorizedError['code']\n              ? UnauthorizedError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? UnauthorizedError\n              : never)\n          | (errorObject['code'] extends UnsupportedMethodError['code']\n              ? UnsupportedMethodError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? UnsupportedMethodError\n              : never)\n          | (errorObject['code'] extends SwitchChainError['code']\n              ? SwitchChainError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? SwitchChainError\n              : never)\n          | (errorObject['code'] extends AtomicReadyWalletRejectedUpgradeError['code']\n              ? AtomicReadyWalletRejectedUpgradeError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? AtomicReadyWalletRejectedUpgradeError\n              : never)\n          | (errorObject['code'] extends AtomicityNotSupportedError['code']\n              ? AtomicityNotSupportedError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? AtomicityNotSupportedError\n              : never)\n          | (errorObject['code'] extends BundleTooLargeError['code']\n              ? BundleTooLargeError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? BundleTooLargeError\n              : never)\n          | (errorObject['code'] extends UnknownBundleIdError['code']\n              ? UnknownBundleIdError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? UnknownBundleIdError\n              : never)\n          | (errorObject['code'] extends DuplicateIdError['code']\n              ? DuplicateIdError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? DuplicateIdError\n              : never)\n          | (errorObject['code'] extends UnsupportedChainIdError['code']\n              ? UnsupportedChainIdError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? UnsupportedChainIdError\n              : never)\n          | (errorObject['code'] extends UnsupportedNonOptionalCapabilityError['code']\n              ? UnsupportedNonOptionalCapabilityError\n              : never)\n          | (IsNarrowable<errorObject['code'], number> extends false\n              ? UnsupportedNonOptionalCapabilityError\n              : never)\n      : RpcResponse.parseError.ReturnType<RpcResponse.ErrorObject>,\n  > = IsNever<error> extends true\n    ? RpcResponse.parseError.ReturnType<errorObject>\n    : error\n}\n\n/** Thrown when the provider is undefined. */\nexport class IsUndefinedError extends Errors.BaseError {\n  override readonly name = 'Provider.IsUndefinedError'\n\n  constructor() {\n    super('`provider` is undefined.')\n  }\n}\n"],"mappings":";AAAA,SAASA,YAAY,QAAQ,eAAe;AAE5C,OAAO,KAAKC,MAAM,MAAM,aAAa;AAGrC,OAAO,KAAKC,WAAW,MAAM,kBAAkB;AAiE/C,OAAM,MAAOC,gBAAiB,SAAQC,KAAK;EAMzCC,YAAYC,IAAY,EAAEC,OAAe;IACvC,KAAK,CAACA,OAAO,CAAC;IANPC,MAAA,CAAAC,cAAA;;;;aAAO;;IAEhBD,MAAA,CAAAC,cAAA;;;;;;IACAD,MAAA,CAAAC,cAAA;;;;;;IAIE,IAAI,CAACH,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACI,OAAO,GAAGH,OAAO;EACxB;;AAWF;AACA,OAAM,MAAOI,wBAAyB,SAAQR,gBAAgB;EAK5DE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAgC,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MACN,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAE,wBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOI,iBAAkB,SAAQZ,gBAAgB;EAKrDE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAA0E,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAChD,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAM,iBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,sBAAuB,SAAQb,gBAAgB;EAK1DE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAqD,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAC3B,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAO,sBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,iBAAkB,SAAQd,gBAAgB;EAKrDE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAA+C,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MACrB,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAQ,iBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,sBAAuB,SAAQf,gBAAgB;EAK1DE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAuD,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAC7B,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAS,sBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,gBAAiB,SAAQhB,gBAAgB;EAKpDE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAoD,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAC1B,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAU,gBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,qCAAsC,SAAQjB,gBAAgB;EAKzEE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAA4E,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAClD,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAW,qCAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,uBAAwB,SAAQlB,gBAAgB;EAK3DE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAsD,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAC5B,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAY,uBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,gBAAiB,SAAQnB,gBAAgB;EAKpDE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAmD,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MACzB,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAa,gBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,oBAAqB,SAAQpB,gBAAgB;EAKxDE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAqD,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAC3B,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAc,oBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,mBAAoB,SAAQrB,gBAAgB;EAKvDE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAyD,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAC/B,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAe,mBAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,qCAAsC,SAAQtB,gBAAgB;EAKzEE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAAuF,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAC7D,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAgB,qCAAA;;;;SAAO;EAAH;AAWtB;AACA,OAAM,MAAOC,0BAA2B,SAAQvB,gBAAgB;EAK9DE,YAAA,EAEwC;IAAA,IAF5B;MACVE,OAAO,GAAG;IAA2E,IAAAK,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MACjD,EAAE;IACtC,KAAK,CAAC,IAAI,EAAEL,OAAO,CAAC;IANJC,MAAA,CAAAC,cAAA;;;;aAAO;;IACPD,MAAA,CAAAC,cAAA;;;;aAAO;;EAMzB;;AARgBD,MAAA,CAAAC,cAAA,CAAAiB,0BAAA;;;;SAAO;EAAH;AAWtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAM,SAAUC,aAAaA,CAAA;EAC3B,MAAMC,OAAO,GAAG,IAAI5B,YAAY,EAAY;EAE5C,OAAO;IACL,IAAI6B,UAAUA,CAAA;MACZ,OAAOD,OAAO,CAACC,UAAU,CAACC,IAAI,CAACF,OAAO,CAAC;IACzC,CAAC;IACD,IAAIG,aAAaA,CAAA;MACf,OAAOH,OAAO,CAACG,aAAa,CAACD,IAAI,CAACF,OAAO,CAAC;IAC5C,CAAC;IACD,IAAII,SAASA,CAAA;MACX,OAAOJ,OAAO,CAACI,SAAS,CAACF,IAAI,CAACF,OAAO,CAAC;IACxC,CAAC;IACDK,WAAW,EAAEL,OAAO,CAACK,WAAW,CAACH,IAAI,CAACF,OAAO,CAAC;IAC9CM,IAAI,EAAEN,OAAO,CAACM,IAAI,CAACJ,IAAI,CAACF,OAAO,CAAC;IAChCO,GAAG,EAAEP,OAAO,CAACO,GAAG,CAACL,IAAI,CAACF,OAAO,CAAC;IAC9BQ,EAAE,EAAER,OAAO,CAACQ,EAAE,CAACN,IAAI,CAACF,OAAO,CAAC;IAC5BS,IAAI,EAAET,OAAO,CAACS,IAAI,CAACP,IAAI,CAACF,OAAO,CAAC;IAChCU,kBAAkB,EAAEV,OAAO,CAACU,kBAAkB,CAACR,IAAI,CAACF,OAAO,CAAC;IAC5DW,cAAc,EAAEX,OAAO,CAACW,cAAc,CAACT,IAAI,CAACF,OAAO;GACpD;AACH;AAwKA;AACA,OAAM,SAAUY,IAAIA,CAACC,QAAa,EAAuB;EAAA,IAAAC,YAAA,EAAAC,qBAAA;EAAA,IAArBC,OAAA,GAAAhC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAmB,EAAE;EACvD,MAAM;IAAEiC,aAAa,GAAG;EAAI,CAAE,GAAGD,OAAO;EACxC,IAAI,CAACH,QAAQ,EAAE,MAAM,IAAIK,gBAAgB,EAAE;EAC3C,OAAAC,aAAA,CAAAA,aAAA,KACMF,aAAa,GACb;IACET,EAAE,GAAAM,YAAA,GAAED,QAAQ,CAACL,EAAE,cAAAM,YAAA,uBAAXA,YAAA,CAAaZ,IAAI,CAACW,QAAQ,CAAC;IAC/BF,cAAc,GAAAI,qBAAA,GAAEF,QAAQ,CAACF,cAAc,cAAAI,qBAAA,uBAAvBA,qBAAA,CAAyBb,IAAI,CAACW,QAAQ;GACvD,GACD,EAAE;IACN,MAAMO,OAAOA,CAACC,IAAI;MAChB,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMT,QAAQ,CAACO,OAAO,CAACC,IAAI,CAAC;QAC3C,IACEC,MAAM,IACN,OAAOA,MAAM,KAAK,QAAQ,IAC1B,SAAS,IAAKA,MAAgC,EAE9C,OAAOhD,WAAW,CAACiD,KAAK,CAACD,MAAM,CAAU;QAC3C,OAAOA,MAAM;MACf,CAAC,CAAC,OAAOE,KAAK,EAAE;QACd,MAAMC,UAAU,CAACD,KAAK,CAAC;MACzB;IACF;EAAC;AAEL;AAMA;;;;;;;;;;;;;;;;;AAiBA,OAAM,SAAUC,UAAUA,CAGxBD,KAA8C;EAE9C,MAAME,MAAM,GAAGpD,WAAW,CAACmD,UAAU,CAACD,KAAK,CAAC;EAC5C,IAAIE,MAAM,YAAYpD,WAAW,CAACqD,aAAa,EAAE;IAC/C,IAAI,CAACD,MAAM,CAACE,IAAI,EAAE,OAAOF,MAAe;IAExC,MAAM;MAAEhD;IAAI,CAAE,GAAGgD,MAAM,CAACE,IAA+B;IACvD,IAAIlD,IAAI,KAAKW,iBAAiB,CAACX,IAAI,EACjC,OAAO,IAAIW,iBAAiB,CAACqC,MAAM,CAAU;IAC/C,IAAIhD,IAAI,KAAKY,sBAAsB,CAACZ,IAAI,EACtC,OAAO,IAAIY,sBAAsB,CAACoC,MAAM,CAAU;IACpD,IAAIhD,IAAI,KAAKK,wBAAwB,CAACL,IAAI,EACxC,OAAO,IAAIK,wBAAwB,CAAC2C,MAAM,CAAU;IACtD,IAAIhD,IAAI,KAAKS,iBAAiB,CAACT,IAAI,EACjC,OAAO,IAAIS,iBAAiB,CAACuC,MAAM,CAAU;IAC/C,IAAIhD,IAAI,KAAKU,sBAAsB,CAACV,IAAI,EACtC,OAAO,IAAIU,sBAAsB,CAACsC,MAAM,CAAU;IACpD,IAAIhD,IAAI,KAAKa,gBAAgB,CAACb,IAAI,EAChC,OAAO,IAAIa,gBAAgB,CAACmC,MAAM,CAAU;IAC9C,IAAIhD,IAAI,KAAKmB,qCAAqC,CAACnB,IAAI,EACrD,OAAO,IAAImB,qCAAqC,CAAC6B,MAAM,CAAU;IACnE,IAAIhD,IAAI,KAAKoB,0BAA0B,CAACpB,IAAI,EAC1C,OAAO,IAAIoB,0BAA0B,CAAC4B,MAAM,CAAU;IACxD,IAAIhD,IAAI,KAAKkB,mBAAmB,CAAClB,IAAI,EACnC,OAAO,IAAIkB,mBAAmB,CAAC8B,MAAM,CAAU;IACjD,IAAIhD,IAAI,KAAKiB,oBAAoB,CAACjB,IAAI,EACpC,OAAO,IAAIiB,oBAAoB,CAAC+B,MAAM,CAAU;IAClD,IAAIhD,IAAI,KAAKgB,gBAAgB,CAAChB,IAAI,EAChC,OAAO,IAAIgB,gBAAgB,CAACgC,MAAM,CAAU;IAC9C,IAAIhD,IAAI,KAAKe,uBAAuB,CAACf,IAAI,EACvC,OAAO,IAAIe,uBAAuB,CAACiC,MAAM,CAAU;IACrD,IAAIhD,IAAI,KAAKc,qCAAqC,CAACd,IAAI,EACrD,OAAO,IAAIc,qCAAqC,CAACkC,MAAM,CAAU;EACrE;EACA,OAAOA,MAAe;AACxB;AA4FA;AACA,OAAM,MAAOR,gBAAiB,SAAQ7C,MAAM,CAACwD,SAAS;EAGpDpD,YAAA;IACE,KAAK,CAAC,0BAA0B,CAAC;IAHjBG,MAAA,CAAAC,cAAA;;;;aAAO;;EAIzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}