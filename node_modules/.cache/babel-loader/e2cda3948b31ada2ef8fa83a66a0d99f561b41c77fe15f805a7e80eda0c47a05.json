{"ast":null,"code":"import { ConstantsUtil as CommonConstantsUtil } from '@reown/appkit-common';\nimport { ChainController } from '../controllers/ChainController.js';\nimport { ConnectorControllerUtil } from './ConnectorControllerUtil.js';\nimport { ConstantsUtil } from './ConstantsUtil.js';\n/**\n * Returns the array of chains to disconnect from the connector with the given namespace.\n * If no namespace is provided, it returns all chains.\n * @param namespace - The namespace of the connector to disconnect from.\n * @returns An array of chains to disconnect.\n */\nexport function getChainsToDisconnect(namespace) {\n  const namespaces = Array.from(ChainController.state.chains.keys());\n  let chains = [];\n  if (namespace) {\n    chains.push([namespace, ChainController.state.chains.get(namespace)]);\n    if (ConnectorControllerUtil.checkNamespaceConnectorId(namespace, CommonConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n      namespaces.forEach(ns => {\n        if (ns !== namespace && ConnectorControllerUtil.checkNamespaceConnectorId(ns, CommonConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n          chains.push([ns, ChainController.state.chains.get(ns)]);\n        }\n      });\n    } else if (ConnectorControllerUtil.checkNamespaceConnectorId(namespace, CommonConstantsUtil.CONNECTOR_ID.AUTH)) {\n      namespaces.forEach(ns => {\n        if (ns !== namespace && ConnectorControllerUtil.checkNamespaceConnectorId(ns, CommonConstantsUtil.CONNECTOR_ID.AUTH)) {\n          chains.push([ns, ChainController.state.chains.get(ns)]);\n        }\n      });\n    }\n  } else {\n    chains = Array.from(ChainController.state.chains.entries());\n  }\n  return chains;\n}\n/**\n * Get the active network token address\n * @returns The active network token address\n */\nexport function getActiveNetworkTokenAddress() {\n  var _ChainController$stat, _ChainController$stat2;\n  const namespace = ((_ChainController$stat = ChainController.state.activeCaipNetwork) === null || _ChainController$stat === void 0 ? void 0 : _ChainController$stat.chainNamespace) || 'eip155';\n  const chainId = ((_ChainController$stat2 = ChainController.state.activeCaipNetwork) === null || _ChainController$stat2 === void 0 ? void 0 : _ChainController$stat2.id) || 1;\n  const address = ConstantsUtil.NATIVE_TOKEN_ADDRESS[namespace];\n  return \"\".concat(namespace, \":\").concat(chainId, \":\").concat(address);\n}\n/**\n * Get the preferred account type for a given namespace\n * @param namespace - The namespace of the account\n * @returns The preferred account type\n */\nexport function getPreferredAccountType(namespace) {\n  var _ChainController$getA;\n  const preferredAccountType = (_ChainController$getA = ChainController.getAccountData(namespace)) === null || _ChainController$getA === void 0 ? void 0 : _ChainController$getA.preferredAccountType;\n  return preferredAccountType;\n}\n/**\n * Get the active CAIP network for a given chain namespace, if no namespace is provided, it returns the active CAIP network\n * @param chainNamespace - The chain namespace to get the active CAIP network for\n * @returns The active CAIP network\n */\nexport function getActiveCaipNetwork(chainNamespace) {\n  if (chainNamespace) {\n    var _ChainController$stat3;\n    return (_ChainController$stat3 = ChainController.state.chains.get(chainNamespace)) === null || _ChainController$stat3 === void 0 || (_ChainController$stat3 = _ChainController$stat3.networkState) === null || _ChainController$stat3 === void 0 ? void 0 : _ChainController$stat3.caipNetwork;\n  }\n  return ChainController.state.activeCaipNetwork;\n}","map":{"version":3,"names":["ConstantsUtil","CommonConstantsUtil","ChainController","ConnectorControllerUtil","getChainsToDisconnect","namespace","namespaces","Array","from","state","chains","keys","push","get","checkNamespaceConnectorId","CONNECTOR_ID","WALLET_CONNECT","forEach","ns","AUTH","entries","getActiveNetworkTokenAddress","_ChainController$stat","_ChainController$stat2","activeCaipNetwork","chainNamespace","chainId","id","address","NATIVE_TOKEN_ADDRESS","concat","getPreferredAccountType","_ChainController$getA","preferredAccountType","getAccountData","getActiveCaipNetwork","_ChainController$stat3","networkState","caipNetwork"],"sources":["../../../../src/utils/ChainControllerUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}