{"ast":null,"code":"export const ErrorUtil = {\n  RPC_ERROR_CODE: {\n    USER_REJECTED_REQUEST: 4001\n  },\n  PROVIDER_RPC_ERROR_NAME: {\n    PROVIDER_RPC: 'ProviderRpcError',\n    USER_REJECTED_REQUEST: 'UserRejectedRequestError'\n  },\n  isRpcProviderError(error) {\n    try {\n      if (typeof error === 'object' && error !== null) {\n        const objErr = error;\n        const hasMessage = typeof objErr['message'] === 'string';\n        const hasCode = typeof objErr['code'] === 'number';\n        return hasMessage && hasCode;\n      }\n      return false;\n    } catch (_unused) {\n      return false;\n    }\n  },\n  isUserRejectedMessage(message) {\n    return message.toLowerCase().includes('user rejected') || message.toLowerCase().includes('user cancelled') || message.toLowerCase().includes('user canceled');\n  },\n  isUserRejectedRequestError(error) {\n    if (ErrorUtil.isRpcProviderError(error)) {\n      const isUserRejectedCode = error.code === ErrorUtil.RPC_ERROR_CODE.USER_REJECTED_REQUEST;\n      return isUserRejectedCode || ErrorUtil.isUserRejectedMessage(error.message);\n    }\n    if (error instanceof Error) {\n      return ErrorUtil.isUserRejectedMessage(error.message);\n    }\n    return false;\n  }\n};\nexport class ProviderRpcError extends Error {\n  constructor(cause, options) {\n    super(options.message, {\n      cause\n    });\n    this.name = ErrorUtil.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC;\n    this.code = options.code;\n  }\n}\nexport class UserRejectedRequestError extends ProviderRpcError {\n  constructor(cause) {\n    super(cause, {\n      code: ErrorUtil.RPC_ERROR_CODE.USER_REJECTED_REQUEST,\n      message: 'User rejected the request'\n    });\n    this.name = ErrorUtil.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST;\n  }\n}","map":{"version":3,"names":["ErrorUtil","RPC_ERROR_CODE","USER_REJECTED_REQUEST","PROVIDER_RPC_ERROR_NAME","PROVIDER_RPC","isRpcProviderError","error","objErr","hasMessage","hasCode","_unused","isUserRejectedMessage","message","toLowerCase","includes","isUserRejectedRequestError","isUserRejectedCode","code","Error","ProviderRpcError","constructor","cause","options","name","UserRejectedRequestError"],"sources":["../../../../src/utils/ErrorUtil.ts"],"sourcesContent":[null],"mappings":"AAoBA,OAAO,MAAMA,SAAS,GAAG;EACvBC,cAAc,EAAE;IACdC,qBAAqB,EAAE;GACf;EACVC,uBAAuB,EAAE;IACvBC,YAAY,EAAE,kBAAkB;IAChCF,qBAAqB,EAAE;GACxB;EACDG,kBAAkBA,CAACC,KAAc;IAC/B,IAAI;MACF,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,EAAE;QAC/C,MAAMC,MAAM,GAAGD,KAAgC;QAE/C,MAAME,UAAU,GAAG,OAAOD,MAAM,CAAC,SAAS,CAAC,KAAK,QAAQ;QACxD,MAAME,OAAO,GAAG,OAAOF,MAAM,CAAC,MAAM,CAAC,KAAK,QAAQ;QAElD,OAAOC,UAAU,IAAIC,OAAO;MAC9B;MAEA,OAAO,KAAK;IACd,CAAC,CAAC,OAAAC,OAAA,EAAM;MACN,OAAO,KAAK;IACd;EACF,CAAC;EACDC,qBAAqBA,CAACC,OAAe;IACnC,OACEA,OAAO,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,eAAe,CAAC,IAC/CF,OAAO,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,gBAAgB,CAAC,IAChDF,OAAO,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,eAAe,CAAC;EAEnD,CAAC;EACDC,0BAA0BA,CAACT,KAAc;IACvC,IAAIN,SAAS,CAACK,kBAAkB,CAACC,KAAK,CAAC,EAAE;MACvC,MAAMU,kBAAkB,GAAGV,KAAK,CAACW,IAAI,KAAKjB,SAAS,CAACC,cAAc,CAACC,qBAAqB;MAExF,OAAOc,kBAAkB,IAAIhB,SAAS,CAACW,qBAAqB,CAACL,KAAK,CAACM,OAAO,CAAC;IAC7E;IAEA,IAAIN,KAAK,YAAYY,KAAK,EAAE;MAC1B,OAAOlB,SAAS,CAACW,qBAAqB,CAACL,KAAK,CAACM,OAAO,CAAC;IACvD;IAEA,OAAO,KAAK;EACd;CACD;AAGD,OAAM,MAAOO,gBAAiB,SAAQD,KAAK;EAIzCE,YAAYC,KAAc,EAAEC,OAAyB;IACnD,KAAK,CAACA,OAAO,CAACV,OAAO,EAAE;MAAES;IAAK,CAAE,CAAC;IAH1B,KAAAE,IAAI,GAAGvB,SAAS,CAACG,uBAAuB,CAACC,YAAY;IAI5D,IAAI,CAACa,IAAI,GAAGK,OAAO,CAACL,IAAI;EAC1B;;AAGF,OAAM,MAAOO,wBAAyB,SAAQL,gBAAgB;EAG5DC,YAAYC,KAAc;IACxB,KAAK,CAACA,KAAK,EAAE;MACXJ,IAAI,EAAEjB,SAAS,CAACC,cAAc,CAACC,qBAAqB;MACpDU,OAAO,EAAE;KACV,CAAC;IANK,KAAAW,IAAI,GAAGvB,SAAS,CAACG,uBAAuB,CAACD,qBAAqB;EAOvE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}