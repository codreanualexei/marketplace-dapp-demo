{"ast":null,"code":"import { ConstantsUtil as CommonConstants } from '@reown/appkit-common';\nimport { ConstantsUtil } from './ConstantsUtil.js';\nimport { StorageUtil } from './StorageUtil.js';\nexport const CoreHelperUtil = {\n  isMobile() {\n    if (this.isClient()) {\n      var _window, _window$matchMedia;\n      return Boolean(((_window = window) === null || _window === void 0 ? void 0 : _window.matchMedia) && typeof window.matchMedia === 'function' && ((_window$matchMedia = window.matchMedia('(pointer:coarse)')) === null || _window$matchMedia === void 0 ? void 0 : _window$matchMedia.matches) || /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent));\n    }\n    return false;\n  },\n  checkCaipNetwork(network) {\n    let networkName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    return network === null || network === void 0 ? void 0 : network.caipNetworkId.toLocaleLowerCase().includes(networkName.toLowerCase());\n  },\n  isAndroid() {\n    var _window2;\n    if (!this.isMobile()) {\n      return false;\n    }\n    const ua = (_window2 = window) === null || _window2 === void 0 ? void 0 : _window2.navigator.userAgent.toLowerCase();\n    return CoreHelperUtil.isMobile() && ua.includes('android');\n  },\n  isIos() {\n    var _window3;\n    if (!this.isMobile()) {\n      return false;\n    }\n    const ua = (_window3 = window) === null || _window3 === void 0 ? void 0 : _window3.navigator.userAgent.toLowerCase();\n    return ua.includes('iphone') || ua.includes('ipad');\n  },\n  isSafari() {\n    var _window4;\n    if (!this.isClient()) {\n      return false;\n    }\n    const ua = (_window4 = window) === null || _window4 === void 0 ? void 0 : _window4.navigator.userAgent.toLowerCase();\n    return ua.includes('safari');\n  },\n  isClient() {\n    return typeof window !== 'undefined';\n  },\n  isPairingExpired(expiry) {\n    return expiry ? expiry - Date.now() <= ConstantsUtil.TEN_SEC_MS : true;\n  },\n  isAllowedRetry(lastRetry) {\n    let differenceMs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ConstantsUtil.ONE_SEC_MS;\n    return Date.now() - lastRetry >= differenceMs;\n  },\n  copyToClopboard(text) {\n    navigator.clipboard.writeText(text);\n  },\n  isIframe() {\n    try {\n      var _window5, _window6;\n      return ((_window5 = window) === null || _window5 === void 0 ? void 0 : _window5.self) !== ((_window6 = window) === null || _window6 === void 0 ? void 0 : _window6.top);\n    } catch (e) {\n      return false;\n    }\n  },\n  isSafeApp() {\n    if (CoreHelperUtil.isClient() && window.self !== window.top) {\n      try {\n        var _window7;\n        const ancestor = (_window7 = window) === null || _window7 === void 0 || (_window7 = _window7.location) === null || _window7 === void 0 || (_window7 = _window7.ancestorOrigins) === null || _window7 === void 0 ? void 0 : _window7[0];\n        const safeAppUrl = 'https://app.safe.global';\n        if (ancestor) {\n          const ancestorUrl = new URL(ancestor);\n          const safeUrl = new URL(safeAppUrl);\n          return ancestorUrl.hostname === safeUrl.hostname;\n        }\n      } catch (_unused) {\n        return false;\n      }\n    }\n    return false;\n  },\n  getPairingExpiry() {\n    return Date.now() + ConstantsUtil.FOUR_MINUTES_MS;\n  },\n  getNetworkId(caipAddress) {\n    return caipAddress === null || caipAddress === void 0 ? void 0 : caipAddress.split(':')[1];\n  },\n  getPlainAddress(caipAddress) {\n    return caipAddress === null || caipAddress === void 0 ? void 0 : caipAddress.split(':')[2];\n  },\n  async wait(milliseconds) {\n    return new Promise(resolve => {\n      setTimeout(resolve, milliseconds);\n    });\n  },\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  debounce(func) {\n    let timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n    let timer = undefined;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      function next() {\n        func(...args);\n      }\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(next, timeout);\n    };\n  },\n  isHttpUrl(url) {\n    return url.startsWith('http://') || url.startsWith('https://');\n  },\n  formatNativeUrl(appUrl, wcUri) {\n    var _safeUniversalLink;\n    let universalLink = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    if (CoreHelperUtil.isHttpUrl(appUrl)) {\n      return this.formatUniversalUrl(appUrl, wcUri);\n    }\n    let safeAppUrl = appUrl;\n    let safeUniversalLink = universalLink;\n    if (safeAppUrl) {\n      if (!safeAppUrl.includes('://')) {\n        safeAppUrl = appUrl.replaceAll('/', '').replaceAll(':', '');\n        safeAppUrl = \"\".concat(safeAppUrl, \"://\");\n      }\n      if (!safeAppUrl.endsWith('/')) {\n        safeAppUrl = \"\".concat(safeAppUrl, \"/\");\n      }\n    }\n    if (safeUniversalLink && !((_safeUniversalLink = safeUniversalLink) !== null && _safeUniversalLink !== void 0 && _safeUniversalLink.endsWith('/'))) {\n      safeUniversalLink = \"\".concat(safeUniversalLink, \"/\");\n    }\n    // Android deeplinks in tg context require the uri to be encoded twice\n    if (this.isTelegram() && this.isAndroid()) {\n      // eslint-disable-next-line no-param-reassign\n      wcUri = encodeURIComponent(wcUri);\n    }\n    const encodedWcUrl = encodeURIComponent(wcUri);\n    return {\n      redirect: \"\".concat(safeAppUrl, \"wc?uri=\").concat(encodedWcUrl),\n      redirectUniversalLink: safeUniversalLink ? \"\".concat(safeUniversalLink, \"wc?uri=\").concat(encodedWcUrl) : undefined,\n      href: safeAppUrl\n    };\n  },\n  formatUniversalUrl(appUrl, wcUri) {\n    if (!CoreHelperUtil.isHttpUrl(appUrl)) {\n      return this.formatNativeUrl(appUrl, wcUri);\n    }\n    let safeAppUrl = appUrl;\n    if (!safeAppUrl.endsWith('/')) {\n      safeAppUrl = \"\".concat(safeAppUrl, \"/\");\n    }\n    const encodedWcUrl = encodeURIComponent(wcUri);\n    return {\n      redirect: \"\".concat(safeAppUrl, \"wc?uri=\").concat(encodedWcUrl),\n      href: safeAppUrl\n    };\n  },\n  getOpenTargetForPlatform(target) {\n    if (target === 'popupWindow') {\n      return target;\n    }\n    // Only '_blank' deeplinks work in Telegram context\n    if (this.isTelegram()) {\n      // But for social login, we need to load the page in the same context\n      if (StorageUtil.getTelegramSocialProvider()) {\n        return '_top';\n      }\n      return '_blank';\n    }\n    return target;\n  },\n  openHref(href, target, features) {\n    var _window8;\n    (_window8 = window) === null || _window8 === void 0 || _window8.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');\n  },\n  returnOpenHref(href, target, features) {\n    var _window9;\n    return (_window9 = window) === null || _window9 === void 0 ? void 0 : _window9.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');\n  },\n  isTelegram() {\n    return typeof window !== 'undefined' && (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.TelegramWebviewProxy) ||\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.Telegram) ||\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.TelegramWebviewProxyProto));\n  },\n  isPWA() {\n    var _window0, _window$matchMedia2, _window1;\n    if (typeof window === 'undefined') {\n      return false;\n    }\n    const isStandaloneDisplayMode = (_window0 = window) !== null && _window0 !== void 0 && _window0.matchMedia && typeof window.matchMedia === 'function' ? (_window$matchMedia2 = window.matchMedia('(display-mode: standalone)')) === null || _window$matchMedia2 === void 0 ? void 0 : _window$matchMedia2.matches : false;\n    const isIOSStandalone = (_window1 = window) === null || _window1 === void 0 || (_window1 = _window1.navigator) === null || _window1 === void 0 ? void 0 : _window1.standalone;\n    return Boolean(isStandaloneDisplayMode || isIOSStandalone);\n  },\n  async preloadImage(src) {\n    const imagePromise = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.onload = resolve;\n      image.onerror = reject;\n      image.crossOrigin = 'anonymous';\n      image.src = src;\n    });\n    return Promise.race([imagePromise, CoreHelperUtil.wait(2000)]);\n  },\n  parseBalance(balance, symbol) {\n    let formattedBalance = '0.000';\n    if (typeof balance === 'string') {\n      const number = Number(balance);\n      if (!isNaN(number)) {\n        const formattedValue = (Math.floor(number * 1000) / 1000).toFixed(3);\n        if (formattedValue) {\n          formattedBalance = formattedValue;\n        }\n      }\n    }\n    const [valueString, decimalsString] = formattedBalance.split('.');\n    const value = valueString || '0';\n    const decimals = decimalsString || '000';\n    const formattedText = \"\".concat(value, \".\").concat(decimals).concat(symbol ? \" \".concat(symbol) : '');\n    return {\n      formattedText,\n      value,\n      decimals,\n      symbol\n    };\n  },\n  getApiUrl() {\n    return CommonConstants.W3M_API_URL;\n  },\n  getBlockchainApiUrl() {\n    return CommonConstants.BLOCKCHAIN_API_RPC_URL;\n  },\n  getAnalyticsUrl() {\n    return CommonConstants.PULSE_API_URL;\n  },\n  getUUID() {\n    var _crypto;\n    if ((_crypto = crypto) !== null && _crypto !== void 0 && _crypto.randomUUID) {\n      return crypto.randomUUID();\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n      const r = Math.random() * 16 | 0;\n      const v = c === 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  },\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  parseError(error) {\n    var _error$issues;\n    if (typeof error === 'string') {\n      return error;\n    } else if (typeof (error === null || error === void 0 || (_error$issues = error.issues) === null || _error$issues === void 0 || (_error$issues = _error$issues[0]) === null || _error$issues === void 0 ? void 0 : _error$issues.message) === 'string') {\n      return error.issues[0].message;\n    } else if (error instanceof Error) {\n      return error.message;\n    }\n    return 'Unknown error';\n  },\n  sortRequestedNetworks(approvedIds) {\n    let requestedNetworks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    const approvedIndexMap = {};\n    if (requestedNetworks && approvedIds) {\n      approvedIds.forEach((id, index) => {\n        approvedIndexMap[id] = index;\n      });\n      requestedNetworks.sort((a, b) => {\n        const indexA = approvedIndexMap[a.id];\n        const indexB = approvedIndexMap[b.id];\n        if (indexA !== undefined && indexB !== undefined) {\n          return indexA - indexB;\n        } else if (indexA !== undefined) {\n          return -1;\n        } else if (indexB !== undefined) {\n          return 1;\n        }\n        return 0;\n      });\n    }\n    return requestedNetworks;\n  },\n  calculateBalance(array) {\n    let sum = 0;\n    for (const item of array) {\n      var _item$value;\n      sum += (_item$value = item.value) !== null && _item$value !== void 0 ? _item$value : 0;\n    }\n    return sum;\n  },\n  formatTokenBalance(number) {\n    const roundedNumber = number.toFixed(2);\n    const [dollars, pennies] = roundedNumber.split('.');\n    return {\n      dollars,\n      pennies\n    };\n  },\n  isAddress(address) {\n    let chain = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'eip155';\n    switch (chain) {\n      case 'eip155':\n        if (!/^(?:0x)?[0-9a-f]{40}$/i.test(address)) {\n          return false;\n        } else if (/^(?:0x)?[0-9a-f]{40}$/i.test(address) || /^(?:0x)?[0-9A-F]{40}$/i.test(address)) {\n          return true;\n        }\n        return false;\n      case 'solana':\n        return /[1-9A-HJ-NP-Za-km-z\\u017F\\u212A]{32,44}$/i.test(address);\n      default:\n        return false;\n    }\n  },\n  uniqueBy(arr, key) {\n    const set = new Set();\n    return arr.filter(item => {\n      const keyValue = item[key];\n      if (set.has(keyValue)) {\n        return false;\n      }\n      set.add(keyValue);\n      return true;\n    });\n  },\n  generateSdkVersion(adapters, platform, version) {\n    const hasNoAdapters = adapters.length === 0;\n    const adapterNames = hasNoAdapters ? ConstantsUtil.ADAPTER_TYPES.UNIVERSAL : adapters.map(adapter => adapter.adapterType).join(',');\n    return \"\".concat(platform, \"-\").concat(adapterNames, \"-\").concat(version);\n  },\n  // eslint-disable-next-line max-params\n  createAccount(namespace, address, type, publicKey, path) {\n    return {\n      namespace,\n      address,\n      type,\n      publicKey,\n      path\n    };\n  },\n  isCaipAddress(address) {\n    if (typeof address !== 'string') {\n      return false;\n    }\n    const sections = address.split(':');\n    const namespace = sections[0];\n    return sections.filter(Boolean).length === 3 && namespace in CommonConstants.CHAIN_NAME_MAP;\n  },\n  getAccount(account) {\n    if (!account) {\n      return {\n        address: undefined,\n        chainId: undefined\n      };\n    }\n    if (typeof account === 'string') {\n      return {\n        address: account,\n        chainId: undefined\n      };\n    }\n    return {\n      address: account.address,\n      chainId: account.chainId\n    };\n  },\n  isMac() {\n    var _window10;\n    const ua = (_window10 = window) === null || _window10 === void 0 ? void 0 : _window10.navigator.userAgent.toLowerCase();\n    return ua.includes('macintosh') && !ua.includes('safari');\n  },\n  formatTelegramSocialLoginUrl(url) {\n    var _window11;\n    const valueToInject = \"--\".concat(encodeURIComponent((_window11 = window) === null || _window11 === void 0 ? void 0 : _window11.location.href));\n    const paramToInject = 'state=';\n    const parsedUrl = new URL(url);\n    if (parsedUrl.host === 'auth.magic.link') {\n      const providerParam = 'provider_authorization_url=';\n      const providerUrl = url.substring(url.indexOf(providerParam) + providerParam.length);\n      const resultUrl = this.injectIntoUrl(decodeURIComponent(providerUrl), paramToInject, valueToInject);\n      return url.replace(providerUrl, encodeURIComponent(resultUrl));\n    }\n    return this.injectIntoUrl(url, paramToInject, valueToInject);\n  },\n  injectIntoUrl(url, key, appendString) {\n    // Find the position of \"key\" e.g. \"state=\" in the URL\n    const keyIndex = url.indexOf(key);\n    if (keyIndex === -1) {\n      throw new Error(\"\".concat(key, \" parameter not found in the URL: \").concat(url));\n    }\n    // Find the position of the next \"&\" after \"key\"\n    const keyEndIndex = url.indexOf('&', keyIndex);\n    const keyLength = key.length;\n    // If there is no \"&\" after key, it means \"key\" is the last parameter\n    // eslint-disable-next-line no-negated-condition\n    const keyParamEnd = keyEndIndex !== -1 ? keyEndIndex : url.length;\n    // Extract the part of the URL before the key value\n    const beforeKeyValue = url.substring(0, keyIndex + keyLength);\n    // Extract the current key value\n    const currentKeyValue = url.substring(keyIndex + keyLength, keyParamEnd);\n    // Extract the part of the URL after the key value\n    const afterKeyValue = url.substring(keyEndIndex);\n    // Append the new string to the key value\n    const newKeyValue = currentKeyValue + appendString;\n    // Reconstruct the URL with the appended key value\n    const newUrl = beforeKeyValue + newKeyValue + afterKeyValue;\n    return newUrl;\n  }\n};","map":{"version":3,"names":["ConstantsUtil","CommonConstants","StorageUtil","CoreHelperUtil","isMobile","isClient","_window","_window$matchMedia","Boolean","window","matchMedia","matches","test","navigator","userAgent","checkCaipNetwork","network","networkName","arguments","length","undefined","caipNetworkId","toLocaleLowerCase","includes","toLowerCase","isAndroid","_window2","ua","isIos","_window3","isSafari","_window4","isPairingExpired","expiry","Date","now","TEN_SEC_MS","isAllowedRetry","lastRetry","differenceMs","ONE_SEC_MS","copyToClopboard","text","clipboard","writeText","isIframe","_window5","_window6","self","top","e","isSafeApp","_window7","ancestor","location","ancestorOrigins","safeAppUrl","ancestorUrl","URL","safeUrl","hostname","_unused","getPairingExpiry","FOUR_MINUTES_MS","getNetworkId","caipAddress","split","getPlainAddress","wait","milliseconds","Promise","resolve","setTimeout","debounce","func","timeout","timer","_len","args","Array","_key","next","clearTimeout","isHttpUrl","url","startsWith","formatNativeUrl","appUrl","wcUri","_safeUniversalLink","universalLink","formatUniversalUrl","safeUniversalLink","replaceAll","concat","endsWith","isTelegram","encodeURIComponent","encodedWcUrl","redirect","redirectUniversalLink","href","getOpenTargetForPlatform","target","getTelegramSocialProvider","openHref","features","_window8","open","returnOpenHref","_window9","TelegramWebviewProxy","Telegram","TelegramWebviewProxyProto","isPWA","_window0","_window$matchMedia2","_window1","isStandaloneDisplayMode","isIOSStandalone","standalone","preloadImage","src","imagePromise","reject","image","Image","onload","onerror","crossOrigin","race","parseBalance","balance","symbol","formattedBalance","number","Number","isNaN","formattedValue","Math","floor","toFixed","valueString","decimalsString","value","decimals","formattedText","getApiUrl","W3M_API_URL","getBlockchainApiUrl","BLOCKCHAIN_API_RPC_URL","getAnalyticsUrl","PULSE_API_URL","getUUID","_crypto","crypto","randomUUID","replace","c","r","random","v","toString","parseError","error","_error$issues","issues","message","Error","sortRequestedNetworks","approvedIds","requestedNetworks","approvedIndexMap","forEach","id","index","sort","a","b","indexA","indexB","calculateBalance","array","sum","item","_item$value","formatTokenBalance","roundedNumber","dollars","pennies","isAddress","address","chain","uniqueBy","arr","key","set","Set","filter","keyValue","has","add","generateSdkVersion","adapters","platform","version","hasNoAdapters","adapterNames","ADAPTER_TYPES","UNIVERSAL","map","adapter","adapterType","join","createAccount","namespace","type","publicKey","path","isCaipAddress","sections","CHAIN_NAME_MAP","getAccount","account","chainId","isMac","_window10","formatTelegramSocialLoginUrl","_window11","valueToInject","paramToInject","parsedUrl","host","providerParam","providerUrl","substring","indexOf","resultUrl","injectIntoUrl","decodeURIComponent","appendString","keyIndex","keyEndIndex","keyLength","keyParamEnd","beforeKeyValue","currentKeyValue","afterKeyValue","newKeyValue","newUrl"],"sources":["../../../../src/utils/CoreHelperUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}