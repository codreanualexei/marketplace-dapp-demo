{"ast":null,"code":"import _objectSpread from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as Hex from './Hex.js';\n/**\n * Converts a {@link ox#Filter.Rpc} to an {@link ox#Filter.Filter}.\n *\n * @example\n * ```ts twoslash\n * import { Filter } from 'ox'\n *\n * const filter = Filter.fromRpc({\n *   address: '0xd3cda913deb6f67967b99d671a681250403edf27',\n *   fromBlock: 'latest',\n *   toBlock: '0x010f2c',\n *   topics: [\n *     '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',\n *     null,\n *     '0x0000000000000000000000000c04d9e9278ec5e4d424476d3ebec70cb5d648d1',\n *   ],\n * })\n * // @log: {\n * // @log:   address: '0xd3cda913deb6f67967b99d671a681250403edf27',\n * // @log:   fromBlock: 'latest',\n * // @log:   toBlock: 69420n,\n * // @log:   topics: [\n * // @log:     '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',\n * // @log:     null,\n * // @log:     '0x0000000000000000000000000c04d9e9278ec5e4d424476d3ebec70cb5d648d1',\n * // @log:   ],\n * // @log: }\n * ```\n *\n * @param filter - The RPC filter to convert.\n * @returns An instantiated {@link ox#Filter.Filter}.\n */\nexport function fromRpc(filter) {\n  const {\n    fromBlock,\n    toBlock\n  } = filter;\n  return _objectSpread(_objectSpread(_objectSpread({}, filter), fromBlock && {\n    fromBlock: Hex.validate(fromBlock, {\n      strict: false\n    }) ? BigInt(fromBlock) : fromBlock\n  }), toBlock && {\n    toBlock: Hex.validate(toBlock, {\n      strict: false\n    }) ? BigInt(toBlock) : toBlock\n  });\n}\n/**\n * Converts a {@link ox#Filter.Filter} to a {@link ox#Filter.Rpc}.\n *\n * @example\n * ```ts twoslash\n * import { AbiEvent, Filter } from 'ox'\n *\n * const transfer = AbiEvent.from('event Transfer(address indexed, address indexed, uint256)')\n * const { topics } = AbiEvent.encode(transfer)\n *\n * const filter = Filter.toRpc({\n *   address: '0xfba3912ca04dd458c843e2ee08967fc04f3579c2',\n *   topics,\n * })\n * // @log: {\n * // @log:   address: '0xfba3912ca04dd458c843e2ee08967fc04f3579c2',\n * // @log:   topics: [\n * // @log:     '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',\n * // @log:   ],\n * // @log: }\n * ```\n *\n * @param filter - The filter to convert.\n * @returns An RPC filter.\n */\nexport function toRpc(filter) {\n  const {\n    address,\n    topics,\n    fromBlock,\n    toBlock\n  } = filter;\n  return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, address && {\n    address\n  }), topics && {\n    topics\n  }), typeof fromBlock !== 'undefined' ? {\n    fromBlock: typeof fromBlock === 'bigint' ? Hex.fromNumber(fromBlock) : fromBlock\n  } : {}), typeof toBlock !== 'undefined' ? {\n    toBlock: typeof toBlock === 'bigint' ? Hex.fromNumber(toBlock) : toBlock\n  } : {});\n}","map":{"version":3,"names":["Hex","fromRpc","filter","fromBlock","toBlock","_objectSpread","validate","strict","BigInt","toRpc","address","topics","fromNumber"],"sources":["/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/ox/core/Filter.ts"],"sourcesContent":["import type * as Address from './Address.js'\nimport type * as Block from './Block.js'\nimport type * as Errors from './Errors.js'\nimport * as Hex from './Hex.js'\nimport type { Compute } from './internal/types.js'\n\n/** A Filter as defined in the [Execution API specification](https://github.com/ethereum/execution-apis/blob/main/src/schemas/filter.yaml). */\nexport type Filter<bigintType = bigint> = Compute<{\n  /** Address to filter for logs. */\n  address?: Address.Address | readonly Address.Address[] | null | undefined\n  /** Block number or tag to filter logs from. */\n  fromBlock?: Block.Number<bigintType> | Block.Tag | undefined\n  /** Block number or tag to filter logs to. */\n  toBlock?: Block.Number<bigintType> | Block.Tag | undefined\n  /** Topics to filter for logs. */\n  topics?: Topics | undefined\n}>\n\n/** RPC representation of a {@link ox#Filter.Filter}. */\nexport type Rpc = Filter<Hex.Hex>\n\n/** Set of Filter topics. */\nexport type Topics = readonly Topic[]\n\n/**\n * A filter topic.\n *\n * - `null`: Matches any topic.\n * - `Hex`: Matches if the topic is equal.\n * - `Hex[]`: Matches if the topic is in the array.\n */\nexport type Topic = Hex.Hex | readonly Hex.Hex[] | null\n\n/**\n * Converts a {@link ox#Filter.Rpc} to an {@link ox#Filter.Filter}.\n *\n * @example\n * ```ts twoslash\n * import { Filter } from 'ox'\n *\n * const filter = Filter.fromRpc({\n *   address: '0xd3cda913deb6f67967b99d671a681250403edf27',\n *   fromBlock: 'latest',\n *   toBlock: '0x010f2c',\n *   topics: [\n *     '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',\n *     null,\n *     '0x0000000000000000000000000c04d9e9278ec5e4d424476d3ebec70cb5d648d1',\n *   ],\n * })\n * // @log: {\n * // @log:   address: '0xd3cda913deb6f67967b99d671a681250403edf27',\n * // @log:   fromBlock: 'latest',\n * // @log:   toBlock: 69420n,\n * // @log:   topics: [\n * // @log:     '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',\n * // @log:     null,\n * // @log:     '0x0000000000000000000000000c04d9e9278ec5e4d424476d3ebec70cb5d648d1',\n * // @log:   ],\n * // @log: }\n * ```\n *\n * @param filter - The RPC filter to convert.\n * @returns An instantiated {@link ox#Filter.Filter}.\n */\nexport function fromRpc(filter: Rpc): Filter {\n  const { fromBlock, toBlock } = filter\n  return {\n    ...filter,\n    ...(fromBlock && {\n      fromBlock: Hex.validate(fromBlock, { strict: false })\n        ? BigInt(fromBlock)\n        : fromBlock,\n    }),\n    ...(toBlock && {\n      toBlock: Hex.validate(toBlock, { strict: false })\n        ? BigInt(toBlock)\n        : toBlock,\n    }),\n  } as Filter\n}\n\nexport declare namespace fromRpc {\n  type ErrorType = Errors.GlobalErrorType\n}\n\n/**\n * Converts a {@link ox#Filter.Filter} to a {@link ox#Filter.Rpc}.\n *\n * @example\n * ```ts twoslash\n * import { AbiEvent, Filter } from 'ox'\n *\n * const transfer = AbiEvent.from('event Transfer(address indexed, address indexed, uint256)')\n * const { topics } = AbiEvent.encode(transfer)\n *\n * const filter = Filter.toRpc({\n *   address: '0xfba3912ca04dd458c843e2ee08967fc04f3579c2',\n *   topics,\n * })\n * // @log: {\n * // @log:   address: '0xfba3912ca04dd458c843e2ee08967fc04f3579c2',\n * // @log:   topics: [\n * // @log:     '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',\n * // @log:   ],\n * // @log: }\n * ```\n *\n * @param filter - The filter to convert.\n * @returns An RPC filter.\n */\nexport function toRpc(filter: Filter): Rpc {\n  const { address, topics, fromBlock, toBlock } = filter\n  return {\n    ...(address && { address }),\n    ...(topics && { topics }),\n    ...(typeof fromBlock !== 'undefined'\n      ? {\n          fromBlock:\n            typeof fromBlock === 'bigint'\n              ? Hex.fromNumber(fromBlock)\n              : fromBlock,\n        }\n      : {}),\n    ...(typeof toBlock !== 'undefined'\n      ? {\n          toBlock:\n            typeof toBlock === 'bigint' ? Hex.fromNumber(toBlock) : toBlock,\n        }\n      : {}),\n  }\n}\n\nexport declare namespace toRpc {\n  type ErrorType = Errors.GlobalErrorType\n}\n"],"mappings":";AAGA,OAAO,KAAKA,GAAG,MAAM,UAAU;AA8B/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAM,SAAUC,OAAOA,CAACC,MAAW;EACjC,MAAM;IAAEC,SAAS;IAAEC;EAAO,CAAE,GAAGF,MAAM;EACrC,OAAAG,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACKH,MAAM,GACLC,SAAS,IAAI;IACfA,SAAS,EAAEH,GAAG,CAACM,QAAQ,CAACH,SAAS,EAAE;MAAEI,MAAM,EAAE;IAAK,CAAE,CAAC,GACjDC,MAAM,CAACL,SAAS,CAAC,GACjBA;GACL,GACGC,OAAO,IAAI;IACbA,OAAO,EAAEJ,GAAG,CAACM,QAAQ,CAACF,OAAO,EAAE;MAAEG,MAAM,EAAE;IAAK,CAAE,CAAC,GAC7CC,MAAM,CAACJ,OAAO,CAAC,GACfA;GACL;AAEL;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAM,SAAUK,KAAKA,CAACP,MAAc;EAClC,MAAM;IAAEQ,OAAO;IAAEC,MAAM;IAAER,SAAS;IAAEC;EAAO,CAAE,GAAGF,MAAM;EACtD,OAAAG,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACMK,OAAO,IAAI;IAAEA;EAAO,CAAE,GACtBC,MAAM,IAAI;IAAEA;EAAM,CAAE,GACpB,OAAOR,SAAS,KAAK,WAAW,GAChC;IACEA,SAAS,EACP,OAAOA,SAAS,KAAK,QAAQ,GACzBH,GAAG,CAACY,UAAU,CAACT,SAAS,CAAC,GACzBA;GACP,GACD,EAAE,GACF,OAAOC,OAAO,KAAK,WAAW,GAC9B;IACEA,OAAO,EACL,OAAOA,OAAO,KAAK,QAAQ,GAAGJ,GAAG,CAACY,UAAU,CAACR,OAAO,CAAC,GAAGA;GAC3D,GACD,EAAE;AAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}