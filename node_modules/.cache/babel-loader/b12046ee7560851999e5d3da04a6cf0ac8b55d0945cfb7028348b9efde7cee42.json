{"ast":null,"code":"import { proxy, snapshot } from 'valtio/vanilla';\nimport { subscribeKey as subKey } from 'valtio/vanilla/utils';\nimport { ConstantsUtil } from '../utils/ConstantsUtil.js';\nimport { CoreHelperUtil } from '../utils/CoreHelperUtil.js';\nimport { OptionsUtil } from '../utils/OptionsUtil.js';\n// -- State --------------------------------------------- //\nconst state = proxy({\n  features: ConstantsUtil.DEFAULT_FEATURES,\n  projectId: '',\n  sdkType: 'appkit',\n  sdkVersion: 'html-wagmi-undefined',\n  defaultAccountTypes: ConstantsUtil.DEFAULT_ACCOUNT_TYPES,\n  enableNetworkSwitch: true,\n  experimental_preferUniversalLinks: false,\n  remoteFeatures: {},\n  enableMobileFullScreen: false\n});\n// -- Controller ---------------------------------------- //\nexport const OptionsController = {\n  state,\n  subscribeKey(key, callback) {\n    return subKey(state, key, callback);\n  },\n  setOptions(options) {\n    Object.assign(state, options);\n  },\n  setRemoteFeatures(remoteFeatures) {\n    if (!remoteFeatures) {\n      return;\n    }\n    const newRemoteFeatures = {\n      ...state.remoteFeatures,\n      ...remoteFeatures\n    };\n    state.remoteFeatures = newRemoteFeatures;\n    if (state.remoteFeatures?.socials) {\n      state.remoteFeatures.socials = OptionsUtil.filterSocialsByPlatform(state.remoteFeatures.socials);\n    }\n    if (state.features?.pay) {\n      state.remoteFeatures.email = false;\n      state.remoteFeatures.socials = false;\n    }\n  },\n  setFeatures(features) {\n    if (!features) {\n      return;\n    }\n    if (!state.features) {\n      state.features = ConstantsUtil.DEFAULT_FEATURES;\n    }\n    const newFeatures = {\n      ...state.features,\n      ...features\n    };\n    state.features = newFeatures;\n    if (state.features?.pay && state.remoteFeatures) {\n      state.remoteFeatures.email = false;\n      state.remoteFeatures.socials = false;\n    }\n  },\n  setProjectId(projectId) {\n    state.projectId = projectId;\n  },\n  setCustomRpcUrls(customRpcUrls) {\n    state.customRpcUrls = customRpcUrls;\n  },\n  setAllWallets(allWallets) {\n    state.allWallets = allWallets;\n  },\n  setIncludeWalletIds(includeWalletIds) {\n    state.includeWalletIds = includeWalletIds;\n  },\n  setExcludeWalletIds(excludeWalletIds) {\n    state.excludeWalletIds = excludeWalletIds;\n  },\n  setFeaturedWalletIds(featuredWalletIds) {\n    state.featuredWalletIds = featuredWalletIds;\n  },\n  setTokens(tokens) {\n    state.tokens = tokens;\n  },\n  setTermsConditionsUrl(termsConditionsUrl) {\n    state.termsConditionsUrl = termsConditionsUrl;\n  },\n  setPrivacyPolicyUrl(privacyPolicyUrl) {\n    state.privacyPolicyUrl = privacyPolicyUrl;\n  },\n  setCustomWallets(customWallets) {\n    state.customWallets = customWallets;\n  },\n  setIsSiweEnabled(isSiweEnabled) {\n    state.isSiweEnabled = isSiweEnabled;\n  },\n  setIsUniversalProvider(isUniversalProvider) {\n    state.isUniversalProvider = isUniversalProvider;\n  },\n  setSdkVersion(sdkVersion) {\n    state.sdkVersion = sdkVersion;\n  },\n  setMetadata(metadata) {\n    state.metadata = metadata;\n  },\n  setDisableAppend(disableAppend) {\n    state.disableAppend = disableAppend;\n  },\n  setEIP6963Enabled(enableEIP6963) {\n    state.enableEIP6963 = enableEIP6963;\n  },\n  setDebug(debug) {\n    state.debug = debug;\n  },\n  setEnableWalletGuide(enableWalletGuide) {\n    state.enableWalletGuide = enableWalletGuide;\n  },\n  setEnableAuthLogger(enableAuthLogger) {\n    state.enableAuthLogger = enableAuthLogger;\n  },\n  setEnableWallets(enableWallets) {\n    state.enableWallets = enableWallets;\n  },\n  setPreferUniversalLinks(preferUniversalLinks) {\n    state.experimental_preferUniversalLinks = preferUniversalLinks;\n  },\n  setSIWX(siwx) {\n    if (siwx) {\n      for (const [key, isVal] of Object.entries(ConstantsUtil.SIWX_DEFAULTS)) {\n        /*\n         * Only writes when siwx[key] is null or undefined\n         * (use ||= if you only want to check “falsy”, not recommended here)\n         */\n        siwx[key] ??= isVal;\n      }\n    }\n    state.siwx = siwx;\n  },\n  setConnectMethodsOrder(connectMethodsOrder) {\n    state.features = {\n      ...state.features,\n      connectMethodsOrder\n    };\n  },\n  setWalletFeaturesOrder(walletFeaturesOrder) {\n    state.features = {\n      ...state.features,\n      walletFeaturesOrder\n    };\n  },\n  setSocialsOrder(socialsOrder) {\n    state.remoteFeatures = {\n      ...state.remoteFeatures,\n      socials: socialsOrder\n    };\n  },\n  setCollapseWallets(collapseWallets) {\n    state.features = {\n      ...state.features,\n      collapseWallets\n    };\n  },\n  setEnableEmbedded(enableEmbedded) {\n    state.enableEmbedded = enableEmbedded;\n  },\n  setAllowUnsupportedChain(allowUnsupportedChain) {\n    state.allowUnsupportedChain = allowUnsupportedChain;\n  },\n  setManualWCControl(manualWCControl) {\n    state.manualWCControl = manualWCControl;\n  },\n  setEnableNetworkSwitch(enableNetworkSwitch) {\n    state.enableNetworkSwitch = enableNetworkSwitch;\n  },\n  setEnableMobileFullScreen(enableMobileFullScreen) {\n    state.enableMobileFullScreen = CoreHelperUtil.isMobile() && enableMobileFullScreen;\n  },\n  setEnableReconnect(enableReconnect) {\n    state.enableReconnect = enableReconnect;\n  },\n  setDefaultAccountTypes(defaultAccountType = {}) {\n    Object.entries(defaultAccountType).forEach(([namespace, accountType]) => {\n      if (accountType) {\n        // @ts-expect-error - Keys are validated by the param type\n        state.defaultAccountTypes[namespace] = accountType;\n      }\n    });\n  },\n  setUniversalProviderConfigOverride(universalProviderConfigOverride) {\n    state.universalProviderConfigOverride = universalProviderConfigOverride;\n  },\n  getUniversalProviderConfigOverride() {\n    return state.universalProviderConfigOverride;\n  },\n  getSnapshot() {\n    return snapshot(state);\n  }\n};","map":{"version":3,"names":["proxy","snapshot","subscribeKey","subKey","ConstantsUtil","CoreHelperUtil","OptionsUtil","state","features","DEFAULT_FEATURES","projectId","sdkType","sdkVersion","defaultAccountTypes","DEFAULT_ACCOUNT_TYPES","enableNetworkSwitch","experimental_preferUniversalLinks","remoteFeatures","enableMobileFullScreen","OptionsController","key","callback","setOptions","options","Object","assign","setRemoteFeatures","newRemoteFeatures","socials","filterSocialsByPlatform","pay","email","setFeatures","newFeatures","setProjectId","setCustomRpcUrls","customRpcUrls","setAllWallets","allWallets","setIncludeWalletIds","includeWalletIds","setExcludeWalletIds","excludeWalletIds","setFeaturedWalletIds","featuredWalletIds","setTokens","tokens","setTermsConditionsUrl","termsConditionsUrl","setPrivacyPolicyUrl","privacyPolicyUrl","setCustomWallets","customWallets","setIsSiweEnabled","isSiweEnabled","setIsUniversalProvider","isUniversalProvider","setSdkVersion","setMetadata","metadata","setDisableAppend","disableAppend","setEIP6963Enabled","enableEIP6963","setDebug","debug","setEnableWalletGuide","enableWalletGuide","setEnableAuthLogger","enableAuthLogger","setEnableWallets","enableWallets","setPreferUniversalLinks","preferUniversalLinks","setSIWX","siwx","isVal","entries","SIWX_DEFAULTS","setConnectMethodsOrder","connectMethodsOrder","setWalletFeaturesOrder","walletFeaturesOrder","setSocialsOrder","socialsOrder","setCollapseWallets","collapseWallets","setEnableEmbedded","enableEmbedded","setAllowUnsupportedChain","allowUnsupportedChain","setManualWCControl","manualWCControl","setEnableNetworkSwitch","setEnableMobileFullScreen","isMobile","setEnableReconnect","enableReconnect","setDefaultAccountTypes","defaultAccountType","forEach","namespace","accountType","setUniversalProviderConfigOverride","universalProviderConfigOverride","getUniversalProviderConfigOverride","getSnapshot"],"sources":["../../../../src/controllers/OptionsController.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}