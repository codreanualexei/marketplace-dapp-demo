{"ast":null,"code":"import _objectWithoutProperties from \"/Users/alex.codreanu/Desktop/marketplace-dapp/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"headers\", \"signal\", \"cache\"],\n  _excluded2 = [\"headers\", \"signal\"],\n  _excluded3 = [\"body\", \"headers\", \"signal\"],\n  _excluded4 = [\"body\", \"headers\", \"signal\"],\n  _excluded5 = [\"body\", \"headers\", \"signal\"],\n  _excluded6 = [\"body\"];\nasync function fetchData() {\n  const response = await fetch(...arguments);\n  if (!response.ok) {\n    // Create error object and reject if not a 2xx response code\n    const err = new Error(\"HTTP status code: \".concat(response.status), {\n      cause: response\n    });\n    throw err;\n  }\n  return response;\n}\n// -- Utility --------------------------------------------------------------------\nexport class FetchUtil {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      clientId\n    } = _ref;\n    this.baseUrl = baseUrl;\n    this.clientId = clientId;\n  }\n  async get(_ref2) {\n    let {\n        headers,\n        signal,\n        cache\n      } = _ref2,\n      args = _objectWithoutProperties(_ref2, _excluded);\n    const url = this.createUrl(args);\n    const response = await fetchData(url, {\n      method: 'GET',\n      headers,\n      signal,\n      cache\n    });\n    return response.json();\n  }\n  async getBlob(_ref3) {\n    let {\n        headers,\n        signal\n      } = _ref3,\n      args = _objectWithoutProperties(_ref3, _excluded2);\n    const url = this.createUrl(args);\n    const response = await fetchData(url, {\n      method: 'GET',\n      headers,\n      signal\n    });\n    return response.blob();\n  }\n  async post(_ref4) {\n    let {\n        body,\n        headers,\n        signal\n      } = _ref4,\n      args = _objectWithoutProperties(_ref4, _excluded3);\n    const url = this.createUrl(args);\n    const response = await fetchData(url, {\n      method: 'POST',\n      headers,\n      body: body ? JSON.stringify(body) : undefined,\n      signal\n    });\n    return response.json();\n  }\n  async put(_ref5) {\n    let {\n        body,\n        headers,\n        signal\n      } = _ref5,\n      args = _objectWithoutProperties(_ref5, _excluded4);\n    const url = this.createUrl(args);\n    const response = await fetchData(url, {\n      method: 'PUT',\n      headers,\n      body: body ? JSON.stringify(body) : undefined,\n      signal\n    });\n    return response.json();\n  }\n  async delete(_ref6) {\n    let {\n        body,\n        headers,\n        signal\n      } = _ref6,\n      args = _objectWithoutProperties(_ref6, _excluded5);\n    const url = this.createUrl(args);\n    const response = await fetchData(url, {\n      method: 'DELETE',\n      headers,\n      body: body ? JSON.stringify(body) : undefined,\n      signal\n    });\n    return response.json();\n  }\n  createUrl(_ref7) {\n    let {\n      path,\n      params\n    } = _ref7;\n    const url = new URL(path, this.baseUrl);\n    if (params) {\n      Object.entries(params).forEach(_ref8 => {\n        let [key, value] = _ref8;\n        if (value) {\n          url.searchParams.append(key, value);\n        }\n      });\n    }\n    if (this.clientId) {\n      url.searchParams.append('clientId', this.clientId);\n    }\n    return url;\n  }\n  sendBeacon(_ref9) {\n    let {\n        body\n      } = _ref9,\n      args = _objectWithoutProperties(_ref9, _excluded6);\n    const url = this.createUrl(args);\n    return navigator.sendBeacon(url.toString(), body ? JSON.stringify(body) : undefined);\n  }\n}","map":{"version":3,"names":["fetchData","response","fetch","arguments","ok","err","Error","concat","status","cause","FetchUtil","constructor","_ref","baseUrl","clientId","get","_ref2","headers","signal","cache","args","_objectWithoutProperties","_excluded","url","createUrl","method","json","getBlob","_ref3","_excluded2","blob","post","_ref4","body","_excluded3","JSON","stringify","undefined","put","_ref5","_excluded4","delete","_ref6","_excluded5","_ref7","path","params","URL","Object","entries","forEach","_ref8","key","value","searchParams","append","sendBeacon","_ref9","_excluded6","navigator","toString"],"sources":["../../../../src/utils/FetchUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}