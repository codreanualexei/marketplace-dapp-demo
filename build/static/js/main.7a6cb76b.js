/*! For license information please see main.7a6cb76b.js.LICENSE.txt */
(()=>{var e={33:(e,t)=>{"use strict";function n(e){let t;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},301:(e,t,n)=>{"use strict";n.d(t,{ER:()=>s,Im:()=>c,dZ:()=>l,eX:()=>o,e_:()=>a});var r=n(1834),i=n(6765);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function o(){return BigInt(s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function a(e,t,n){return{id:n||s(),jsonrpc:"2.0",method:e,params:t}}function c(e,t){return{id:e,jsonrpc:"2.0",result:t}}function l(e,t,n){return{id:e,jsonrpc:"2.0",error:u(t,n)}}function u(e,t){return"undefined"===typeof e?(0,r.vG)(i.zR):("string"===typeof e&&(e=Object.assign(Object.assign({},(0,r.vG)(i.fO)),{message:e})),"undefined"!==typeof t&&(e.data=t),(0,r.mE)(e.code)&&(e=(0,r.rI)(e.code)),e)}},364:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},443:(e,t,n)=>{"use strict";n.d(t,{lY:()=>E});var r=n(1278),i=n(1195);const s=BigInt(0),o=BigInt(1),a=BigInt(2),c=BigInt(7),l=BigInt(256),u=BigInt(113),h=[],d=[],f=[];for(let A=0,x=o,S=1,k=0;A<24;A++){[S,k]=[k,(2*S+3*k)%5],h.push(2*(5*k+S)),d.push((A+1)*(A+2)/2%64);let e=s;for(let t=0;t<7;t++)x=(x<<o^(x>>c)*u)%l,x&a&&(e^=o<<(o<<BigInt(t))-o);f.push(e)}const p=(0,r.lD)(f,!0),g=p[0],y=p[1],m=(e,t,n)=>n>32?(0,r.WM)(e,t,n):(0,r.P5)(e,t,n),w=(e,t,n)=>n>32?(0,r.im)(e,t,n):(0,r.B4)(e,t,n);class b extends i.Vw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,(0,i.Fe)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.fd)(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=m(s,o,1)^n[t],c=w(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=d[n],s=m(t,i,r),o=w(t,i,r),a=h[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=g[r],e[1]^=y[r]}(0,i.uH)(n)}(this.state32,this.rounds),(0,i.fd)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.CC)(this),e=(0,i.ZJ)(e),(0,i.DO)(e);const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,i.CC)(this,!1),(0,i.DO)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.Ht)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.uH)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new b(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const v=(e,t,n)=>(0,i.qj)(()=>new b(t,e,n)),E=(()=>v(1,136,32))()},568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(8251);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},632:(e,t,n)=>{"use strict";n.d(t,{IJsonRpcProvider:()=>o.kF,formatJsonRpcError:()=>s.dZ,formatJsonRpcRequest:()=>s.e_,formatJsonRpcResult:()=>s.Im,getBigIntRpcId:()=>s.eX,isHttpUrl:()=>a.q$,isJsonRpcError:()=>c.U$,isJsonRpcRequest:()=>c.p3,isJsonRpcResponse:()=>c.tq,isJsonRpcResult:()=>c.xT,isLocalhostUrl:()=>a.z,isWsUrl:()=>a.A1,parseConnectionError:()=>r.eF,payloadId:()=>s.ER});n(6765);var r=n(1834),i=n(3587);n.o(i,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),n.o(i,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),n.o(i,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),n.o(i,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),n.o(i,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),n.o(i,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),n.o(i,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),n.o(i,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),n.o(i,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),n.o(i,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),n.o(i,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),n.o(i,"isReactNative")&&n.d(t,{isReactNative:function(){return i.isReactNative}}),n.o(i,"isWsUrl")&&n.d(t,{isWsUrl:function(){return i.isWsUrl}}),n.o(i,"payloadId")&&n.d(t,{payloadId:function(){return i.payloadId}});var s=n(301),o=n(940),a=n(1385),c=n(3985)},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},752:(e,t,n)=>{"use strict";const r=n(5984);e.exports=h;const i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:m,res:m,err:g,errWithCause:g};function o(e,t){return"silent"===e?1/0:t.levels.values[e]}const a=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function h(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter(function(e){return"!stdSerializers.err"!==e});return!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const g=Object.keys(e.customLevels||{}),m=["error","fatal","warn","info","debug","trace"].concat(g);"function"===typeof n&&m.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const w=e.level||"info",v=Object.create(n);v.log||(v.log=b),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||b}),e[a]=r}(v,m,n),u({},v),Object.defineProperty(v,"levelVal",{get:function(){return o(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,d(this,E,v,"error"),d(this,E,v,"fatal"),d(this,E,v,"warn"),d(this,E,v,"info"),d(this,E,v,"debug"),d(this,E,v,"trace"),g.forEach(e=>{d(this,E,v,e)})}});const E={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:m,timestamp:y(e),messageKey:e.messageKey||"msg",onChild:e.onChild||b};function A(n,i,o){if(!i)throw new Error("missing bindings for child Pino");o=o||{},s&&i.serializers&&(o.serializers=i.serializers);const a=o.serializers;if(s&&a){var c=Object.assign({},r,a),l=!0===e.browser.serialize?Object.keys(c):s;delete i.serializers,f([i],l,c,this._stdErrSerialize)}function h(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=p([].concat(e._logEvent.bindings,i)))}h.prototype=this;const d=new h(this);return u(this,d),d.child=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return A.call(this,n,...t)},d.level=o.level||this.level,n.onChild(d),d}return v.levels=function(e){const t=e.customLevels||{},n=Object.assign({},h.levels.values,t),r=Object.assign({},h.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t));return{values:n,labels:r}}(e),v.level=w,v.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=b,v.serializers=r,v._serialize=s,v._stdErrSerialize=c,v.child=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.call(this,E,...t)},t&&(v._logEvent=p()),v}function d(e,t,n,s){if(Object.defineProperty(e,s,{value:o(e.level,n)>o(s,n)?b:n[a][s],writable:!0,enumerable:!0,configurable:!0}),e[s]===b){if(!t.transmit)return;const r=o(t.transmit.level||e.level,n);if(o(s,n)<r)return}e[s]=function(e,t,n,s){return c=e[a][s],function(){const a=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var h=0;h<l.length;h++)l[h]=arguments[h];var d=!1;if(t.serialize&&(f(l,this._serialize,this.serializers,this._stdErrSerialize),d=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,s){const{level:o,log:a=e=>e}=s.formatters||{},c=n.slice();let l=c[0];const u={};let h=1+(0|e._childLevel);if(h<1&&(h=1),i&&(u.time=i),o){const n=o(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(null!==l&&"object"===typeof l)for(;h--&&"object"===typeof c[0];)Object.assign(u,c.shift());return[a(u),...c]}if(null!==l&&"object"===typeof l){for(;h--&&"object"===typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"===typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[s.messageKey]=l),[a(u)]}(this,s,l,a,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=o(r,n),c=o(s,n);if(c<i)return;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||f(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,c),e._logEvent=p(l)}(this,{ts:a,methodLevel:s,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:o(e._level,n)},l,d)}};var c}(e,t,n,s);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[s]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[s]))}function f(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=h.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function g(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function y(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?v:E}function m(){return{}}function w(e){return e}function b(){}function v(){return!1}function E(){return Date.now()}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=s,h.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:E,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=h,e.exports.pino=h},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2284);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},883:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>Un,FA:()=>Mn,TZ:()=>jn,UF:()=>Bn});var r=n(9379),i=n(3901),s=n(8661);function o(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const c="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,l=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function u(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),o(e),e}class h{clone(){return this._cloneInto()}}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(c&&"function"==typeof c.getRandomValues)return c.getRandomValues(new Uint8Array(e));if(c&&"function"==typeof c.randomBytes)return c.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class f extends h{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l(this.buffer)}update(e){a(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=u(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=l(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a(this),function(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let o=s;o<r;o++)t[o]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const c=l(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=u/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let o=0;o<h;o++)c.setUint32(4*o,d[o],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const p=BigInt(2**32-1),g=BigInt(32);function y(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&p),l:Number(e>>g&p)}:{h:0|Number(e>>g&p),l:0|Number(e&p)}}const m={fromBig:y,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=y(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<g|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[w,b]=m.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),v=new Uint32Array(80),E=new Uint32Array(80);class A extends f{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let m=0;m<16;m++,t+=4)v[m]=e.getUint32(t),E[m]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|v[w-15],t=0|E[w-15],n=m.rotrSH(e,t,1)^m.rotrSH(e,t,8)^m.shrSH(e,t,7),r=m.rotrSL(e,t,1)^m.rotrSL(e,t,8)^m.shrSL(e,t,7),i=0|v[w-2],s=0|E[w-2],o=m.rotrSH(i,s,19)^m.rotrBH(i,s,61)^m.shrSH(i,s,6),a=m.rotrSL(i,s,19)^m.rotrBL(i,s,61)^m.shrSL(i,s,6),c=m.add4L(r,a,E[w-7],E[w-16]),l=m.add4H(c,n,o,v[w-7],v[w-16]);v[w]=0|l,E[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:A}=this;for(let x=0;x<80;x++){const e=m.rotrSH(u,h,14)^m.rotrSH(u,h,18)^m.rotrBH(u,h,41),t=m.rotrSL(u,h,14)^m.rotrSL(u,h,18)^m.rotrBL(u,h,41),S=u&d^~u&p,k=h&f^~h&g,I=m.add5L(A,t,k,b[x],E[x]),O=m.add5H(I,y,e,S,w[x],v[x]),P=0|I,T=m.rotrSH(n,r,28)^m.rotrBH(n,r,34)^m.rotrBH(n,r,39),C=m.rotrSL(n,r,28)^m.rotrBL(n,r,34)^m.rotrBL(n,r,39),N=n&i^n&o^i&o,R=r&s^r&a^s&a;y=0|p,A=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=m.add(0|c,0|l,0|O,0|P)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const _=m.add3L(P,C,R);n=m.add3H(_,O,T,N),r=0|_}({h:n,l:r}=m.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=m.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=m.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=m.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=m.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=m.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=m.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:A}=m.add(0|this.Hh,0|this.Hl,0|y,0|A)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,y,A)}roundClean(){v.fill(0),E.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const x=function(e){const t=t=>e().update(u(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new A),S=BigInt(0),k=BigInt(1),I=BigInt(2);function O(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function P(e){if(!O(e))throw new Error("Uint8Array expected")}function T(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const C=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function N(e){P(e);let t="";for(let n=0;n<e.length;n++)t+=C[e[n]];return t}function R(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?S:BigInt("0x"+e)}const _=48,B=57,L=65,U=70,j=97,M=102;function D(e){return e>=_&&e<=B?e-_:e>=L&&e<=U?e-(L-10):e>=j&&e<=M?e-(j-10):void 0}function F(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=D(e.charCodeAt(s)),n=D(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function z(e){return P(e),R(N(Uint8Array.from(e).reverse()))}function H(e,t){return F(e.toString(16).padStart(2*t,"0"))}function q(e,t){return H(e,t).reverse()}function V(e,t,n){let r;if("string"==typeof t)try{r=F(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!O(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function W(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];P(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const K=e=>"bigint"==typeof e&&S<=e;function G(e,t,n,r){if(!function(e,t,n){return K(e)&&K(t)&&K(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Q=e=>(I<<BigInt(e-1))-k,J={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||O(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=J[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Z(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const X=BigInt(0),$=BigInt(1),ee=BigInt(2),te=BigInt(3),ne=BigInt(4),re=BigInt(5),ie=BigInt(8);function se(e,t){const n=e%t;return n>=X?n:t+n}function oe(e,t,n){if(t<X)throw new Error("invalid exponent, negatives unsupported");if(n<=X)throw new Error("invalid modulus");if(n===$)return X;let r=$;for(;t>X;)t&$&&(r=r*e%n),e=e*e%n,t>>=$;return r}function ae(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function ce(e,t){if(e===X)throw new Error("invert: expected non-zero number");if(t<=X)throw new Error("invert: expected positive modulus, got "+t);let n=se(e,t),r=t,i=X,s=$;for(;n!==X;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==$)throw new Error("invert: does not exist");return se(i,t)}function le(e){if(e%ne===te){const t=(e+$)/ne;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ie===re){const t=(e-re)/ie;return function(e,n){const r=e.mul(n,ee),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,ee),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-$)/ee;let n,r,i;for(n=e-$,r=0;n%ee===X;n/=ee,r++);for(i=ee;i<e&&oe(i,t,e)!==e-$;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+$)/ne;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+$)/ee;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,$<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const ue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function he(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function de(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=X)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=he(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Q(i),ZERO:X,ONE:$,create:t=>se(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return X<=t&&t<e},is0:e=>e===X,isOdd:e=>(e&$)===$,neg:t=>se(-t,e),eql:(e,t)=>e===t,sqr:t=>se(t*t,e),add:(t,n)=>se(t+n,e),sub:(t,n)=>se(t-n,e),mul:(t,n)=>se(t*n,e),pow:(e,t)=>function(e,t,n){if(n<X)throw new Error("invalid exponent, negatives unsupported");if(n===X)return e.ONE;if(n===$)return t;let r=e.ONE,i=t;for(;n>X;)n&$&&(r=e.mul(r,i)),i=e.sqr(i),n>>=$;return r}(a,e,t),div:(t,n)=>se(t*ce(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ce(t,e),sqrt:r.sqrt||(t=>(o||(o=le(e)),o(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?q(e,s):H(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?z(e):function(e){return R(N(e))}(e)}});return Object.freeze(a)}const fe=BigInt(0),pe=BigInt(1);function ge(e,t){const n=t.negate();return e?n:t}function ye(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function me(e,t){ye(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const we=new WeakMap,be=new WeakMap;function ve(e){return be.get(e)||1}function Ee(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=function(e){let t;for(t=0;e>S;e>>=k,t+=1);return t}(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i);let l=i;for(let u=Math.floor((t.BITS-1)/o)*o;u>=0;u-=o){c.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(u)&BigInt(a));c[i]=c[i].add(n[t])}let e=i;for(let t=c.length-1,n=i;t>0;t--)n=n.add(c[t]),e=e.add(n);if(l=l.add(e),0!==u)for(let t=0;t<o;t++)l=l.double()}return l}function Ae(e){return function(e){Y(e,ue.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),Y(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,r.A)((0,r.A)((0,r.A)({},he(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}const xe=BigInt(0),Se=BigInt(1),ke=BigInt(2),Ie=BigInt(8),Oe={zip215:!0};function Pe(e){const t=function(e){const t=Ae(e);return Y(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze((0,r.A)({},t))}(e),{Fp:n,n:i,prehash:s,hash:o,randomBytes:a,nByteLength:c,h:l}=t,u=ke<<BigInt(8*c)-Se,h=n.create,d=de(t.n,t.nBitLength),f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:xe}}}),p=t.adjustScalarBytes||(e=>e),g=t.domain||((e,t,n)=>{if(T("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function y(e,t){G("coordinate "+e,t,xe,u)}function m(e){if(!(e instanceof v))throw new Error("ExtendedPoint expected")}const w=Z((e,t)=>{const{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?Ie:n.inv(s));const a=h(r*t),c=h(i*t),l=h(s*t);if(o)return{x:xe,y:Se};if(l!==Se)throw new Error("invZ was invalid");return{x:a,y:c}}),b=Z(e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,c=h(i*i),l=h(s*s),u=h(o*o),d=h(u*u),f=h(c*n);if(h(u*h(f+l))!==h(d+h(r*h(c*l))))throw new Error("bad point: equation left != right (1)");if(h(i*s)!==h(o*a))throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,y("x",e),y("y",t),y("z",n),y("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof v)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return y("x",t),y("y",n),new v(t,n,Se,h(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.ez));return e.map((e,n)=>e.toAffine(t[n])).map(v.fromAffine)}static msm(e,t){return Ee(v,d,e,t)}_setWindowSize(e){x.setWindowSize(this,e)}assertValidity(){b(this)}equals(e){m(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=e,a=h(t*o),c=h(i*r),l=h(n*o),u=h(s*r);return a===c&&l===u}is0(){return this.equals(v.ZERO)}negate(){return new v(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=h(n*n),o=h(r*r),a=h(ke*h(i*i)),c=h(e*s),l=n+r,u=h(h(l*l)-s-o),d=c+o,f=d-a,p=c-o,g=h(u*f),y=h(d*p),m=h(u*p),w=h(f*d);return new v(g,y,w,m)}add(e){m(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:u,et:d}=e;if(n===BigInt(-1)){const e=h((s-i)*(l+c)),t=h((s+i)*(l-c)),n=h(t-e);if(n===xe)return this.double();const r=h(o*ke*d),f=h(a*ke*u),p=f+r,g=t+e,y=f-r,m=h(p*n),w=h(g*y),b=h(p*y),E=h(n*g);return new v(m,w,E,b)}const f=h(i*c),p=h(s*l),g=h(a*r*d),y=h(o*u),w=h((i+s)*(c+l)-f-p),b=y-g,E=y+g,A=h(p-n*f),x=h(w*b),S=h(E*A),k=h(w*A),I=h(b*E);return new v(x,S,I,k)}subtract(e){return this.add(e.negate())}wNAF(e){return x.wNAFCached(this,e,v.normalizeZ)}multiply(e){const t=e;G("scalar",t,Se,i);const{p:n,f:r}=this.wNAF(t);return v.normalizeZ([n,r])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.ZERO;const n=e;return G("scalar",n,xe,i),n===xe?A:this.is0()||n===Se?this:x.wNAFCachedUnsafe(this,n,v.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return x.unsafeLadder(this,i).is0()}toAffine(e){return w(this,e)}clearCofactor(){const{h:e}=t;return e===Se?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:s}=t,o=n.BYTES;e=V("pointHex",e,o),T("zip215",r);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const l=z(a),d=r?u:n.ORDER;G("pointHex.y",l,xe,d);const p=h(l*l),g=h(p-Se),y=h(i*p-s);let{isValid:m,value:w}=f(g,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const b=(w&Se)===Se,E=0!==(128&c);if(!r&&w===xe&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==b&&(w=h(-w)),v.fromAffine({x:w,y:l})}static fromPrivateKey(e){return I(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=q(t,n.BYTES);return r[r.length-1]|=e&Se?128:0,r}toHex(){return N(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,Se,h(t.Gx*t.Gy)),v.ZERO=new v(xe,Se,Se,xe);const{BASE:E,ZERO:A}=v,x=function(e,t){return{constTimeNegate:ge,hasPrecomputes:e=>1!==ve(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>fe;)n&pe&&(r=r.add(i)),i=i.double(),n>>=pe;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=me(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=me(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let e=0;e<s;e++){const t=e*o;let n=Number(i&l);i>>=h,n>o&&(n-=u,i+=pe);const s=t,d=t+Math.abs(n)-1,f=e%2!==0,p=n<0;0===n?c=c.add(ge(f,r[s])):a=a.add(ge(p,r[d]))}return{p:a,f:c}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:o,windowSize:a}=me(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let e=0;e<o;e++){const t=e*a;if(i===fe)break;let n=Number(i&c);if(i>>=u,n>a&&(n-=l,i+=pe),0===n)continue;let o=r[t+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,n){let r=we.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&we.set(t,n(r))),r},wNAFCached(e,t,n){const r=ve(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=ve(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){ye(n,t),be.set(e,n),we.delete(e)}}}(v,8*c);function S(e){return se(e,i)}function k(e){return S(z(e))}function I(e){const t=n.BYTES;e=V("private key",e,t);const r=V("hashed private key",o(e),2*t),i=p(r.slice(0,t)),s=r.slice(t,2*t),a=k(i),c=E.multiply(a),l=c.toRawBytes();return{head:i,prefix:s,scalar:a,point:c,pointBytes:l}}function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=W(...n);return k(o(g(i,V("context",e),!!s)))}const P=Oe;return E._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=V("message",e),s&&(e=s(e));const{prefix:o,scalar:a,pointBytes:c}=I(t),l=O(r.context,o,e),u=E.multiply(l).toRawBytes(),h=S(l+O(r.context,u,c,e)*a);return G("signature.s",h,xe,i),V("result",W(u,q(h,n.BYTES)),2*n.BYTES)},verify:function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;const{context:o,zip215:a}=i,c=n.BYTES;e=V("signature",e,2*c),t=V("message",t),r=V("publicKey",r,c),void 0!==a&&T("zip215",a),s&&(t=s(t));const l=z(e.slice(c,2*c));let u,h,d;try{u=v.fromHex(r,a),h=v.fromHex(e.slice(0,c),a),d=E.multiplyUnsafe(l)}catch(p){return!1}if(!a&&u.isSmallOrder())return!1;const f=O(o,h.toRawBytes(),u.toRawBytes(),t);return h.add(u.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(v.ZERO)},ExtendedPoint:v,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>a(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}BigInt(0),BigInt(1);const Te=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ce=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ne=BigInt(1),Re=BigInt(2);BigInt(3);const _e=BigInt(5),Be=BigInt(8);function Le(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Ue(e,t){const n=Te,r=se(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Te,o=e*e%s*e%s,a=ae(o,Re,s)*o%s,c=ae(a,Ne,s)*e%s,l=ae(c,_e,s)*c%s,u=ae(l,t,s)*l%s,h=ae(u,n,s)*u%s,d=ae(h,r,s)*h%s,f=ae(d,i,s)*d%s,p=ae(f,i,s)*d%s,g=ae(p,t,s)*l%s;return{pow_p_5_8:ae(g,Re,s)*e%s,b2:o}}(e*se(r*r*t,n)).pow_p_5_8;let s=se(e*r*i,n);const o=se(t*s*s,n),a=s,c=se(s*Ce,n),l=o===e,u=o===se(-e,n),h=o===se(-e*Ce,n);return l&&(s=a),(u||h)&&(s=c),((e,t)=>(se(e,t)&$)===$)(s,n)&&(s=se(-s,n)),{isValid:l||u,value:s}}const je=de(Te,void 0,!0),Me=Pe({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:je,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Be,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:x,randomBytes:d,adjustScalarBytes:Le,uvRatio:Ue}),De="EdDSA",Fe="JWT",ze=".",He="base64url",qe="utf8",Ve="utf8",We=":",Ke="did",Ge="key",Qe="base58btc",Je="z",Ye="K36",Ze=32;function Xe(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function $e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Xe(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function et(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=$e(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return Xe(n)}var tt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}};const nt=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class rt{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class it{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ot(this,e)}}class st{constructor(e){this.decoders=e}or(e){return ot(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const ot=(e,t)=>new st((0,r.A)((0,r.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class at{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new rt(e,t,n),this.decoder=new it(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ct=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new at(t,n,r,i)},lt=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=tt(r,n);return ct({prefix:t,name:n,encode:i,decode:e=>nt(s(e))})},ut=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return ct({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},ht=ct({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var dt=Object.freeze({__proto__:null,identity:ht});const ft=ut({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pt=Object.freeze({__proto__:null,base2:ft});const gt=ut({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var yt=Object.freeze({__proto__:null,base8:gt});const mt=lt({prefix:"9",name:"base10",alphabet:"0123456789"});var wt=Object.freeze({__proto__:null,base10:mt});const bt=ut({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vt=ut({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Et=Object.freeze({__proto__:null,base16:bt,base16upper:vt});const At=ut({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),xt=ut({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),St=ut({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),kt=ut({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),It=ut({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ot=ut({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Pt=ut({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Tt=ut({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ct=ut({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Nt=Object.freeze({__proto__:null,base32:At,base32upper:xt,base32pad:St,base32padupper:kt,base32hex:It,base32hexupper:Ot,base32hexpad:Pt,base32hexpadupper:Tt,base32z:Ct});const Rt=lt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_t=lt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Bt=Object.freeze({__proto__:null,base36:Rt,base36upper:_t});const Lt=lt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ut=lt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var jt=Object.freeze({__proto__:null,base58btc:Lt,base58flickr:Ut});const Mt=ut({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Dt=ut({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ft=ut({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zt=ut({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ht=Object.freeze({__proto__:null,base64:Mt,base64pad:Dt,base64url:Ft,base64urlpad:zt});const qt=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Vt=qt.reduce((e,t,n)=>(e[n]=t,e),[]),Wt=qt.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const Kt=ct({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Vt[t],"")},decode:function(e){const t=[];for(const n of e){const e=Wt[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var Gt=Object.freeze({__proto__:null,base256emoji:Kt}),Qt=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Zt;)n[r++]=255&t|Jt,t/=128;for(;t&Yt;)n[r++]=255&t|Jt,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Jt=128,Yt=-128,Zt=Math.pow(2,31);var Xt=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&en)<<s:(r&en)*Math.pow(2,s),s+=7}while(r>=$t);return e.bytes=o-n,i},$t=128,en=127;var tn=Math.pow(2,7),nn=Math.pow(2,14),rn=Math.pow(2,21),sn=Math.pow(2,28),on=Math.pow(2,35),an=Math.pow(2,42),cn=Math.pow(2,49),ln=Math.pow(2,56),un=Math.pow(2,63),hn={encode:Qt,decode:Xt,encodingLength:function(e){return e<tn?1:e<nn?2:e<rn?3:e<sn?4:e<on?5:e<an?6:e<cn?7:e<ln?8:e<un?9:10}};const dn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return hn.encode(e,t,n),t},fn=e=>hn.encodingLength(e),pn=(e,t)=>{const n=t.byteLength,r=fn(e),i=r+fn(n),s=new Uint8Array(i+n);return dn(e,s,0),dn(n,s,r),s.set(t,i),new gn(e,n,t,s)};class gn{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const yn=e=>{let{name:t,code:n,encode:r}=e;return new mn(t,n,r)};class mn{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?pn(this.code,t):t.then(e=>pn(this.code,e))}throw Error("Unknown type, must be binary type")}}const wn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),bn=yn({name:"sha2-256",code:18,encode:wn("SHA-256")}),vn=yn({name:"sha2-512",code:19,encode:wn("SHA-512")});var En=Object.freeze({__proto__:null,sha256:bn,sha512:vn});const An=nt,xn={code:0,name:"identity",encode:An,digest:e=>pn(0,An(e))};var Sn=Object.freeze({__proto__:null,identity:xn});new TextEncoder,new TextDecoder;const kn=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},dt),pt),yt),wt),Et),Nt),Bt),jt),Ht),Gt);function In(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,r.A)((0,r.A)({},En),Sn);const On=In("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),Pn=In("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=$e((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Tn=(0,r.A)({utf8:On,"utf-8":On,hex:kn.base16,latin1:Pn,ascii:Pn,binary:Pn},kn);function Cn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Tn[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Nn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Tn[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):Xe(globalThis.Buffer.from(e,"utf-8"))}function Rn(e){return(0,s.j)(Cn(Nn(e,He),qe))}function _n(e){return Cn(Nn((0,s.h)(e),qe),He)}function Bn(e){const t=Nn(Ye,Qe),n=Je+Cn(et([t,e]),Qe);return[Ke,Ge,n].join(We)}function Ln(e){return Cn(e,He)}function Un(e){const t=e.split(ze),n=Rn(t[0]),r=Rn(t[1]),i=function(e){return Nn(e,He)}(t[2]);return{header:n,payload:r,signature:i,data:Nn(t.slice(0,2).join(ze),Ve)}}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d(Ze);const t=Me.getPublicKey(e);return{secretKey:et([e,t]),publicKey:t}}async function Mn(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,i.fromMiliseconds)(Date.now());const o={alg:De,typ:Fe},a={iss:Bn(r.publicKey),sub:e,aud:t,iat:s,exp:s+n},c=function(e){return Nn([_n(e.header),_n(e.payload)].join(ze),Ve)}({header:o,payload:a});return function(e){return[_n(e.header),_n(e.payload),Ln(e.signature)].join(ze)}({header:o,payload:a,signature:Me.sign(c,r.secretKey.slice(0,32))})}},917:(e,t,n)=>{"use strict";n.d(t,{VH:()=>l,li:()=>c});var r=n(7284),i=n(3901),s=n(1775);class o extends s.H{constructor(e){super()}}const a=i.FIVE_SECONDS,c={pulse:"heartbeat_pulse"};class l extends o{constructor(e){super(e),this.events=new r.EventEmitter,this.interval=a,this.interval=(null===e||void 0===e?void 0:e.interval)||a}static async init(e){const t=new l(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(c.pulse)}}},940:(e,t,n)=>{"use strict";n.d(t,{kF:()=>s});class r{}class i extends r{constructor(){super()}}class s extends i{constructor(e){super()}}},1067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(6121).__exportStar(n(656),t)},1195:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>I,DO:()=>o,CC:()=>c,sd:()=>a,Fe:()=>s,Ht:()=>l,My:()=>b,uH:()=>h,Id:()=>k,qj:()=>O,O8:()=>d,aT:()=>A,aY:()=>i,po:()=>P,Ow:()=>f,fd:()=>y,ZJ:()=>S,DH:()=>u});const r="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function o(e){if(!i(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function a(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)}function c(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function u(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}function d(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f(e,t){return e<<32-t|e>>>t}const p=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function g(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const y=p?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=g(e[t]);return e},m=(()=>"function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex)(),w=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b(e){if(o(e),m)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=w[e[n]];return t}const v={_0:48,_9:57,A:65,F:70,a:97,f:102};function E(e){return e>=v._0&&e<=v._9?e-v._0:e>=v.A&&e<=v.F?e-(v.A-10):e>=v.a&&e<=v.f?e-(v.a-10):void 0}function A(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);if(m)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=E(e.charCodeAt(s)),n=E(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function x(e){if("string"!==typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function S(e){return"string"===typeof e&&(e=x(e)),o(e),e}function k(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];o(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class I{}function O(e){const t=t=>e().update(S(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(r&&"function"===typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));if(r&&"function"===typeof r.randomBytes)return Uint8Array.from(r.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}},1278:(e,t,n)=>{"use strict";n.d(t,{B4:()=>p,CQ:()=>E,CW:()=>v,Ei:()=>d,F8:()=>A,P5:()=>f,TH:()=>x,Vl:()=>w,Vr:()=>b,WM:()=>g,WQ:()=>m,im:()=>y,jm:()=>c,lD:()=>o,qh:()=>h,rE:()=>l,ry:()=>u,xn:()=>a});const r=BigInt(2**32-1),i=BigInt(32);function s(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:n,l:a}=s(e[o],t);[r[o],i[o]]=[n,a]}return[r,i]}const a=(e,t,n)=>e>>>n,c=(e,t,n)=>e<<32-n|t>>>n,l=(e,t,n)=>e>>>n|t<<32-n,u=(e,t,n)=>e<<32-n|t>>>n,h=(e,t,n)=>e<<64-n|t>>>n-32,d=(e,t,n)=>e>>>n-32|t<<64-n,f=(e,t,n)=>e<<n|t>>>32-n,p=(e,t,n)=>t<<n|e>>>32-n,g=(e,t,n)=>t<<n-32|e>>>64-n,y=(e,t,n)=>e<<n-32|t>>>64-n;function m(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const w=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),b=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,v=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),E=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,A=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),x=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0},1385:(e,t,n)=>{"use strict";n.d(t,{A1:()=>a,q$:()=>o,z:()=>c});const r="^https?:",i="^wss?:";function s(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return"undefined"!==typeof n&&new RegExp(t).test(n)}function o(e){return s(e,r)}function a(e){return s(e,i)}function c(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}},1666:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let a=0;a<t.length;a++)t[a]=255;for(let a=0;a<e.length;a++){const n=e.charAt(a),r=n.charCodeAt(0);if(255!==t[r])throw new TypeError(n+" is ambiguous");t[r]=a}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=c-a;for(;u!==c&&0===l[u];)u++;const h=new Uint8Array(o+(c-u));let d=o;for(;u!==c;)h[d++]=l[u++];return h}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const l=(c-a)*s+1>>>0,u=new Uint8Array(l);for(;a!==c;){let e=t[a],r=0;for(let t=l-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let h=l-o;for(;h!==l&&0===u[h];)h++;let d=r.repeat(i);for(;h<l;++h)d+=e.charAt(u[h]);return d},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const i=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1757:(e,t,n)=>{"use strict";n.d(t,{CG:()=>r});const r={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},1760:(e,t,n)=>{"use strict";function r(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if(0!==(4294967168&i))if(0===(4294965248&i))n+=2;else{if(i>=55296&&i<=56319&&r<t){const t=e.charCodeAt(r);56320===(64512&t)&&(++r,i=((1023&i)<<10)+(1023&t)+65536)}n+=0===(4294901760&i)?3:4}else n++}return n}n.d(t,{Zf:()=>c,_u:()=>h,dS:()=>r,yi:()=>o});const i=new TextEncoder,s=50;function o(e,t,n){e.length>s?function(e,t,n){i.encodeInto(e,t.subarray(n))}(e,t,n):function(e,t,n){const r=e.length;let i=n,s=0;for(;s<r;){let n=e.charCodeAt(s++);if(0!==(4294967168&n)){if(0===(4294965248&n))t[i++]=n>>6&31|192;else{if(n>=55296&&n<=56319&&s<r){const t=e.charCodeAt(s);56320===(64512&t)&&(++s,n=((1023&n)<<10)+(1023&t)+65536)}0===(4294901760&n)?(t[i++]=n>>12&15|224,t[i++]=n>>6&63|128):(t[i++]=n>>18&7|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128)}t[i++]=63&n|128}else t[i++]=n}}(e,t,n)}const a=4096;function c(e,t,n){let r=t;const i=r+n,s=[];let o="";for(;r<i;){const t=e[r++];if(0===(128&t))s.push(t);else if(192===(224&t)){const n=63&e[r++];s.push((31&t)<<6|n)}else if(224===(240&t)){const n=63&e[r++],i=63&e[r++];s.push((31&t)<<12|n<<6|i)}else if(240===(248&t)){let n=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n>65535&&(n-=65536,s.push(n>>>10&1023|55296),n=56320|1023&n),s.push(n)}else s.push(t);s.length>=a&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const l=new TextDecoder,u=200;function h(e,t,n){return n>u?function(e,t,n){const r=e.subarray(t,t+n);return l.decode(r)}(e,t,n):c(e,t,n)}},1775:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});class r{}},1822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error("No timestamp found for label: ".concat(e));return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},1834:(e,t,n)=>{"use strict";n.d(t,{eF:()=>a,mE:()=>i,rI:()=>o,vG:()=>s});var r=n(6765);function i(e){return r.jf.includes(e)}function s(e){return Object.keys(r.Uf).includes(e)?r.Uf[e]:r.Uf[r.XW]}function o(e){const t=Object.values(r.Uf).find(t=>t.code===e);return t||r.Uf[r.XW]}function a(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(n," RPC url at ").concat(t)):e}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2308:(e,t,n)=>{"use strict";const r=n(5984);e.exports=h;const i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:m,res:m,err:g,errWithCause:g};function o(e,t){return"silent"===e?1/0:t.levels.values[e]}const a=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function h(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter(function(e){return"!stdSerializers.err"!==e});return!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const g=Object.keys(e.customLevels||{}),m=["error","fatal","warn","info","debug","trace"].concat(g);"function"===typeof n&&m.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const w=e.level||"info",v=Object.create(n);v.log||(v.log=b),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||b}),e[a]=r}(v,m,n),u({},v),Object.defineProperty(v,"levelVal",{get:function(){return o(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,d(this,E,v,"error"),d(this,E,v,"fatal"),d(this,E,v,"warn"),d(this,E,v,"info"),d(this,E,v,"debug"),d(this,E,v,"trace"),g.forEach(e=>{d(this,E,v,e)})}});const E={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:m,timestamp:y(e),messageKey:e.messageKey||"msg",onChild:e.onChild||b};function A(n,i,o){if(!i)throw new Error("missing bindings for child Pino");o=o||{},s&&i.serializers&&(o.serializers=i.serializers);const a=o.serializers;if(s&&a){var c=Object.assign({},r,a),l=!0===e.browser.serialize?Object.keys(c):s;delete i.serializers,f([i],l,c,this._stdErrSerialize)}function h(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=p([].concat(e._logEvent.bindings,i)))}h.prototype=this;const d=new h(this);return u(this,d),d.child=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return A.call(this,n,...t)},d.level=o.level||this.level,n.onChild(d),d}return v.levels=function(e){const t=e.customLevels||{},n=Object.assign({},h.levels.values,t),r=Object.assign({},h.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t));return{values:n,labels:r}}(e),v.level=w,v.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=b,v.serializers=r,v._serialize=s,v._stdErrSerialize=c,v.child=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.call(this,E,...t)},t&&(v._logEvent=p()),v}function d(e,t,n,s){if(Object.defineProperty(e,s,{value:o(e.level,n)>o(s,n)?b:n[a][s],writable:!0,enumerable:!0,configurable:!0}),e[s]===b){if(!t.transmit)return;const r=o(t.transmit.level||e.level,n);if(o(s,n)<r)return}e[s]=function(e,t,n,s){return c=e[a][s],function(){const a=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var h=0;h<l.length;h++)l[h]=arguments[h];var d=!1;if(t.serialize&&(f(l,this._serialize,this.serializers,this._stdErrSerialize),d=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,s){const{level:o,log:a=e=>e}=s.formatters||{},c=n.slice();let l=c[0];const u={};let h=1+(0|e._childLevel);if(h<1&&(h=1),i&&(u.time=i),o){const n=o(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(null!==l&&"object"===typeof l)for(;h--&&"object"===typeof c[0];)Object.assign(u,c.shift());return[a(u),...c]}if(null!==l&&"object"===typeof l){for(;h--&&"object"===typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"===typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[s.messageKey]=l),[a(u)]}(this,s,l,a,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=o(r,n),c=o(s,n);if(c<i)return;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||f(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,c),e._logEvent=p(l)}(this,{ts:a,methodLevel:s,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:o(e._level,n)},l,d)}};var c}(e,t,n,s);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[s]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[s]))}function f(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=h.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function g(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function y(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?v:E}function m(){return{}}function w(e){return e}function b(){}function v(){return!1}function E(){return Date.now()}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=s,h.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:E,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=h,e.exports.pino=h},2636:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(7284),i=n(8661),s=n(632);const o=e=>e.split("?")[0],a=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(2909);class c{constructor(e){if(this.url=e,this.events=new r.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,i.h)(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!(0,s.isWsUrl)(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const i=(0,s.isReactNative)()?void 0:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},o=new a(e,[],i);typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=e=>{const t=e;r(this.emitError(t.error))}:o.on("error",e=>{r(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,i.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,s.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,s.parseConnectionError)(e,o(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null===e||void 0===e?void 0:e.message)||"WebSocket connection failed for host: ".concat(o(this.url))));return this.events.emit("register_error",t),t}}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},2909:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},3044:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>a,X3:()=>i,_j:()=>s,eN:()=>o,f7:()=>r});const r=4294967295;function i(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function s(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function o(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}function a(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},3048:(e,t,n)=>{const r=n(5288);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,n,r,i,s){l[e]=l[e]+l[t]+i,l[r]=o(l[r]^l[e],16),l[n]=l[n]+l[r],l[t]=o(l[t]^l[n],12),l[e]=l[e]+l[t]+s,l[r]=o(l[r]^l[e],8),l[n]=l[n]+l[r],l[t]=o(l[t]^l[n],7)}function o(e,t){return e>>>t^e<<32-t}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),u=new Uint32Array(16);function h(e,t){let n=0;for(n=0;n<8;n++)l[n]=e.h[n],l[n+8]=a[n];for(l[12]^=e.t,l[13]^=e.t/4294967296,t&&(l[14]=~l[14]),n=0;n<16;n++)u[n]=i(e.b,4*n);for(n=0;n<10;n++)s(0,4,8,12,u[c[16*n+0]],u[c[16*n+1]]),s(1,5,9,13,u[c[16*n+2]],u[c[16*n+3]]),s(2,6,10,14,u[c[16*n+4]],u[c[16*n+5]]),s(3,7,11,15,u[c[16*n+6]],u[c[16*n+7]]),s(0,5,10,15,u[c[16*n+8]],u[c[16*n+9]]),s(1,6,11,12,u[c[16*n+10]],u[c[16*n+11]]),s(2,7,8,13,u[c[16*n+12]],u[c[16*n+13]]),s(3,4,9,14,u[c[16*n+14]],u[c[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=l[n]^l[n+8]}function d(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(f(r,t),r.c=64),r}function f(e,t){for(let n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[n]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;h(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function g(e,t,n){n=n||32,e=r.normalizeInput(e);const i=d(n,t);return f(i,e),p(i)}e.exports={blake2s:g,blake2sHex:function(e,t,n){const i=g(e,t,n);return r.toHex(i)},blake2sInit:d,blake2sUpdate:f,blake2sFinal:p}},3587:(e,t,n)=>{"use strict";var r=n(8129);n.o(r,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return r.IJsonRpcProvider}}),n.o(r,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return r.formatJsonRpcError}}),n.o(r,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return r.formatJsonRpcRequest}}),n.o(r,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return r.formatJsonRpcResult}}),n.o(r,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return r.getBigIntRpcId}}),n.o(r,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return r.isHttpUrl}}),n.o(r,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return r.isJsonRpcError}}),n.o(r,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return r.isJsonRpcRequest}}),n.o(r,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return r.isJsonRpcResponse}}),n.o(r,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return r.isJsonRpcResult}}),n.o(r,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return r.isLocalhostUrl}}),n.o(r,"isReactNative")&&n.d(t,{isReactNative:function(){return r.isReactNative}}),n.o(r,"isWsUrl")&&n.d(t,{isWsUrl:function(){return r.isWsUrl}}),n.o(r,"payloadId")&&n.d(t,{payloadId:function(){return r.payloadId}})},3826:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var r=n(9379);const i=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,o=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function a(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"===typeof t&&"prototype"in t))return t;!function(e){console.warn('[destr] Dropping "'.concat(e,'" key to prevent prototype pollution.'))}(e)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!o.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(i.test(e)||s.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,a)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function l(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(i=e(...n))&&"function"===typeof i.then?i:Promise.resolve(i)}catch(s){return Promise.reject(s)}var i}function u(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return u(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const h="base64:";function d(e){return"string"===typeof e?e:h+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function f(e){return"string"!==typeof e?e:e.startsWith(h)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),e=>e.codePointAt(0))}(e.slice(7)):e}function p(e){var t;return e&&(null===(t=e.split("?")[0])||void 0===t?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(t.join(":"))}function y(e){return(e=p(e))?e+":":""}const m=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},getItemRaw(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function w(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||m()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const n of e.mountpoints)if(t.startsWith(n))return{base:n,relativeKey:t.slice(n.length),driver:e.mounts[n]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,n)=>e.mountpoints.filter(e=>e.startsWith(t)||n&&t.startsWith(e)).map(n=>({relativeBase:t.length>n.length?t.slice(n.length):void 0,mountpoint:n,driver:e.mounts[n]})),i=(t,n)=>{if(e.watching){n=p(n);for(const r of e.watchListeners)r(t,n)}},s=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},o=(e,n,i)=>{const s=new Map,o=e=>{let t=s.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},s.set(e.base,t)),t};for(const a of e){const e="string"===typeof a,i=p(e?a:a.key),s=e?void 0:a.value,c=e||!a.options?n:(0,r.A)((0,r.A)({},n),a.options),l=t(i);o(l).items.push({key:i,value:s,relativeKey:l.relativeKey,options:c})}return Promise.all([...s.values()].map(e=>i(e))).then(e=>e.flat())},a={hasItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return l(i.hasItem,r,n)},getItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return l(i.getItem,r,n).then(e=>c(e))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e,t,e=>e.driver.getItems?l(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:g(e.base,t.key),value:c(t.value)}))):Promise.all(e.items.map(t=>l(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:c(e)})))))},getItemRaw(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return i.getItemRaw?l(i.getItemRaw,r,n):l(i.getItem,r,n).then(e=>f(e))},async setItem(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return a.removeItem(e);e=p(e);const{relativeKey:s,driver:o}=t(e);o.setItem&&(await l(o.setItem,s,u(n),r),o.watch||i("update",e))},async setItems(e,t){await o(e,t,async e=>{if(e.driver.setItems)return l(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:u(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>l(e.driver.setItem,t.relativeKey,u(t.value),t.options)))})},async setItemRaw(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return a.removeItem(e,r);e=p(e);const{relativeKey:s,driver:o}=t(e);if(o.setItemRaw)await l(o.setItemRaw,s,n,r);else{if(!o.setItem)return;await l(o.setItem,s,d(n),r)}o.watch||i("update",e)},async removeItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={removeMeta:n}),e=p(e);const{relativeKey:r,driver:s}=t(e);s.removeItem&&(await l(s.removeItem,r,n),(n.removeMeta||n.removeMata)&&await l(s.removeItem,r+"$",n),s.watch||i("remove",e))},async getMeta(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={nativeOnly:n}),e=p(e);const{relativeKey:r,driver:i}=t(e),s=Object.create(null);if(i.getMeta&&Object.assign(s,await l(i.getMeta,r,n)),!n.nativeOnly){const e=await l(i.getItem,r+"$",n).then(e=>c(e));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,n)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=y(e);const r=n(e,!0);let i=[];const s=[];let o=!0;for(const n of r){var a;null!==(a=n.driver.flags)&&void 0!==a&&a.maxDepth||(o=!1);const e=await l(n.driver.getKeys,n.relativeBase,t);for(const t of e){const e=n.mountpoint+p(t);i.some(t=>e.startsWith(t))||s.push(e)}i=[n.mountpoint,...i.filter(e=>!e.startsWith(n.mountpoint))]}const c=void 0!==t.maxDepth&&!o;return s.filter(n=>(!c||function(e,t){if(void 0===t)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}(n,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(n,e))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=y(e),await Promise.all(n(e,!1).map(async e=>{if(e.driver.clear)return l(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map(n=>e.driver.removeItem(n,t)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(e=>v(e)))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await b(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter(e=>e!==t),0===e.watchListeners.length&&await s()}),async unwatch(){e.watchListeners=[],await s()},mount(t,n){if((t=y(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort((e,t)=>t.length-e.length)),e.mounts[t]=n,e.watching&&Promise.resolve(b(n,i,t)).then(n=>{e.unwatch[t]=n}).catch(console.error),a},async unmount(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t=y(t))&&e.mounts[t]){var r,i;if(e.watching&&t in e.unwatch)null===(r=(i=e.unwatch)[t])||void 0===r||r.call(i),delete e.unwatch[t];n&&await v(e.mounts[t]),e.mountpoints=e.mountpoints.filter(e=>e!==t),delete e.mounts[t]}},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=p(e)+":";const n=t(e);return{driver:n.driver,base:n.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);return n(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.getItem(e,t)},set:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.setItem(e,t,n)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.removeItem(e,t)}};return a}function b(e,t,n){return e.watch?e.watch((e,r)=>t(e,n+r)):()=>{}}async function v(e){"function"===typeof e.dispose&&await l(e.dispose)}function E(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function A(e,t){let n;return(r,i)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=E(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>i(e.transaction(t,r).objectStore(t)))}let x;function S(){return x||(x=A("keyval-store","keyval")),x}function k(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:S())("readonly",t=>E(t.get(e)))}function I(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},E(e.transaction)}var O=n(8661);var P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?"".concat(e.base,":"):"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=A(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await k(n(e),r)>"u"),async getItem(e){var t;return null!==(t=await k(n(e),r))&&void 0!==t?t:null},setItem:(e,t)=>function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:S())("readwrite",n=>(n.put(t,e),E(n.transaction)))}(n(e),t,r),removeItem:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:S())("readwrite",t=>(t.delete(e),E(t.transaction)))}(n(e),r),getKeys:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())("readonly",e=>{if(e.getAllKeys)return E(e.getAllKeys());const t=[];return I(e,e=>t.push(e.key)).then(()=>t)})}(r),clear:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())("readwrite",e=>(e.clear(),E(e.transaction)))}(r)}};class T{constructor(){this.indexedDb=w({driver:P({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,O.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},N={exports:{}};function R(e){var t;return[e[0],(0,O.j)(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof C<"u"&&C.localStorage?N.exports=C.localStorage:typeof window<"u"&&window.localStorage?N.exports=window.localStorage:N.exports=new t}();class _{constructor(){this.localStorage=N.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(R)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return(0,O.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,O.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}const B=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class L{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new _;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const s=await e.getKeys();if(!s.length)return void n(t);const o=[];for(;s.length;){const n=s.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),o.push(n)}}await t.setItem(r,1),n(t),B(e,o)})(e,new T,this.setInitialized)}catch(t){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}},3853:(e,t,n)=>{"use strict";function r(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):function(e){return e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}(e)?new Uint8Array(e):Uint8Array.from(e)}n.d(t,{C:()=>r})},3901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(5871),t),r.__exportStar(n(1822),t),r.__exportStar(n(1067),t),r.__exportStar(n(8251),t)},3985:(e,t,n)=>{"use strict";function r(e){return"object"===typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return r(e)&&"method"in e}function s(e){return r(e)&&(o(e)||a(e))}function o(e){return"result"in e}function a(e){return"error"in e}n.d(t,{U$:()=>a,p3:()=>i,tq:()=>s,xT:()=>o})},4017:(e,t,n)=>{"use strict";function r(e,t){this.v=e,this.k=t}function i(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,c=a instanceof r;Promise.resolve(c?a.v:a).then(function(n){if(c){var r="return"===t?"return":"next";if(!a.k||n.done)return i(r,n);n=e[r](n).value}s(o.done?"return":"normal",n)},function(e){i("throw",e)})}catch(e){s("throw",e)}}function s(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(s,o){var a={key:e,arg:r,resolve:s,reject:o,next:null};n?n=n.next=a:(t=n=a,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function s(e){return new r(e,0)}function o(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new a(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function a(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return a=function(e){this.s=e,this.n=e.next},a.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new a(e)}function c(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}n.d(t,{D:()=>S}),i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};var l=n(5659),u=n(3044),h=n(1760),d=n(3853);var f=n(7257);const p="array",g="map_key",y="map_value",m=e=>{if("string"===typeof e||"number"===typeof e)return e;throw new f.X("The type of key must be string or number but "+typeof e)};class w{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=p,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=g,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===p){const t=e;t.size=0,t.array=void 0,t.position=0,t.type=void 0}if(e.type===g||e.type===y){const t=e;t.size=0,t.map=void 0,t.readCount=0,t.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const b=new DataView(new ArrayBuffer(0)),v=new Uint8Array(b.buffer);try{b.getInt8(0)}catch(k){if(!(k instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const E=new RangeError("Insufficient data"),A=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,n){const r=this.caches[n-1];e:for(const i of r){const r=i.bytes;for(let i=0;i<n;i++)if(r[i]!==e[t+i])continue e;return i.str}return null}store(e,t){const n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)}decode(e,t,n){const r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;const i=(0,h.Zf)(e,t,n),s=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(s,i),i}};class x{constructor(e){var t,n,r,i,s,o,a,c,h;this.totalPos=0,this.pos=0,this.view=b,this.bytes=v,this.headByte=-1,this.stack=new w,this.entered=!1,this.extensionCodec=null!==(t=null===e||void 0===e?void 0:e.extensionCodec)&&void 0!==t?t:l.g.defaultCodec,this.context=null===e||void 0===e?void 0:e.context,this.useBigInt64=null!==(n=null===e||void 0===e?void 0:e.useBigInt64)&&void 0!==n&&n,this.rawStrings=null!==(r=null===e||void 0===e?void 0:e.rawStrings)&&void 0!==r&&r,this.maxStrLength=null!==(i=null===e||void 0===e?void 0:e.maxStrLength)&&void 0!==i?i:u.f7,this.maxBinLength=null!==(s=null===e||void 0===e?void 0:e.maxBinLength)&&void 0!==s?s:u.f7,this.maxArrayLength=null!==(o=null===e||void 0===e?void 0:e.maxArrayLength)&&void 0!==o?o:u.f7,this.maxMapLength=null!==(a=null===e||void 0===e?void 0:e.maxMapLength)&&void 0!==a?a:u.f7,this.maxExtLength=null!==(c=null===e||void 0===e?void 0:e.maxExtLength)&&void 0!==c?c:u.f7,this.keyDecoder=void 0!==(null===e||void 0===e?void 0:e.keyDecoder)?e.keyDecoder:A,this.mapKeyConverter=null!==(h=null===e||void 0===e?void 0:e.mapKeyConverter)&&void 0!==h?h:m}clone(){return new x({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){const t=(0,d.C)(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){const t=this.bytes.subarray(this.pos),n=(0,d.C)(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:n}=this;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))}decode(e){if(this.entered){return this.clone().decode(e)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){const t=this.clone();return void(yield*t.decodeMulti(e))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered){return this.clone().decodeAsync(e)}try{this.entered=!0;let l,u=!1;var t,n=!1,r=!1;try{for(var i,s=o(e);n=!(i=await s.next()).done;n=!1){const e=i.value;if(u)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(e);try{l=this.doDecodeSync(),u=!0}catch(k){if(!(k instanceof RangeError))throw k}this.totalPos+=this.pos}}catch(a){r=!0,t=a}finally{try{n&&null!=s.return&&await s.return()}finally{if(r)throw t}}if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return l}const{headByte:h,pos:d,totalPos:f}=this;throw new RangeError("Insufficient data in parsing ".concat(c(h)," at ").concat(f," (").concat(d," in the current buffer)"))}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}decodeMultiAsync(e,t){var n,a=this;return(n=function*(){if(a.entered){const n=a.clone();return void(yield*function(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise(function(n){n(e[t](i))}),{done:!1,value:new r(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}(o(n.decodeMultiAsync(e,t))))}try{a.entered=!0;let r=t,f=-1;var i,c=!1,l=!1;try{for(var u,h=o(e);c=!(u=yield s(h.next())).done;c=!1){const e=u.value;if(t&&0===f)throw a.createExtraByteError(a.totalPos);a.appendBuffer(e),r&&(f=a.readArraySize(),r=!1,a.complete());try{for(;yield a.doDecodeSync(),0!==--f;);}catch(n){if(!(n instanceof RangeError))throw n}a.totalPos+=a.pos}}catch(d){l=!0,i=d}finally{try{c&&null!=h.return&&(yield s(h.return()))}finally{if(l)throw i}}}finally{a.entered=!1}},function(){return new i(n.apply(this,arguments))})()}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const n=e-128;if(0!==n){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){const n=e-144;if(0!==n){this.pushArrayState(n),this.complete();continue e}t=[]}else{const n=e-160;t=this.decodeString(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeString(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeString(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeString(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new f.X("Unrecognized type byte: ".concat(c(e)));{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const n=this.stack;for(;n.length>0;){const e=n.top();if(e.type===p){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;t=e.array,n.release(e)}else{if(e.type===g){if("__proto__"===t)throw new f.X("The key __proto__ is not allowed");e.key=this.mapKeyConverter(t),e.type=y;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=g;continue e}t=e.map,n.release(e)}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new f.X("Unrecognized array type byte: ".concat(c(e)))}}pushMapState(e){if(e>this.maxMapLength)throw new f.X("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new f.X("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){var n;if(e>this.maxStrLength)throw new f.X("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw E;const r=this.pos+t;let i;return i=this.stateIsMapKey()&&null!==(n=this.keyDecoder)&&void 0!==n&&n.canBeCached(e)?this.keyDecoder.decode(this.bytes,r,e):(0,h._u)(this.bytes,r,e),this.pos+=t+e,i}stateIsMapKey(){if(this.stack.length>0){return this.stack.top().type===g}return!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new f.X("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw E;const n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r}decodeExtension(e,t){if(e>this.maxExtLength)throw new f.X("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));const n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=(0,u.Hn)(this.view,this.pos);return this.pos+=8,e}readI64(){const e=(0,u.eN)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function S(e,t){return new x(t).decode(e)}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=w.prototype;var E=v.prototype=new b;E.constructor=v,y(E,w.prototype),E.isPureReactComponent=!0;var A=Array.isArray;function x(){}var S={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function I(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return C((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+T(e,0):s,A(o)?(i="",null!=u&&(i=u.replace(P,"$&/")+"/"),C(o,t,i,"",function(e){return e})):null!=o&&(O(o)&&(c=o,l=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+u,o=I(c.type,l,c.props)),t.push(o)),1;u=0;var h,f=""===s?".":s+":";if(A(e))for(var g=0;g<e.length;g++)u+=C(s=e[g],t,i,a=f+T(s,g),o);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,a=f+T(s,g++),o);else if("object"===a){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},B={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=B,t.Component=w,t.Fragment=i,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=y({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return I(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return I(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,_)}catch(s){_(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.0"},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(816);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4726:(e,t,n)=>{"use strict";n.d(t,{sc:()=>h});var r=n(1195);function i(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}class o extends r.Vw{constructor(e,t,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,r.O8)(this.buffer)}update(e){(0,r.CC)(this),e=(0,r.ZJ)(e),(0,r.DO)(e);const{view:t,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const t=(0,r.O8)(e);for(;i<=s-o;o+=i)this.process(t,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.CC)(this),(0,r.Ht)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,(0,r.uH)(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let r=o;r<i;r++)t[r]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const a=(0,r.O8)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let r=0;r<l;r++)a.setUint32(4*r,u[r],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const a=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);n(1278);const c=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l=new Uint32Array(64);class u extends o{constructor(){super(64,arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t,!1);for(let i=16;i<64;i++){const e=l[i-15],t=l[i-2],n=(0,r.Ow)(e,7)^(0,r.Ow)(e,18)^e>>>3,s=(0,r.Ow)(t,17)^(0,r.Ow)(t,19)^t>>>10;l[i]=s+l[i-7]+n+l[i-16]|0}let{A:n,B:o,C:a,D:u,E:h,F:d,G:f,H:p}=this;for(let g=0;g<64;g++){const e=p+((0,r.Ow)(h,6)^(0,r.Ow)(h,11)^(0,r.Ow)(h,25))+i(h,d,f)+c[g]+l[g]|0,t=((0,r.Ow)(n,2)^(0,r.Ow)(n,13)^(0,r.Ow)(n,22))+s(n,o,a)|0;p=f,f=d,d=h,h=u+e|0,u=a,a=o,o=n,n=e+t|0}n=n+this.A|0,o=o+this.B|0,a=a+this.C|0,u=u+this.D|0,h=h+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(n,o,a,u,h,d,f,p)}roundClean(){(0,r.uH)(l)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,r.uH)(this.buffer)}}const h=(0,r.qj)(()=>new u)},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5094:(e,t,n)=>{const r=n(5551),i=n(3048);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},5288:e=>{function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!==typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,n,r){let i="\n"+e+" = ";for(let s=0;s<n.length;s+=2){if(32===r)i+=t(n[s]).toUpperCase(),i+=" ",i+=t(n[s+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=t(n[s+1]).toUpperCase(),i+=t(n[s]).toUpperCase()}s%6===4?i+="\n"+new Array(e.length+4).join(" "):s<n.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){let r=(new Date).getTime();const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=o%256;const s=(new Date).getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const n=e(i),s=(new Date).getTime(),o=s-r;r=s,console.log("Hashed in "+o+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}}},5311:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r=n(1760),i=n(5659),s=n(3044),o=n(3853);class a{constructor(e){var t,n,r,s,o,a,c,l;this.entered=!1,this.extensionCodec=null!==(t=null===e||void 0===e?void 0:e.extensionCodec)&&void 0!==t?t:i.g.defaultCodec,this.context=null===e||void 0===e?void 0:e.context,this.useBigInt64=null!==(n=null===e||void 0===e?void 0:e.useBigInt64)&&void 0!==n&&n,this.maxDepth=null!==(r=null===e||void 0===e?void 0:e.maxDepth)&&void 0!==r?r:100,this.initialBufferSize=null!==(s=null===e||void 0===e?void 0:e.initialBufferSize)&&void 0!==s?s:2048,this.sortKeys=null!==(o=null===e||void 0===e?void 0:e.sortKeys)&&void 0!==o&&o,this.forceFloat32=null!==(a=null===e||void 0===e?void 0:e.forceFloat32)&&void 0!==a&&a,this.ignoreUndefined=null!==(c=null===e||void 0===e?void 0:e.ignoreUndefined)&&void 0!==c&&c,this.forceIntegerToFloat=null!==(l=null===e||void 0===e?void 0:e.forceIntegerToFloat)&&void 0!==l&&l,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new a({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered){return this.clone().encodeSharedRef(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered){return this.clone().encode(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.useBigInt64&&"bigint"===typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=(0,r.dS)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,r.yi)(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){const n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}const n=(0,o.C)(e);this.writeU8a(n)}encodeArray(e,t){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(const r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let n=0;for(const r of t)void 0!==e[r]&&n++;return n}encodeMap(e,t){const n=Object.keys(e);this.sortKeys&&n.sort();const r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(const i of n){const n=e[i];this.ignoreUndefined&&void 0===n||(this.encodeString(i),this.doEncode(n,t+1))}}encodeExtension(e){if("function"===typeof e.data){const t=e.data(this.pos+6),n=t.length;if(n>=4294967296)throw new Error("Too large extension object: ".concat(n));return this.writeU8(201),this.writeU32(n),this.writeI8(e.type),void this.writeU8a(t)}const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,s.X3)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,s._j)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function c(e,t){return new a(t).encodeSharedRef(e)}},5551:(e,t,n)=>{const r=n(5288);function i(e,t,n){const r=e[t]+e[n];let i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function s(e,t,n,r){let i=e[t]+n;n<0&&(i+=4294967296);let s=e[t+1]+r;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,o,a){const c=h[o],l=h[o+1],d=h[a],f=h[a+1];i(u,e,t),s(u,e,c,l);let p=u[r]^u[e],g=u[r+1]^u[e+1];u[r]=g,u[r+1]=p,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=p>>>24^g<<8,u[t+1]=g>>>24^p<<8,i(u,e,t),s(u,e,d,f),p=u[r]^u[e],g=u[r+1]^u[e+1],u[r]=p>>>16^g<<16,u[r+1]=g>>>16^p<<16,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=g>>>31^p<<1,u[t+1]=p>>>31^g<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),h=new Uint32Array(32);function d(e,t){let n=0;for(n=0;n<16;n++)u[n]=e.h[n],u[n+16]=c[n];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)h[n]=o(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,l[16*n+0],l[16*n+1]),a(2,10,18,26,l[16*n+2],l[16*n+3]),a(4,12,20,28,l[16*n+4],l[16*n+5]),a(6,14,22,30,l[16*n+6],l[16*n+7]),a(0,10,20,30,l[16*n+8],l[16*n+9]),a(2,12,22,24,l[16*n+10],l[16*n+11]),a(4,14,16,26,l[16*n+12],l[16*n+13]),a(6,8,18,28,l[16*n+14],l[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^u[n]^u[n+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,n,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&16!==n.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,n&&f.set(n,32),r&&f.set(r,48);for(let s=0;s<16;s++)i.h[s]=c[s]^o(f,4*s);return t&&(g(i,t),i.c=128),i}function g(e,t){for(let n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function y(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function m(e,t,n,i,s){n=n||64,e=r.normalizeInput(e),i&&(i=r.normalizeInput(i)),s&&(s=r.normalizeInput(s));const o=p(n,t,i,s);return g(o,e),y(o)}e.exports={blake2b:m,blake2bHex:function(e,t,n,i,s){const o=m(e,t,n,i,s);return r.toHex(o)},blake2bInit:p,blake2bUpdate:g,blake2bFinal:y}},5659:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});class r{constructor(e,t){this.type=e,this.data=t}}var i=n(7257),s=n(3044);const o={type:-1,encode:function(e){if(e instanceof Date){return function(e){let{sec:t,nsec:n}=e;if(t>=0&&n>=0&&t<=17179869183){if(0===n&&t<=4294967295){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t),e}{const e=t/4294967296,r=4294967295&t,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,n<<2|3&e),s.setUint32(4,r),i}}{const e=new Uint8Array(12),r=new DataView(e.buffer);return r.setUint32(0,n),(0,s._j)(r,4,t),e}}(function(e){const t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}(e))}return null},decode:function(e){const t=function(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:(0,s.eN)(t,4),nsec:t.getUint32(0)};default:throw new i.X("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class a{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(o)}register(e){let{type:t,encode:n,decode:r}=e;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const e=-1-t;this.builtInEncoders[e]=n,this.builtInDecoders[e]=r}}tryToEncode(e,t){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(null!=i){const s=i(e,t);if(null!=s){return new r(-1-n,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(null!=i){const s=i(e,t);if(null!=s){return new r(n,s)}}}return e instanceof r?e:null}decode(e,t,n){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new r(t,e)}}a.defaultCodec=new a},5746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},5771:(e,t,n)=>{"use strict";function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e){if(!r(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function s(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"===typeof e):t.every(e=>Number.isSafeInteger(e))))}function o(e){if("function"!==typeof e)throw new Error("function expected");return!0}function a(e,t){if("string"!==typeof t)throw new Error("".concat(e,": string expected"));return!0}function c(e){if(!Number.isSafeInteger(e))throw new Error("invalid integer: ".concat(e))}function l(e){if(!Array.isArray(e))throw new Error("array expected")}function u(e,t){if(!s(!0,t))throw new Error("".concat(e,": array of strings expected"))}function h(e,t){if(!s(!1,t))throw new Error("".concat(e,": array of numbers expected"))}function d(){const e=e=>e,t=(e,t)=>n=>e(t(n));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return{encode:r.map(e=>e.encode).reduceRight(t,e),decode:r.map(e=>e.decode).reduce(t,e)}}function f(e){const t="string"===typeof e?e.split(""):e,n=t.length;u("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(l(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error('alphabet.encode: digit index outside alphabet "'.concat(r,'". Allowed: ').concat(e));return t[r]})),decode:t=>(l(t),t.map(t=>{a("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a("join",e),{encode:t=>(u("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";return c(e),a("padding",t),{encode(n){for(u("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){u("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--){if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding")}return n.slice(0,r)}}}function y(e){return o(e),{encode:e=>e,decode:t=>e(t)}}function m(e,t,n){if(t<2)throw new Error("convertRadix: invalid from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: invalid to=".concat(n,", base cannot be less than 2"));if(l(e),!e.length)return[];let r=0;const i=[],s=Array.from(e,e=>{if(c(e),e<0||e>=t)throw new Error("invalid integer: ".concat(e));return e}),o=s.length;for(;;){let e=0,a=!0;for(let i=r;i<o;i++){const o=s[i],c=t*e,l=c+o;if(!Number.isSafeInteger(l)||c/t!==e||l-o!==c)throw new Error("convertRadix: carry overflow");const u=l/n;e=l%n;const h=Math.floor(u);if(s[i]=h,!Number.isSafeInteger(h)||h*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(h?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}n.d(t,{RG:()=>I});const w=(e,t)=>0===t?e:w(t,e%t),b=(e,t)=>e+(t-w(e,t)),v=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function E(e,t,n,r){if(l(e),t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(b(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(b(t,n)));let i=0,s=0;const o=v[t],a=v[n]-1,u=[];for(const l of e){if(c(l),l>=o)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(i=i<<t|l,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)u.push((i>>s-n&a)>>>0);const e=v[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error("Non-zero padding: ".concat(i));return r&&s>0&&u.push(i>>>0),u}function A(e){c(e);return{encode:t=>{if(!r(t))throw new Error("radix.encode input should be Uint8Array");return m(Array.from(t),256,e)},decode:t=>(h("radix.decode",t),Uint8Array.from(m(t,e,256)))}}function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(b(8,e)>32||b(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!r(n))throw new Error("radix2.encode input should be Uint8Array");return E(Array.from(n),8,e,!t)},decode:n=>(h("radix2.decode",n),Uint8Array.from(E(n,e,8,t)))}}function S(e){return o(e),function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(i){}}}const k=d(x(4),f("0123456789ABCDEF"),p("")),I=d(x(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g(5),p("")),O=(d(x(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p("")),d(x(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g(5),p("")),d(x(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p("")),d(x(5),f("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),p(""),y(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),(()=>"function"===typeof Uint8Array.from([]).toBase64&&"function"===typeof Uint8Array.fromBase64)()),P=(e,t)=>{a("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},T=O?{encode:e=>(i(e),e.toBase64()),decode:e=>P(e,!1)}:d(x(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g(6),p("")),C=(d(x(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p("")),O?{encode:e=>(i(e),e.toBase64({alphabet:"base64url"})),decode:e=>P(e,!0)}:d(x(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(6),p(""))),N=(d(x(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p("")),e=>d(A(58),f(e),p(""))),R=N("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),_=(N("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),N("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),B={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=R.encode(r).padStart(_[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=_.indexOf(r.length),s=R.decode(r);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},L=d(f("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),p("")),U=[996825010,642813549,513874426,1027748829,705979059];function j(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<U.length;r++)1===(t>>r&1)&&(n^=U[r]);return n}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let s=0;s<r;s++){const t=e.charCodeAt(s);if(t<33||t>126)throw new Error("Invalid prefix (".concat(e,")"));i=j(i)^t>>5}i=j(i);for(let s=0;s<r;s++)i=j(i)^31&e.charCodeAt(s);for(let s of t)i=j(i)^s;for(let s=0;s<6;s++)i=j(i);return i^=n,L.encode(E([i%v[30]],30,5,!1))}function D(e){const t="bech32"===e?1:734539939,n=x(5),i=n.decode,s=n.encode,o=S(i);function c(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;a("bech32.encode prefix",e),r(n)&&(n=Array.from(n)),h("bech32.encode",n);const s=e.length;if(0===s)throw new TypeError("Invalid prefix length ".concat(s));const o=s+7+n.length;if(!1!==i&&o>i)throw new TypeError("Length ".concat(o," exceeds limit ").concat(i));const c=e.toLowerCase(),l=M(c,n,t);return"".concat(c,"1").concat(L.encode(n)).concat(l)}function l(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;a("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError("invalid string length: ".concat(r," (").concat(e,"). Expected (8..").concat(n,")"));const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const o=i.slice(0,s),c=i.slice(s+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const l=L.decode(c).slice(0,-6),u=M(o,l,t);if(!c.endsWith(u))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(u,'"'));return{prefix:o,words:l}}return{encode:c,decode:l,encodeFromBytes:function(e,t){return c(e,s(t))},decodeToBytes:function(e){const{prefix:t,words:n}=l(e,!1);return{prefix:t,words:n,bytes:i(n)}},decodeUnsafe:S(l),fromWords:i,fromWordsUnsafe:o,toWords:s}}D("bech32"),D("bech32m");const F={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};(()=>"function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex)()||d(x(4),f("0123456789abcdef"),p(""),y(e=>{if("string"!==typeof e||e.length%2!==0)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()}))},5871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(296),t),r.__exportStar(n(568),t)},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,y=!1,m=!1,w="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function A(e){if(y=!1,E(e),!g)if(null!==r(l))g=!0,S||(S=!0,x());else{var t=r(u);null!==t&&R(A,t.startTime-e)}}var x,S=!1,k=-1,I=5,O=-1;function P(){return!!m||!(t.unstable_now()-O<I)}function T(){if(m=!1,S){var e=t.unstable_now();O=e;var n=!0;try{e:{g=!1,y&&(y=!1,b(k),k=-1),p=!0;var s=f;try{t:{for(E(e),d=r(l);null!==d&&!(d.expirationTime>e&&P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,E(e),n=!0;break t}d===r(l)&&i(l),E(e)}else i(l);d=r(l)}if(null!==d)n=!0;else{var c=r(u);null!==c&&R(A,c.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?x():S=!1}}}if("function"===typeof v)x=function(){v(T)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,N=C.port2;C.port1.onmessage=T,x=function(){N.postMessage(null)}}else x=function(){w(T,0)};function R(e,n){k=w(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(y?(b(k),k=-1):y=!0,R(A,s-o))):(e.sortIndex=a,n(l,e),g||p||(g=!0,S||(S=!0,x()))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5984:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"===typeof e&&null!==e){var s=n.length+1;if(1===s)return e;var o=new Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(n[a]);return o.join(" ")}if("string"!==typeof e)return e;var c=n.length;if(0===c)return e;for(var l="",u=0,h=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c)break;if(null==n[u])break;h<f&&(l+=e.slice(h,f)),l+=Number(n[u]),h=f+2,f++;break;case 105:if(u>=c)break;if(null==n[u])break;h<f&&(l+=e.slice(h,f)),l+=Math.floor(Number(n[u])),h=f+2,f++;break;case 79:case 111:case 106:if(u>=c)break;if(void 0===n[u])break;h<f&&(l+=e.slice(h,f));var p=typeof n[u];if("string"===p){l+="'"+n[u]+"'",h=f+2,f++;break}if("function"===p){l+=n[u].name||"<anonymous>",h=f+2,f++;break}l+=i(n[u]),h=f+2,f++;break;case 115:if(u>=c)break;h<f&&(l+=e.slice(h,f)),l+=String(n[u]),h=f+2,f++;break;case 37:h<f&&(l+=e.slice(h,f)),l+="%",h=f+2,f++,u--}++u}++f}if(-1===h)return e;h<d&&(l+=e.slice(h));return l}},6121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>x,__makeTemplateObject:()=>A,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6223:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(1195);class i extends r.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.sd)(e);const n=(0,r.ZJ)(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let r=0;r<s.length;r++)s[r]^=54;this.iHash.update(s),this.oHash=e.create();for(let r=0;r<s.length;r++)s[r]^=106;this.oHash.update(s),(0,r.uH)(s)}update(e){return(0,r.CC)(this),this.iHash.update(e),this}digestInto(e){(0,r.CC)(this),(0,r.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s=(e,t,n)=>new i(e,t).update(n).digest();s.create=(e,t)=>new i(e,t)},6454:(e,t)=>{"use strict";function n(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function r(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=r,t.isBrowser=function(){return!n()&&!r()}},6526:(e,t,n)=>{"use strict";n.d(t,{A:()=>w,V:()=>w});var r=n(7284),i=n(9038),s=n.n(i),o=n(8661),a=n(632),c=Object.defineProperty,l=Object.defineProperties,u=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(h)for(var n of h(t))f.call(t,n)&&p(e,n,t[n]);return e},y=(e,t)=>l(e,u(t));const m={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,a.isHttpUrl)(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=(0,o.h)(e),n=await(await s()(this.url,y(g({},m),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!(0,a.isHttpUrl)(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=(0,o.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await s()(e,y(g({},m),{body:t}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,o.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,a.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,a.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},6613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>I,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>x,__makeTemplateObject:()=>A,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.2.0"},6765:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>u,XW:()=>h,fO:()=>c,jf:()=>l,zR:()=>a});const r="PARSE_ERROR",i="INVALID_REQUEST",s="METHOD_NOT_FOUND",o="INVALID_PARAMS",a="INTERNAL_ERROR",c="SERVER_ERROR",l=[-32700,-32600,-32601,-32602,-32603],u={[r]:{code:-32700,message:"Parse error"},[i]:{code:-32600,message:"Invalid Request"},[s]:{code:-32601,message:"Method not found"},[o]:{code:-32602,message:"Invalid params"},[a]:{code:-32603,message:"Internal error"},[c]:{code:-32e3,message:"Server error"}},h=c},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),s=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var O=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function C(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case x:return"Suspense";case S:return"SuspenseList";case O:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case y:return"Portal";case E:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var _=Array.isArray,B=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},j=[],M=-1;function D(e){return{current:e}}function F(e){0>M||(e.current=j[M],j[M]=null,M--)}function z(e,t){M++,j[M]=e.current,e.current=t}var H,q,V=D(null),W=D(null),K=D(null),G=D(null);function Q(e,t){switch(z(K,t),z(W,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wh(t=mh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(V),z(V,e)}function J(){F(V),F(W),F(K)}function Y(e){null!==e.memoizedState&&z(G,e);var t=V.current,n=wh(t,e.type);t!==n&&(z(W,e),z(V,n))}function Z(e){W.current===e&&(F(V),F(W)),G.current===e&&(F(G),ud._currentValue=U)}function X(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+q}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split("\n"),l=a.split("\n");for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||c[r]!==l[i]){var u="\n"+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,ce=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,ye=r.unstable_setDisableYieldValue,me=null,we=null;function be(e){if("function"===typeof ge&&ye(e),we&&"function"===typeof we.setStrictMode)try{we.setStrictMode(me,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ee(e)/Ae|0)|0},Ee=Math.log,Ae=Math.LN2;var xe=256,Se=262144,ke=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=Ie(r):0!==(o&=a)?i=Ie(o):n||0!==(n=a&~e)&&(i=Ie(n)):0!==(a=r&~s)?i=Ie(a):0!==o?i=Ie(o):n||0!==(n=r&~e)&&(i=Ie(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Pe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ve(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Be(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ve(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ue(n))&(e.suspendedLanes|t))?0:n}function Ue(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Id(e.type)}function De(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Fe=Math.random().toString(36).slice(2),ze="__reactFiber$"+Fe,He="__reactProps$"+Fe,qe="__reactContainer$"+Fe,Ve="__reactEvents$"+Fe,We="__reactListeners$"+Fe,Ke="__reactHandles$"+Fe,Ge="__reactResources$"+Fe,Qe="__reactMarker$"+Fe;function Je(e){delete e[ze],delete e[He],delete e[Ve],delete e[We],delete e[Ke]}function Ye(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Uh(e);null!==e;){if(n=e[ze])return n;e=Uh(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[ze]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function $e(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function ct(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var yt=/[\n"\\]/g;function mt(e){return e.replace(yt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ht(t)):null!=n?vt(e,o,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function bt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function vt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Et(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function At(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(_(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ot(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&It(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&It(e,s,t[s])}function Pt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var _t=null;function Bt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ut=null;function jt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[He]||null;if(!i)throw Error(o(90));wt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":At(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Et(e,!!n.multiple,t,!1)}}}var Mt=!1;function Dt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Lt||null!==Ut)&&($l(),Lt&&(t=Lt,e=Ut,Ut=Lt=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[He]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(zt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Zd){Ht=!1}var Vt=null,Wt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=Wt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Yt(){return!1}function Zt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Jt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Xt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=f({},tn,{view:0,detail:0}),sn=Zt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),an=Zt(on),cn=Zt(f({},on,{dataTransfer:0})),ln=Zt(f({},rn,{relatedTarget:0})),un=Zt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Zt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Zt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function mn(){return yn}var wn=Zt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Zt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Zt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),En=Zt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=Zt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Zt(f({},tn,{newState:0,oldState:0})),Sn=[9,13,27,32],kn=zt&&"CompositionEvent"in window,In=null;zt&&"documentMode"in document&&(In=document.documentMode);var On=zt&&"TextEvent"in window&&!In,Pn=zt&&(!kn||In&&8<In&&11>=In),Tn=String.fromCharCode(32),Cn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _n=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Un(e,t,n,r){Lt?Ut?Ut.push(r):Ut=[r]:Lt=r,0<(t=rh(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Mn=null;function Dn(e){Ju(e,0)}function Fn(e){if(pt(Xe(e)))return e}function zn(e,t){if("change"===e)return t}var Hn=!1;if(zt){var qn;if(zt){var Vn="oninput"in document;if(!Vn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Vn="function"===typeof Wn.oninput}qn=Vn}else qn=!1;Hn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){jn&&(jn.detachEvent("onpropertychange",Gn),Mn=jn=null)}function Gn(e){if("value"===e.propertyName&&Fn(Mn)){var t=[];Un(t,Mn,e,Bt(e)),Dt(Dn,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Mn=n,(jn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Mn)}function Yn(e,t){if("click"===e)return Fn(t)}function Zn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=zt&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,cr=null,lr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==or||or!==gt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&$n(cr,r)||(cr=r,0<(r=rh(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function gr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}zt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var yr=gr("animationend"),mr=gr("animationiteration"),wr=gr("animationstart"),br=gr("transitionrun"),vr=gr("transitionstart"),Er=gr("transitioncancel"),Ar=gr("transitionend"),xr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),rt(t,[e])}Sr.push("scrollEnd");var Ir="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Or=[],Pr=0,Tr=0;function Cr(){for(var e=Pr,t=Tr=Pr=0;t<e;){var n=Or[t];Or[t++]=null;var r=Or[t];Or[t++]=null;var i=Or[t];Or[t++]=null;var s=Or[t];if(Or[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Br(n,i,s)}}function Nr(e,t,n,r){Or[Pr++]=e,Or[Pr++]=t,Or[Pr++]=n,Or[Pr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Nr(e,t,n,r),Lr(e)}function _r(e,t){return Nr(e,null,null,t),Lr(e)}function Br(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-ve(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Vl)throw Vl=0,Wl=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ur={};function jr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new jr(e,t,n,r)}function Dr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Dr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case O:return(e=Mr(31,n,t,i)).elementType=O,e.lanes=s,e;case m:return qr(n.children,i,s,t);case w:a=8,i|=24;break;case b:return(e=Mr(12,n,t,2|i)).elementType=b,e.lanes=s,e;case x:return(e=Mr(13,n,t,i)).elementType=x,e.lanes=s,e;case S:return(e=Mr(19,n,t,i)).elementType=S,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case v:a=9;break e;case A:a=11;break e;case k:a=14;break e;case I:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function qr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Wr(e){var t=Mr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Jr=[],Yr=0,Zr=null,Xr=0,$r=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Jr[Yr++]=Xr,Jr[Yr++]=Zr,Zr=e,Xr=t}function si(e,t,n){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-ve(r)-1;r&=~(1<<i),n+=1;var s=32-ve(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-ve(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function ai(e){for(;e===Zr;)Zr=Jr[--Yr],Jr[Yr]=null,Xr=Jr[--Yr],Jr[Yr]=null;for(;e===ti;)ti=$r[--ei],$r[ei]=null,ri=$r[--ei],$r[ei]=null,ni=$r[--ei],$r[ei]=null}function ci(e,t){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var li=null,ui=null,hi=!1,di=null,fi=!1,pi=Error(o(519));function gi(e){throw Ei(Qr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function yi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[He]=r,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Yu(Gu[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||lh(t.textContent,n)?(null!=r.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=r.onScroll&&Yu("scroll",t),null!=r.onScrollEnd&&Yu("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||gi(e,!0)}function mi(e){for(li=e.return;li;)switch(li.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:li=li.return}}function wi(e){if(e!==li)return!1;if(!hi)return mi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bh(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),mi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Lh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Lh(e)}else 27===n?(n=ui,Ih(e.type)?(e=Bh,Bh=null,ui=e):ui=n):ui=li?_h(e.stateNode.nextSibling):null;return!0}function bi(){ui=li=null,hi=!1}function vi(){var e=di;return null!==e&&(null===Cl?Cl=e:Cl.push.apply(Cl,e),di=null),e}function Ei(e){null===di?di=[e]:di.push(e)}var Ai=D(null),xi=null,Si=null;function ki(e,t,n){z(Ai,t._currentValue),t._currentValue=n}function Ii(e){e._currentValue=Ai.current,F(Ai)}function Oi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var c=s;s=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Oi(s.return,n,e),r||(a=null);break e}s=c.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Oi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ti(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var c=i.type;Xn(i.pendingProps.value,a.value)||(null!==e?e.push(c):e=[c])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(ud):e=[ud])}i=i.return}null!==e&&Pi(t,e,n,r),t.flags|=262144}function Ci(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){xi=e,Si=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return Bi(xi,e)}function _i(e,t){return null===xi&&Ni(e),Bi(e,t)}function Bi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Si){if(null===e)throw Error(o(308));Si=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Si=Si.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ui=r.unstable_scheduleCallback,ji=r.unstable_NormalPriority,Mi={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Di(){return{controller:new Li,data:new Map,refCount:0}}function Fi(e){e.refCount--,0===e.refCount&&Ui(ji,function(){e.controller.abort()})}var zi=null,Hi=0,qi=0,Vi=null;function Wi(){if(0===--Hi&&null!==zi){null!==Vi&&(Vi.status="fulfilled");var e=zi;zi=null,qi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=B.S;B.S=function(e,t){_l=ce(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Hi=0,qi=Hu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Wi,Wi)}(0,t),null!==Ki&&Ki(e,t)};var Gi=D(null);function Qi(){var e=Gi.current;return null!==e?e:pl.pooledCache}function Ji(e,t){z(Gi,null===t?Gi.current:t.pool)}function Yi(){var e=Qi();return null===e?null:{parent:Mi._currentValue,pool:e}}var Zi=Error(o(460)),Xi=Error(o(474)),$i=Error(o(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=pl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw is=t,Zi}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw is=t,Zi;throw t}}var is=null;function ss(){if(null===is)throw Error(o(459));var e=is;return is=null,e}function os(e){if(e===Zi||e===$i)throw Error(o(483))}var as=null,cs=0;function ls(e){var t=cs;return cs+=1,null===as&&(as=[]),ns(as,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ds(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===m?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&rs(s)===t.type)?(us(t=i(t,n.props),n),t.return=e,t):(us(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=qr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return us(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case y:return(t=Kr(t,e.mode,n)).return=e,t;case I:return d(e,t=rs(t),n)}if(_(t)||C(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,ls(t),n);if(t.$$typeof===E)return d(e,_i(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case y:return n.key===i?u(e,t,n,r):null;case I:return f(e,t,n=rs(n),r)}if(_(n)||C(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ls(n),r);if(n.$$typeof===E)return f(e,t,_i(e,n),r);hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,r=rs(r),i)}if(_(r)||C(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,ls(r),i);if(r.$$typeof===E)return p(e,t,n,_i(t,r),i);hs(t,r)}return null}function w(c,l,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var b=u.key;null!==l;){if(l.key===b){if((b=u.type)===m){if(7===l.tag){n(c,l.sibling),(h=i(l,u.props.children)).return=c,c=h;break e}}else if(l.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===I&&rs(b)===l.type){n(c,l.sibling),us(h=i(l,u.props),u),h.return=c,c=h;break e}n(c,l);break}t(c,l),l=l.sibling}u.type===m?((h=qr(u.props.children,c.mode,h,u.key)).return=c,c=h):(us(h=Hr(u.type,u.key,u.props,null,c.mode,h),u),h.return=c,c=h)}return a(c);case y:e:{for(b=u.key;null!==l;){if(l.key===b){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(c,l.sibling),(h=i(l,u.children||[])).return=c,c=h;break e}n(c,l);break}t(c,l),l=l.sibling}(h=Kr(u,c.mode,h)).return=c,c=h}return a(c);case I:return w(c,l,u=rs(u),h)}if(_(u))return function(i,o,a,c){for(var l=null,u=null,h=o,g=o=0,y=null;null!==h&&g<a.length;g++){h.index>g?(y=h,h=null):y=h.sibling;var m=f(i,h,a[g],c);if(null===m){null===h&&(h=y);break}e&&h&&null===m.alternate&&t(i,h),o=s(m,o,g),null===u?l=m:u.sibling=m,u=m,h=y}if(g===a.length)return n(i,h),hi&&ii(i,g),l;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],c))&&(o=s(h,o,g),null===u?l=h:u.sibling=h,u=h);return hi&&ii(i,g),l}for(h=r(h);g<a.length;g++)null!==(y=p(h,i,g,a[g],c))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),o=s(y,o,g),null===u?l=y:u.sibling=y,u=y);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,g),l}(c,l,u,h);if(C(u)){if("function"!==typeof(b=C(u)))throw Error(o(150));return function(i,a,c,l){if(null==c)throw Error(o(151));for(var u=null,h=null,g=a,y=a=0,m=null,w=c.next();null!==g&&!w.done;y++,w=c.next()){g.index>y?(m=g,g=null):m=g.sibling;var b=f(i,g,w.value,l);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,y),null===h?u=b:h.sibling=b,h=b,g=m}if(w.done)return n(i,g),hi&&ii(i,y),u;if(null===g){for(;!w.done;y++,w=c.next())null!==(w=d(i,w.value,l))&&(a=s(w,a,y),null===h?u=w:h.sibling=w,h=w);return hi&&ii(i,y),u}for(g=r(g);!w.done;y++,w=c.next())null!==(w=p(g,i,y,w.value,l))&&(e&&null!==w.alternate&&g.delete(null===w.key?y:w.key),a=s(w,a,y),null===h?u=w:h.sibling=w,h=w);return e&&g.forEach(function(e){return t(i,e)}),hi&&ii(i,y),u}(c,l,u=b.call(u),h)}if("function"===typeof u.then)return w(c,l,ls(u),h);if(u.$$typeof===E)return w(c,l,_i(c,u),h);hs(c,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==l&&6===l.tag?(n(c,l.sibling),(h=i(l,u)).return=c,c=h):(n(c,l),(h=Vr(u,c.mode,h)).return=c,c=h),a(c)):n(c,l)}return function(e,t,n,r){try{cs=0;var i=w(e,t,n,r);return as=null,i}catch(o){if(o===Zi||o===$i)throw o;var s=Mr(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=ds(!0),ps=ds(!1),gs=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Br(e,null,n),t}return Nr(e,r,t,n),Lr(e)}function vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Be(e,n)}}function Es(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var As=!1;function xs(){if(As){if(null!==Vi)throw Vi}}function Ss(e,t,n,r){As=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(o=0,u=l=c=null,a=s;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(yl&d)===d:(r&d)===d){0!==d&&d===qi&&(As=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,y=a;d=t;var m=n;switch(y.tag){case 1:if("function"===typeof(g=y.payload)){h=g.call(m,h,d);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=y.payload)?g.call(m,h,d):g)||void 0===d)break e;h=f({},h,d);break e;case 2:gs=!0}}null!==(d=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=p,c=h):u=u.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),Sl|=o,e.lanes=o,e.memoizedState=h}}function ks(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Is(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ks(n[e],t)}var Os=D(null),Ps=D(0);function Ts(e,t){z(Ps,e=Al),z(Os,t),Al=e|t.baseLanes}function Cs(){z(Ps,Al),z(Os,Os.current)}function Ns(){Al=Ps.current,F(Os),F(Ps)}var Rs=D(null),_s=null;function Bs(e){var t=e.alternate;z(Ds,1&Ds.current),z(Rs,e),null===_s&&(null===t||null!==Os.current||null!==t.memoizedState)&&(_s=e)}function Ls(e){z(Ds,Ds.current),z(Rs,e),null===_s&&(_s=e)}function Us(e){22===e.tag?(z(Ds,Ds.current),z(Rs,e),null===_s&&(_s=e)):js()}function js(){z(Ds,Ds.current),z(Rs,Rs.current)}function Ms(e){F(Rs),_s===e&&(_s=null),F(Ds)}var Ds=D(0);function Fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Nh(n)||Rh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=0,Hs=null,qs=null,Vs=null,Ws=!1,Ks=!1,Gs=!1,Qs=0,Js=0,Ys=null,Zs=0;function Xs(){throw Error(o(321))}function $s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,s){return zs=s,Hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=null===e||null===e.memoizedState?ya:ma,Gs=!1,s=n(r,i),Gs=!1,Ks&&(s=no(t,n,r,i)),to(e),s}function to(e){B.H=ga;var t=null!==qs&&null!==qs.next;if(zs=0,Vs=qs=Hs=null,Ws=!1,Js=0,Ys=null,t)throw Error(o(300));null===e||_a||null!==(e=e.dependencies)&&Ci(e)&&(_a=!0)}function no(e,t,n,r){Hs=e;var i=0;do{if(Ks&&(Ys=null),Js=0,Ks=!1,25<=i)throw Error(o(301));if(i+=1,Vs=qs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}B.H=wa,s=t(n,r)}while(Ks);return s}function ro(){var e=B.H,t=e.useState()[0];return t="function"===typeof t.then?lo(t):t,e=e.useState()[0],(null!==qs?qs.memoizedState:null)!==e&&(Hs.flags|=1024),t}function io(){var e=0!==Qs;return Qs=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ws=!1}zs=0,Vs=qs=Hs=null,Ks=!1,Js=Qs=0,Ys=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vs?Hs.memoizedState=Vs=e:Vs=Vs.next=e,Vs}function co(){if(null===qs){var e=Hs.alternate;e=null!==e?e.memoizedState:null}else e=qs.next;var t=null===Vs?Hs.memoizedState:Vs.next;if(null!==t)Vs=t,qs=e;else{if(null===e){if(null===Hs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(qs=e).memoizedState,baseState:qs.baseState,baseQueue:qs.baseQueue,queue:qs.queue,next:null},null===Vs?Hs.memoizedState=Vs=e:Vs=Vs.next=e}return Vs}function lo(e){var t=Js;return Js+=1,null===Ys&&(Ys=[]),e=ns(Ys,e,t),t=Hs,null===(null===Vs?t.memoizedState:Vs.next)&&(t=t.alternate,B.H=null===t||null===t.memoizedState?ya:ma),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return lo(e);if(e.$$typeof===E)return Ri(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Hs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Hs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=P;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return go(co(),qs,e)}function go(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var c=a=null,l=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(yl&d)===d:(zs&d)===d){var f=u.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===qi&&(h=!0);else{if((zs&f)===f){u=u.next,f===qi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=d,a=s):l=l.next=d,Hs.lanes|=f,Sl|=f}d=u.action,Gs&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,a=s):l=l.next=f,Hs.lanes|=d,Sl|=d;u=u.next}while(null!==u&&u!==t);if(null===l?a=s:l.next=c,!Xn(s,e.memoizedState)&&(_a=!0,h&&null!==(n=Vi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=l,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function yo(e){var t=co(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Xn(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function mo(e,t,n){var r=Hs,i=co(),s=hi;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Xn((qs||i).memoizedState,n);if(a&&(i.memoizedState=n,_a=!0),i=i.queue,Ho(vo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Vs&&1&Vs.memoizedState.tag){if(r.flags|=2048,jo(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===pl)throw Error(o(349));s||0!==(127&zs)||wo(r,t,n)}return n}function wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&Ao(e)}function vo(e,t,n){return n(function(){Eo(t)&&Ao(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Ao(e){var t=_r(e,2);null!==t&&Ql(t,e,2)}function xo(e){var t=ao();if("function"===typeof e){var n=e;if(e=n(),Gs){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function So(e,t,n,r){return e.baseState=n,go(e,qs,"function"===typeof r?r:fo)}function ko(e,t,n,r,i){if(da(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==B.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Io(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Io(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=B.T,o={};B.T=o;try{var a=n(i,r),c=B.S;null!==c&&c(o,a),Oo(e,t,a)}catch(l){To(e,t,l)}finally{null!==s&&null!==o.types&&(s.types=o.types),B.T=s}}else try{Oo(e,t,s=n(i,r))}catch(u){To(e,t,u)}}function Oo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Po(e,t,n)},function(n){return To(e,t,n)}):Po(e,t,n)}function Po(e,t,n){t.status="fulfilled",t.value=n,Co(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Io(e,n)))}function To(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Co(t),t=t.next}while(t!==r)}e.action=null}function Co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function No(e,t){return t}function Ro(e,t){if(hi){var n=pl.formState;if(null!==n){e:{var r=Hs;if(hi){if(ui){t:{for(var i=ui,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=_h(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ui=_h(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},n.queue=r,n=la.bind(null,Hs,r),r.dispatch=n,r=xo(!1),s=ha.bind(null,Hs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=ko.bind(null,Hs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function _o(e){return Bo(co(),qs,e)}function Bo(e,t,n){if(t=go(e,t,No)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=lo(t)}catch(o){if(o===Zi)throw $i;throw o}else r=t;var i=(t=co()).queue,s=i.dispatch;return n!==t.memoizedState&&(Hs.flags|=2048,jo(9,{destroy:void 0},Lo.bind(null,i,n),null)),[r,s,e]}function Lo(e,t){e.action=t}function Uo(e){var t=co(),n=qs;if(null!==n)return Bo(t,n,e);co(),t=t.memoizedState;var r=(n=co()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function jo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Hs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mo(){return co().memoizedState}function Do(e,t,n,r){var i=ao();Hs.flags|=e,i.memoizedState=jo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fo(e,t,n,r){var i=co();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==qs&&null!==r&&$s(r,qs.memoizedState.deps)?i.memoizedState=jo(t,s,n,r):(Hs.flags|=e,i.memoizedState=jo(1|t,s,n,r))}function zo(e,t){Do(8390656,8,e,t)}function Ho(e,t){Fo(2048,8,e,t)}function qo(e){var t=co().memoizedState;return function(e){Hs.flags|=4;var t=Hs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fl))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Vo(e,t){return Fo(4,2,e,t)}function Wo(e,t){return Fo(4,4,e,t)}function Ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Jo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&$s(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&$s(t,r[1]))return r[0];if(r=e(),Gs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Zo(e,t,n){return void 0===n||0!==(1073741824&zs)&&0===(261930&yl)?e.memoizedState=t:(e.memoizedState=n,e=Gl(),Hs.lanes|=e,Sl|=e,n)}function Xo(e,t,n,r){return Xn(n,t)?n:null!==Os.current?(e=Zo(e,n,r),Xn(e,t)||(_a=!0),e):0===(42&zs)||0!==(1073741824&zs)&&0===(261930&yl)?(_a=!0,e.memoizedState=n):(e=Gl(),Hs.lanes|=e,Sl|=e,t)}function $o(e,t,n,r,i){var s=L.p;L.p=0!==s&&8>s?s:8;var o=B.T,a={};B.T=a,ha(e,!1,t,n);try{var c=i(),l=B.S;if(null!==l&&l(a,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(c,r),Kl());else ua(e,t,r,Kl())}catch(u){ua(e,t,{then:function(){},status:"rejected",reason:u},Kl())}finally{L.p=s,null!==o&&null!==a.types&&(o.types=a.types),B.T=o}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=na(e).queue;$o(e,i,t,U,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Kl())}function ia(){return Ri(ud)}function sa(){return co().memoizedState}function oa(){return co().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kl(),r=bs(t,e=ws(n),n);return null!==r&&(Ql(r,t,n),vs(r,t,n)),t={cache:Di()},void(e.payload=t)}t=t.return}}function ca(e,t,n){var r=Kl();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},da(e)?fa(t,n):null!==(n=Rr(e,t,n,r))&&(Ql(n,e,r),pa(n,t,r))}function la(e,t,n){ua(e,t,n,Kl())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(da(e))fa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xn(a,o))return Nr(e,t,i,0),null===pl&&Cr(),!1}catch(c){}if(null!==(n=Rr(e,t,i,r)))return Ql(n,e,r),pa(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},da(e)){if(t)throw Error(o(479))}else null!==(t=Rr(e,n,r,2))&&Ql(t,e,2)}function da(e){var t=e.alternate;return e===Hs||null!==t&&t===Hs}function fa(e,t){Ks=Ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Be(e,n)}}var ga={readContext:Ri,use:uo,useCallback:Xs,useContext:Xs,useEffect:Xs,useImperativeHandle:Xs,useLayoutEffect:Xs,useInsertionEffect:Xs,useMemo:Xs,useReducer:Xs,useRef:Xs,useState:Xs,useDebugValue:Xs,useDeferredValue:Xs,useTransition:Xs,useSyncExternalStore:Xs,useId:Xs,useHostTransitionStatus:Xs,useFormState:Xs,useActionState:Xs,useOptimistic:Xs,useMemoCache:Xs,useCacheRefresh:Xs};ga.useEffectEvent=Xs;var ya={readContext:Ri,use:uo,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:zo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){Do(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Gs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Gs){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ca.bind(null,Hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=xo(e)).queue,n=la.bind(null,Hs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qo,useDeferredValue:function(e,t){return Zo(ao(),e,t)},useTransition:function(){var e=xo(!1);return e=$o.bind(null,Hs,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Hs,i=ao();if(hi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===pl)throw Error(o(349));0!==(127&yl)||wo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zo(vo.bind(null,r,s,e),[e]),r.flags|=2048,jo(9,{destroy:void 0},bo.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=pl.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-ve(ni)-1)).toString(32)+n),0<(n=Qs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:Ro,useActionState:Ro,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,Hs,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ao().memoizedState=aa.bind(null,Hs)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fl))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ma={readContext:Ri,use:uo,useCallback:Jo,useContext:Ri,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Yo,useReducer:po,useRef:Mo,useState:function(){return po(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){return Xo(co(),qs.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=co().memoizedState;return["boolean"===typeof e?e:lo(e),t]},useSyncExternalStore:mo,useId:sa,useHostTransitionStatus:ia,useFormState:_o,useActionState:_o,useOptimistic:function(e,t){return So(co(),0,e,t)},useMemoCache:ho,useCacheRefresh:oa};ma.useEffectEvent=qo;var wa={readContext:Ri,use:uo,useCallback:Jo,useContext:Ri,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Yo,useReducer:yo,useRef:Mo,useState:function(){return yo(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){var n=co();return null===qs?Zo(n,e,t):Xo(n,qs.memoizedState,e,t)},useTransition:function(){var e=yo(fo)[0],t=co().memoizedState;return["boolean"===typeof e?e:lo(e),t]},useSyncExternalStore:mo,useId:sa,useHostTransitionStatus:ia,useFormState:Uo,useActionState:Uo,useOptimistic:function(e,t){var n=co();return null!==qs?So(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:oa};function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}wa.useEffectEvent=qo;var va={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kl(),i=ws(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Ql(t,e,r),vs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kl(),i=ws(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Ql(t,e,r),vs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kl(),r=ws(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bs(e,r,n))&&(Ql(t,e,n),vs(t,e,n))}};function Ea(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,s))}function Aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&va.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Sa(e){Ir(e)}function ka(e){console.error(e)}function Ia(e){Ir(e)}function Oa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Pa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ta(e,t,n){return(n=ws(n)).tag=3,n.payload={element:null},n.callback=function(){Oa(e,t)},n}function Ca(e){return(e=ws(e)).tag=3,e}function Na(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Pa(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Pa(t,n,r),"function"!==typeof i&&(null===Ul?Ul=new Set([this]):Ul.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ra=Error(o(461)),_a=!1;function Ba(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ni(t),r=eo(e,t,n,o,s,i),a=io(),null===e||_a?(hi&&a&&oi(t),t.flags|=1,Ba(e,t,r,i),t.child):(so(e,t,i),ic(e,t,i))}function Ua(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ja(e,t,s,r,i))}if(s=e.child,!sc(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(o,r)&&e.ref===t.ref)return ic(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function ja(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if($n(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,!sc(e,i))return t.lanes=e.lanes,ic(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Va(e,t,n,r,i)}function Ma(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Fa(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Fa(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==s?s.cachePool:null),null!==s?Ts(t,s):Cs(),Us(t)}else null!==s?(Ji(0,s.cachePool),Ts(t,s),js(),t.memoizedState=null):(null!==e&&Ji(0,null),Cs(),js());return Ba(e,t,i,n),t.child}function Da(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fa(e,t,n,r,i){var s=Qi();return s=null===s?null:{parent:Mi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ji(0,null),Cs(),Us(t),null!==e&&Ti(e,t,r,!0),t.childLanes=i,null}function za(e,t){return(t=$a({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ha(e,t,n){return fs(t,e.child,null,n),(e=za(t,t.pendingProps)).flags|=2,Ms(t),t.memoizedState=null,e}function qa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Va(e,t,n,r,i){return Ni(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||_a?(hi&&r&&oi(t),t.flags|=1,Ba(e,t,n,i),t.child):(so(e,t,i),ic(e,t,i))}function Wa(e,t,n,r,i,s){return Ni(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||_a?(hi&&r&&oi(t),t.flags|=1,Ba(e,t,n,s),t.child):(so(e,t,s),ic(e,t,s))}function Ka(e,t,n,r,i){if(Ni(t),null===t.stateNode){var s=Ur,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ri(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=va,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ys(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ri(o):Ur,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ba(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&va.enqueueReplaceState(s,s.state,null),Ss(t,r,s,i),xs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,c=xa(n,a);s.props=c;var l=s.context,u=n.contextType;o=Ur,"object"===typeof u&&null!==u&&(o=Ri(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||l!==o)&&Aa(t,s,r,o),gs=!1;var d=t.memoizedState;s.state=d,Ss(t,r,s,i),xs(),l=t.memoizedState,a||d!==l||gs?("function"===typeof h&&(ba(t,n,h,r),l=t.memoizedState),(c=gs||Ea(t,n,c,r,d,l,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=o,r=c):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ms(e,t),u=xa(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,l=n.contextType,c=Ur,"object"===typeof l&&null!==l&&(c=Ri(l)),(l="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==c)&&Aa(t,s,r,c),gs=!1,d=t.memoizedState,s.state=d,Ss(t,r,s,i),xs();var f=t.memoizedState;o!==h||d!==f||gs||null!==e&&null!==e.dependencies&&Ci(e.dependencies)?("function"===typeof a&&(ba(t,n,a,r),f=t.memoizedState),(u=gs||Ea(t,n,u,r,d,f,c)||null!==e&&null!==e.dependencies&&Ci(e.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=c,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,qa(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Ba(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ic(e,t,i),e}function Ga(e,t,n,r){return bi(),t.flags|=256,Ba(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ja(e){return{baseLanes:e,cachePool:Yi()}}function Ya(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ol),e}function Za(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ds.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?Bs(t):js(),(e=ui)?null!==(e=null!==(e=Ch(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,li=t,ui=null):e=null,null===e)throw gi(t);return Rh(e)?t.lanes=32:t.lanes=536870912,null}var c=i.children;return i=i.fallback,s?(js(),c=$a({mode:"hidden",children:c},s=t.mode),i=qr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(i=t.child).memoizedState=Ja(n),i.childLanes=Ya(e,r,n),t.memoizedState=Qa,Da(null,i)):(Bs(t),Xa(t,c))}var l=e.memoizedState;if(null!==l&&null!==(c=l.dehydrated)){if(a)256&t.flags?(Bs(t),t.flags&=-257,t=ec(e,t,n)):null!==t.memoizedState?(js(),t.child=e.child,t.flags|=128,t=null):(js(),c=i.fallback,s=t.mode,i=$a({mode:"visible",children:i.children},s),(c=qr(c,s,n,null)).flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=Ja(n),i.childLanes=Ya(e,r,n),t.memoizedState=Qa,t=Da(null,i));else if(Bs(t),Rh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,Ei({value:i,source:null,stack:null}),t=ec(e,t,n)}else if(_a||Ti(e,t,n,!1),r=0!==(n&e.childLanes),_a||r){if(null!==(r=pl)&&(0!==(i=Le(r,n))&&i!==l.retryLane))throw l.retryLane=i,_r(e,i),Ql(r,e,i),Ra;Nh(c)||ou(),t=ec(e,t,n)}else Nh(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ui=_h(c.nextSibling),li=t,hi=!0,di=null,fi=!1,null!==e&&ci(t,e),(t=Xa(t,i.children)).flags|=4096);return t}return s?(js(),c=i.fallback,s=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?c=Fr(u,c):(c=qr(c,s,n,null)).flags|=2,c.return=t,i.return=t,i.sibling=c,t.child=i,Da(null,i),i=t.child,null===(c=e.child.memoizedState)?c=Ja(n):(null!==(s=c.cachePool)?(l=Mi._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=Yi(),c={baseLanes:c.baseLanes|n,cachePool:s}),i.memoizedState=c,i.childLanes=Ya(e,r,n),t.memoizedState=Qa,Da(e.child,i)):(Bs(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=$a({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $a(e,t){return(e=Mr(22,e,null,t)).lanes=0,e}function ec(e,t,n){return fs(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tc(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oi(e.return,t,n)}function nc(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function rc(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Ds.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,z(Ds,o),Ba(e,t,r,n),r=hi?Xr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tc(e,n,t);else if(19===e.tag)tc(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nc(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nc(t,!0,n,null,s,r);break;case"together":nc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ic(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ti(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sc(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ci(e))}function oc(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_a=!0;else{if(!sc(e,n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),ki(0,Mi,e.memoizedState.cache),bi();break;case 27:case 5:Y(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:ki(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Bs(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Za(e,t,n):(Bs(t),null!==(e=ic(e,t,n))?e.sibling:null);Bs(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ti(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rc(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(Ds,Ds.current),r)break;return null;case 22:return t.lanes=0,Ma(e,t,n,t.pendingProps);case 24:ki(0,Mi,e.memoizedState.cache)}return ic(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,hi&&0!==(1048576&t.flags)&&si(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===A){t.tag=11,t=La(null,t,e,r,n);break e}if(i===k){t.tag=14,t=Ua(null,t,e,r,n);break e}}throw t=R(e)||e,Error(o(306,t,""))}Dr(e)?(r=xa(e,r),t.tag=1,t=Ka(null,t,e,r,n)):(t.tag=0,t=Va(null,t,e,r,n))}return t;case 0:return Va(e,t,t.type,t.pendingProps,n);case 1:return Ka(e,t,r=t.type,i=xa(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ms(e,t),Ss(t,r,null,n);var a=t.memoizedState;if(r=a.cache,ki(0,Mi,r),r!==s.cache&&Pi(t,[Mi],n,!0),xs(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ga(e,t,r,n);break e}if(r!==i){Ei(i=Qr(Error(o(424)),t)),t=Ga(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=_h(e.firstChild),li=t,hi=!0,di=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=ic(e,t,n);break e}Ba(e,t,r,n)}t=t.child}return t;case 26:return qa(e,t),null===e?(n=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=yh(K.current).createElement(n))[ze]=t,r[He]=e,dh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&hi&&(r=t.stateNode=jh(t.type,t.pendingProps,K.current),li=t,fi=!0,i=ui,Ih(t.type)?(Bh=i,ui=_h(r.firstChild)):ui=i),Ba(e,t,t.pendingProps.children,n),qa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=_h(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,li=t,ui=_h(r.firstChild),fi=!1,i=!0):i=!1),i||gi(t)),Y(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,bh(i,s)?r=null:null!==a&&bh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),ud._currentValue=i),qa(e,t),Ba(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=_h(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,li=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return Za(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return La(e,t,t.type,t.pendingProps,n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ki(0,t.type,r.value),Ba(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ni(t),r=r(i=Ri(i)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return Ua(e,t,t.type,t.pendingProps,n);case 15:return ja(e,t,t.type,t.pendingProps,n);case 19:return rc(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=za(t,r),t.lanes=536870912,Da(null,e);if(Ls(t),(e=ui)?null!==(e=null!==(e=Ch(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,li=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return za(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(Ls(t),i)if(256&t.flags)t.flags&=-257,t=Ha(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(_a||Ti(e,t,n,!1),i=0!==(n&e.childLanes),_a||i){if(null!==(r=pl)&&0!==(a=Le(r,n))&&a!==s.retryLane)throw s.retryLane=a,_r(e,a),Ql(r,e,a),Ra;ou(),t=Ha(e,t,n)}else e=s.treeContext,ui=_h(a.nextSibling),li=t,hi=!0,di=null,fi=!1,null!==e&&ci(t,e),(t=za(t,r)).flags|=4096;return t}return(e=Fr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ma(e,t,n,t.pendingProps);case 24:return Ni(t),r=Ri(Mi),null===e?(null===(i=Qi())&&(i=pl,s=Di(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ys(t),ki(0,Mi,i)):(0!==(e.lanes&n)&&(ms(e,t),Ss(t,null,null,n),xs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ki(0,Mi,r)):(r=s.cache,ki(0,Mi,r),r!==i.cache&&Pi(t,[Mi],n,!0))),Ba(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ac(e){e.flags|=4}function cc(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw is=es,Xi;e.flags|=8192}}else e.flags&=-16777217}function lc(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(!ru())throw is=es,Xi;e.flags|=8192}}function uc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,Pl|=t)}function hc(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fc(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dc(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ii(Mi),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wi(t)?ac(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,vi())),dc(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ac(t),null!==s?(dc(t),lc(t,s)):(dc(t),cc(t,i,0,0,n))):s?s!==e.memoizedState?(ac(t),dc(t),lc(t,s)):(dc(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ac(t),dc(t),cc(t,i,0,0,n)),null;case 27:if(Z(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dc(t),null}e=V.current,wi(t)?yi(t):(e=jh(i,r,n),t.stateNode=e,ac(t))}return dc(t),null;case 5:if(Z(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dc(t),null}if(s=V.current,wi(t))yi(t);else{var a=yh(K.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[ze]=t,s[He]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(dh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ac(t)}}return dc(t),cc(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=K.current,wi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=li))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||lh(e.nodeValue,n)))||gi(t,!0)}else(e=yh(e).createTextNode(r))[ze]=t,t.stateNode=e}return dc(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=wi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[ze]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dc(t),e=!1}else n=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ms(t),t):(Ms(t),null);if(0!==(128&t.flags))throw Error(o(558))}return dc(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=wi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ze]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dc(t),i=!1}else i=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Ms(t),t):(Ms(t),null)}return Ms(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),uc(t,t.updateQueue),dc(t),null);case 4:return J(),null===e&&$u(t.stateNode.containerInfo),dc(t),null;case 10:return Ii(t.type),dc(t),null;case 19:if(F(Ds),null===(r=t.memoizedState))return dc(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)hc(r,!1);else{if(0!==xl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Fs(e))){for(t.flags|=128,hc(r,!1),e=s.updateQueue,t.updateQueue=e,uc(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Ds,1&Ds.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ce()>Bl&&(t.flags|=128,i=!0,hc(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Fs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,uc(t,e),hc(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return dc(t),null}else 2*ce()-r.renderingStartTime>Bl&&536870912!==n&&(t.flags|=128,i=!0,hc(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ce(),e.sibling=null,n=Ds.current,z(Ds,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(dc(t),null);case 22:case 23:return Ms(t),Ns(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(dc(t),6&t.subtreeFlags&&(t.flags|=8192)):dc(t),null!==(n=t.updateQueue)&&uc(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ii(Mi),dc(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pc(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ii(Mi),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Ms(t),null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ms(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Ds),null;case 4:return J(),null;case 10:return Ii(t.type),null;case 22:case 23:return Ms(t),Ns(),null!==e&&F(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ii(Mi),null;default:return null}}function gc(e,t){switch(ai(t),t.tag){case 3:Ii(Mi),J();break;case 26:case 27:case 5:Z(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Ms(t);break;case 13:Ms(t);break;case 19:F(Ds);break;case 10:Ii(t.type);break;case 22:case 23:Ms(t),Ns(),null!==e&&F(Gi);break;case 24:Ii(Mi)}}function yc(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){xu(t,t.return,a)}}function mc(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var c=n,l=a;try{l()}catch(u){xu(i,c,u)}}}r=r.next}while(r!==s)}}catch(u){xu(t,t.return,u)}}function wc(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Is(t,n)}catch(r){xu(e,e.return,r)}}}function bc(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){xu(e,t,r)}}function vc(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){xu(e,t,i)}}function Ec(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){xu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){xu(e,t,s)}else n.current=null}function Ac(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){xu(e,e.return,i)}}function xc(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,c=null,l=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||uh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&uh(e,t,f,p,r,d)}}return void wt(e,a,c,l,u,h,s,i);case"select":for(s in p=a=c=f=null,n)if(l=n[s],n.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||uh(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":f=s;break;case"defaultValue":c=s;break;case"multiple":a=s;default:s!==l&&uh(e,t,i,s,r,l)}return t=c,n=a,r=p,void(null!=f?Et(e,!!n,f,!1):!!r!==!!n&&(null!=t?Et(e,!!n,t,!0):Et(e,!!n,n?[]:"",!1)));case"textarea":for(c in p=f=null,n)if(i=n[c],n.hasOwnProperty(c)&&null!=i&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:uh(e,t,c,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&uh(e,t,a,i,r,s)}return void At(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else uh(e,t,g,null,r,f);for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else uh(e,t,l,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&uh(e,t,y,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:uh(e,t,u,f,r,p)}return;default:if(Pt(t)){for(var m in n)f=n[m],n.hasOwnProperty(m)&&void 0!==f&&!r.hasOwnProperty(m)&&hh(e,t,m,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||hh(e,t,h,f,r,p);return}}for(var w in n)f=n[w],n.hasOwnProperty(w)&&null!=f&&!r.hasOwnProperty(w)&&uh(e,t,w,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||uh(e,t,d,f,r,p)}(r,e.type,n,t),r[He]=t}catch(i){xu(e,e.return,i)}}function Sc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ih(e.type)||4===e.tag}function kc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ih(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ic(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Ih(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ic(e,t,n),e=e.sibling;null!==e;)Ic(e,t,n),e=e.sibling}function Oc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ih(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Oc(e,t,n),e=e.sibling;null!==e;)Oc(e,t,n),e=e.sibling}function Pc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dh(t,r,n),t[ze]=e,t[He]=n}catch(s){xu(e,e.return,s)}}var Tc=!1,Cc=!1,Nc=!1,Rc="function"===typeof WeakSet?WeakSet:Set,_c=null;function Bc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Qc(e,n),4&r&&yc(5,n);break;case 1:if(Qc(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){xu(n,n.return,o)}else{var i=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){xu(n,n.return,a)}}64&r&&wc(n),512&r&&vc(n,n.return);break;case 3:if(Qc(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Is(e,t)}catch(o){xu(n,n.return,o)}}break;case 27:null===t&&4&r&&Pc(n);case 26:case 5:Qc(e,n),null===t&&4&r&&Ac(n),512&r&&vc(n,n.return);break;case 12:Qc(e,n);break;case 31:Qc(e,n),4&r&&Fc(e,n);break;case 13:Qc(e,n),4&r&&zc(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ou.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Tc)){t=null!==t&&null!==t.memoizedState||Cc,i=Tc;var s=Cc;Tc=r,(Cc=t)&&!s?Yc(e,n,0!==(8772&n.subtreeFlags)):Qc(e,n),Tc=i,Cc=s}break;case 30:break;default:Qc(e,n)}}function Lc(e){var t=e.alternate;null!==t&&(e.alternate=null,Lc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Uc=null,jc=!1;function Mc(e,t,n){for(n=n.child;null!==n;)Dc(e,t,n),n=n.sibling}function Dc(e,t,n){if(we&&"function"===typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(me,n)}catch(s){}switch(n.tag){case 26:Cc||Ec(n,t),Mc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Cc||Ec(n,t);var r=Uc,i=jc;Ih(n.type)&&(Uc=n.stateNode,jc=!1),Mc(e,t,n),Mh(n.stateNode),Uc=r,jc=i;break;case 5:Cc||Ec(n,t);case 6:if(r=Uc,i=jc,Uc=null,Mc(e,t,n),jc=i,null!==(Uc=r))if(jc)try{(9===Uc.nodeType?Uc.body:"HTML"===Uc.nodeName?Uc.ownerDocument.body:Uc).removeChild(n.stateNode)}catch(o){xu(n,t,o)}else try{Uc.removeChild(n.stateNode)}catch(o){xu(n,t,o)}break;case 18:null!==Uc&&(jc?(Oh(9===(e=Uc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vd(e)):Oh(Uc,n.stateNode));break;case 4:r=Uc,i=jc,Uc=n.stateNode.containerInfo,jc=!0,Mc(e,t,n),Uc=r,jc=i;break;case 0:case 11:case 14:case 15:mc(2,n,t),Cc||mc(4,n,t),Mc(e,t,n);break;case 1:Cc||(Ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bc(n,t,r)),Mc(e,t,n);break;case 21:Mc(e,t,n);break;case 22:Cc=(r=Cc)||null!==n.memoizedState,Mc(e,t,n),Cc=r;break;default:Mc(e,t,n)}}function Fc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vd(e)}catch(n){xu(t,t.return,n)}}}function zc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vd(e)}catch(n){xu(t,t.return,n)}}function Hc(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rc),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Pu.bind(null,e,t);t.then(r,r)}})}function qc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 27:if(Ih(c.type)){Uc=c.stateNode,jc=!1;break e}break;case 5:Uc=c.stateNode,jc=!1;break e;case 3:case 4:Uc=c.stateNode.containerInfo,jc=!0;break e}c=c.return}if(null===Uc)throw Error(o(160));Dc(s,a,i),Uc=null,jc=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wc(t,e),t=t.sibling}var Vc=null;function Wc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qc(t,e),Kc(e),4&r&&(mc(3,e,e.return),yc(3,e),mc(5,e,e.return));break;case 1:qc(t,e),Kc(e),512&r&&(Cc||null===n||Ec(n,n.return)),64&r&&Tc&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Vc;if(qc(t,e),Kc(e),512&r&&(Cc||null===n||Ec(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Qe]||s[ze]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),dh(s,r,n),s[ze]=e,et(s),r=s;break e;case"link":var a=nd("link","href",i).get(r+(n.href||""));if(a)for(var c=0;c<a.length;c++)if((s=a[c]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(c,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=nd("meta","content",i).get(r+(n.content||"")))for(c=0;c<a.length;c++)if((s=a[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(c,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[ze]=e,et(s),r=s}e.stateNode=r}else rd(i,e.type,e.stateNode);else e.stateNode=Zh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rd(i,e.type,e.stateNode):Zh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xc(e,e.memoizedProps,n.memoizedProps)}break;case 27:qc(t,e),Kc(e),512&r&&(Cc||null===n||Ec(n,n.return)),null!==n&&4&r&&xc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qc(t,e),Kc(e),512&r&&(Cc||null===n||Ec(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(g){xu(e,e.return,g)}}4&r&&null!=e.stateNode&&xc(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Nc=!0);break;case 6:if(qc(t,e),Kc(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){xu(e,e.return,g)}}break;case 3:if(td=null,i=Vc,Vc=zh(t.containerInfo),qc(t,e),Vc=i,Kc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vd(t.containerInfo)}catch(g){xu(e,e.return,g)}Nc&&(Nc=!1,Gc(e));break;case 4:r=Vc,Vc=zh(e.stateNode.containerInfo),qc(t,e),Kc(e),Vc=r;break;case 12:default:qc(t,e),Kc(e);break;case 31:case 19:qc(t,e),Kc(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hc(e,r)));break;case 13:qc(t,e),Kc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rl=ce()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hc(e,r)));break;case 22:i=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,u=Tc,h=Cc;if(Tc=u||i,Cc=h||l,qc(t,e),Cc=h,Tc=u,Kc(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||l||Tc||Cc||Jc(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(s=l.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{c=l.stateNode;var d=l.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;c.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(g){xu(l,l.return,g)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){xu(l,l.return,g)}}}else if(18===t.tag){if(null===n){l=t;try{var p=l.stateNode;i?Ph(p,!0):Ph(l.stateNode,!1)}catch(g){xu(l,l.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hc(e,n))));case 30:case 21:}}function Kc(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Sc(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Oc(e,kc(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(St(s,""),n.flags&=-33),Oc(e,kc(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;Ic(e,kc(e),a);break;default:throw Error(o(161))}}catch(c){xu(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Bc(e,t.alternate,t),t=t.sibling}function Jc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:mc(4,t,t.return),Jc(t);break;case 1:Ec(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bc(t,t.return,n),Jc(t);break;case 27:Mh(t.stateNode);case 26:case 5:Ec(t,t.return),Jc(t);break;case 22:null===t.memoizedState&&Jc(t);break;default:Jc(t)}e=e.sibling}}function Yc(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Yc(i,s,n),yc(4,s);break;case 1:if(Yc(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){xu(r,r.return,l)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)ks(c[i],a)}catch(l){xu(r,r.return,l)}}n&&64&o&&wc(s),vc(s,s.return);break;case 27:Pc(s);case 26:case 5:Yc(i,s,n),n&&null===r&&4&o&&Ac(s),vc(s,s.return);break;case 12:Yc(i,s,n);break;case 31:Yc(i,s,n),n&&4&o&&Fc(i,s);break;case 13:Yc(i,s,n),n&&4&o&&zc(i,s);break;case 22:null===s.memoizedState&&Yc(i,s,n),vc(s,s.return);break;case 30:break;default:Yc(i,s,n)}t=t.sibling}}function Zc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fi(n))}function Xc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e))}function $c(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)el(e,t,n,r),t=t.sibling}function el(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$c(e,t,n,r),2048&i&&yc(9,t);break;case 1:case 31:case 13:default:$c(e,t,n,r);break;case 3:$c(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e)));break;case 12:if(2048&i){$c(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){xu(t,t.return,c)}}else $c(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?$c(e,t,n,r):nl(e,t):2&s._visibility?$c(e,t,n,r):(s._visibility|=2,tl(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Zc(o,t);break;case 24:$c(e,t,n,r),2048&i&&Xc(t.alternate,t)}}function tl(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:tl(s,o,a,c,i),yc(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tl(s,o,a,c,i):nl(s,o):(u._visibility|=2,tl(s,o,a,c,i)),i&&2048&l&&Zc(o.alternate,o);break;case 24:tl(s,o,a,c,i),i&&2048&l&&Xc(o.alternate,o);break;default:tl(s,o,a,c,i)}t=t.sibling}}function nl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nl(n,r),2048&i&&Zc(r.alternate,r);break;case 24:nl(n,r),2048&i&&Xc(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var rl=8192;function il(e,t,n){if(e.subtreeFlags&rl)for(e=e.child;null!==e;)sl(e,t,n),e=e.sibling}function sl(e,t,n){switch(e.tag){case 26:il(e,t,n),e.flags&rl&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kh(r.href),s=t.querySelector(Gh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Qh(r),(i=Dh.get(i))&&$h(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),dh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vc,e.memoizedState,e.memoizedProps);break;case 5:default:il(e,t,n);break;case 3:case 4:var r=Vc;Vc=zh(e.stateNode.containerInfo),il(e,t,n),Vc=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rl,rl=16777216,il(e,t,n),rl=r):il(e,t,n))}}function ol(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_c=r,ul(r,e)}ol(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cl(e),e=e.sibling}function cl(e){switch(e.tag){case 0:case 11:case 15:al(e),2048&e.flags&&mc(9,e,e.return);break;case 3:case 12:default:al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ll(e)):al(e)}}function ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_c=r,ul(r,e)}ol(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:mc(8,t,t.return),ll(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ll(t));break;default:ll(t)}e=e.sibling}}function ul(e,t){for(;null!==_c;){var n=_c;switch(n.tag){case 0:case 11:case 15:mc(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_c=r;else e:for(n=e;null!==_c;){var i=(r=_c).sibling,s=r.return;if(Lc(r),r===n){_c=null;break e}if(null!==i){i.return=s,_c=i;break e}_c=s}}}var hl={getCacheForType:function(e){var t=Ri(Mi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(Mi).controller.signal}},dl="function"===typeof WeakMap?WeakMap:Map,fl=0,pl=null,gl=null,yl=0,ml=0,wl=null,bl=!1,vl=!1,El=!1,Al=0,xl=0,Sl=0,kl=0,Il=0,Ol=0,Pl=0,Tl=null,Cl=null,Nl=!1,Rl=0,_l=0,Bl=1/0,Ll=null,Ul=null,jl=0,Ml=null,Dl=null,Fl=0,zl=0,Hl=null,ql=null,Vl=0,Wl=null;function Kl(){return 0!==(2&fl)&&0!==yl?yl&-yl:null!==B.T?Hu():Me()}function Gl(){if(0===Ol)if(0===(536870912&yl)||hi){var e=Se;0===(3932160&(Se<<=1))&&(Se=262144),Ol=e}else Ol=536870912;return null!==(e=Rs.current)&&(e.flags|=32),Ol}function Ql(e,t,n){(e!==pl||2!==ml&&9!==ml)&&null===e.cancelPendingCommit||(tu(e,0),Xl(e,yl,Ol,!1)),Re(e,n),0!==(2&fl)&&e===pl||(e===pl&&(0===(2&fl)&&(kl|=n),4===xl&&Xl(e,yl,Ol,!1)),Lu(e))}function Jl(e,t,n){if(0!==(6&fl))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Pe(e,t),i=r?function(e,t){var n=fl;fl|=2;var r=iu(),i=su();pl!==e||yl!==t?(Ll=null,Bl=ce()+500,tu(e,t)):vl=Pe(e,t);e:for(;;)try{if(0!==ml&&null!==gl){t=gl;var s=wl;t:switch(ml){case 1:ml=0,wl=null,du(e,t,s,1);break;case 2:case 9:if(ts(s)){ml=0,wl=null,hu(t);break}t=function(){2!==ml&&9!==ml||pl!==e||(ml=7),Lu(e)},s.then(t,t);break e;case 3:ml=7;break e;case 4:ml=5;break e;case 7:ts(s)?(ml=0,wl=null,hu(t)):(ml=0,wl=null,du(e,t,s,7));break;case 5:var a=null;switch(gl.tag){case 26:a=gl.memoizedState;case 5:case 27:var c=gl;if(a?id(a):c.stateNode.complete){ml=0,wl=null;var l=c.sibling;if(null!==l)gl=l;else{var u=c.return;null!==u?(gl=u,fu(u)):gl=null}break t}}ml=0,wl=null,du(e,t,s,5);break;case 6:ml=0,wl=null,du(e,t,s,6);break;case 8:eu(),xl=6;break e;default:throw Error(o(462))}}lu();break}catch(h){nu(e,h)}return Si=xi=null,B.H=r,B.A=i,fl=n,null!==gl?0:(pl=null,yl=0,Cr(),xl)}(e,t):au(e,t,!0),s=r;;){if(0===i){vl&&!r&&Xl(e,t,0,!1);break}if(n=e.current.alternate,!s||Zl(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var c=e;i=Tl;var l=c.current.memoizedState.isDehydrated;if(l&&(tu(c,a).flags|=256),2!==(a=au(c,a,!1))){if(El&&!l){c.errorRecoveryDisabledLanes|=s,kl|=s,i=4;break e}s=Cl,Cl=i,null!==s&&(null===Cl?Cl=s:Cl.push.apply(Cl,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){tu(e,0),Xl(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Xl(r,t,Ol,!bl);break e;case 2:Cl=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Rl+300-ce())){if(Xl(r,t,Ol,!bl),0!==Oe(r,0,!0))break e;Fl=t,r.timeoutHandle=Eh(Yl.bind(null,r,n,Cl,Ll,Nl,t,Ol,kl,Pl,bl,s,"Throttled",-0,0),i)}else Yl(r,n,Cl,Ll,Nl,t,Ol,kl,Pl,bl,s,null,-0,0)}break}i=au(e,t,!1),s=!1}Lu(e)}function Yl(e,t,n,r,i,s,o,a,c,l,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){sl(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var p=(62914560&s)===s?Rl-ce():(4194048&s)===s?_l-ce():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&cd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sd&&(sd=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&fh(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>a)break;var u=c.transferSize,h=c.initiatorType;u&&fh(h)&&(o+=u*((c=c.responseEnd)<a?1:(a-l)/(c-l)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return Fl=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,i,o,a,c,u,h,null,d,f)),void Xl(e,s,o,!l)}gu(e,t,s,n,r,i,o,a,c)}function Zl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,n,r){t&=~Il,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-ve(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&_e(e,n,t)}function $l(){return 0!==(6&fl)||(Uu(0,!1),!1)}function eu(){if(null!==gl){if(0===ml)var e=gl.return;else Si=xi=null,oo(e=gl),as=null,cs=0,e=gl;for(;null!==e;)gc(e.alternate,e),e=e.return;gl=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ah(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fl=0,eu(),pl=e,gl=n=Fr(e.current,null),yl=t,ml=0,wl=null,bl=!1,vl=Pe(e,t),El=!1,Pl=Ol=Il=kl=Sl=xl=0,Cl=Tl=null,Nl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ve(r),s=1<<i;t|=e[i],r&=~s}return Al=t,Cr(),n}function nu(e,t){Hs=null,B.H=ga,t===Zi||t===$i?(t=ss(),ml=3):t===Xi?(t=ss(),ml=4):ml=t===Ra?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,wl=t,null===gl&&(xl=1,Oa(e,Qr(t,e.current)))}function ru(){var e=Rs.current;return null===e||((4194048&yl)===yl?null===_s:((62914560&yl)===yl||0!==(536870912&yl))&&e===_s)}function iu(){var e=B.H;return B.H=ga,null===e?ga:e}function su(){var e=B.A;return B.A=hl,e}function ou(){xl=4,bl||(4194048&yl)!==yl&&null!==Rs.current||(vl=!0),0===(134217727&Sl)&&0===(134217727&kl)||null===pl||Xl(pl,yl,Ol,!1)}function au(e,t,n){var r=fl;fl|=2;var i=iu(),s=su();pl===e&&yl===t||(Ll=null,tu(e,t)),t=!1;var o=xl;e:for(;;)try{if(0!==ml&&null!==gl){var a=gl,c=wl;switch(ml){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Rs.current&&(t=!0);var l=ml;if(ml=0,wl=null,du(e,a,c,l),n&&vl){o=0;break e}break;default:l=ml,ml=0,wl=null,du(e,a,c,l)}}cu(),o=xl;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Si=xi=null,fl=r,B.H=i,B.A=s,null===gl&&(pl=null,yl=0,Cr()),o}function cu(){for(;null!==gl;)uu(gl)}function lu(){for(;null!==gl&&!oe();)uu(gl)}function uu(e){var t=oc(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wa(n,t,t.pendingProps,t.type,void 0,yl);break;case 11:t=Wa(n,t,t.pendingProps,t.type.render,t.ref,yl);break;case 5:oo(t);default:gc(n,t),t=oc(n,t=gl=zr(t,Al),Al)}e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function du(e,t,n,r){Si=xi=null,oo(t),as=null,cs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ti(t,n,i,!0),null!==(n=Rs.current)){switch(n.tag){case 31:case 13:return null===_s?ou():null===n.alternate&&0===xl&&(xl=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Su(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Su(e,r,i)),!1}throw Error(o(435,n.tag))}return Su(e,r,i),ou(),!1}if(hi)return null!==(t=Rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&Ei(Qr(e=Error(o(422),{cause:r}),n))):(r!==pi&&Ei(Qr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),Es(e,i=Ta(e.stateNode,r,i)),4!==xl&&(xl=2)),!1;var s=Error(o(520),{cause:r});if(s=Qr(s,n),null===Tl?Tl=[s]:Tl.push(s),4!==xl&&(xl=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Es(n,e=Ta(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Ul||!Ul.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Na(i=Ca(i),e,n,r),Es(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yl))return xl=1,Oa(e,Qr(n,e.current)),void(gl=null)}catch(s){if(null!==i)throw gl=i,s;return xl=1,Oa(e,Qr(n,e.current)),void(gl=null)}32768&t.flags?(hi||1===r?e=!0:vl||0!==(536870912&yl)?e=!1:(bl=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Rs.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bl);e=t.return;var n=fc(t.alternate,t,Al);if(null!==n)return void(gl=n);if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===xl&&(xl=5)}function pu(e,t){do{var n=pc(e.alternate,e);if(null!==n)return n.flags&=32767,void(gl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gl=e);gl=e=n}while(null!==e);xl=6,gl=null}function gu(e,t,n,r,i,s,a,c,l){e.cancelPendingCommit=null;do{vu()}while(0!==jl);if(0!==(6&fl))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-ve(n),h=1<<u;a[u]=0,c[u]=-1;var d=l[u];if(null!==d)for(l[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&_e(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Tr,a,c,l),e===pl&&(gl=pl=null,yl=0),Dl=t,Ml=e,Fl=n,zl=s,Hl=i,ql=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return Eu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=B.T,B.T=null,i=L.p,L.p=2,a=fl,fl|=4;try{!function(e,t){if(e=e.containerInfo,ph=bd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(y){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},bd=!1,_c=t;null!==_c;)if(e=(t=_c).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,_c=e;else for(;null!==_c;){switch(s=(t=_c).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var g=xa(n.type,i);e=r.getSnapshotBeforeUpdate(g,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(m){xu(n,n.return,m)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Th(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Th(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,_c=e;break}_c=t.return}}(e,t)}finally{fl=a,L.p=i,B.T=r}}jl=1,yu(),mu(),wu()}}function yu(){if(1===jl){jl=0;var e=Ml,t=Dl,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=B.T,B.T=null;var r=L.p;L.p=2;var i=fl;fl|=4;try{Wc(t,e);var s=gh,o=rr(e.containerInfo),a=s.focusedElem,c=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==c&&ir(a)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in a)a.selectionStart=l,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,g=Math.min(c.start,p),y=void 0===c.end?g:Math.min(c.end,p);!f.extend&&g>y&&(o=y,y=g,g=o);var m=tr(a,g),w=tr(a,y);if(m&&w&&(1!==f.rangeCount||f.anchorNode!==m.node||f.anchorOffset!==m.offset||f.focusNode!==w.node||f.focusOffset!==w.offset)){var b=h.createRange();b.setStart(m.node,m.offset),f.removeAllRanges(),g>y?(f.addRange(b),f.extend(w.node,w.offset)):(b.setEnd(w.node,w.offset),f.addRange(b))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var v=h[a];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}bd=!!ph,gh=ph=null}finally{fl=i,L.p=r,B.T=n}}e.current=t,jl=2}}function mu(){if(2===jl){jl=0;var e=Ml,t=Dl,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=B.T,B.T=null;var r=L.p;L.p=2;var i=fl;fl|=4;try{Bc(e,t.alternate,t)}finally{fl=i,L.p=r,B.T=n}}jl=3}}function wu(){if(4===jl||3===jl){jl=0,ae();var e=Ml,t=Dl,n=Fl,r=ql;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jl=5:(jl=0,Dl=Ml=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ul=null),je(n),t=t.stateNode,we&&"function"===typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(me,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==r){t=B.T,i=L.p,L.p=2,B.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{B.T=t,L.p=i}}0!==(3&Fl)&&vu(),Lu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Wl?Vl++:(Vl=0,Wl=e):Vl=0,Uu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fi(t)))}function vu(){return yu(),mu(),wu(),Eu()}function Eu(){if(5!==jl)return!1;var e=Ml,t=zl;zl=0;var n=je(Fl),r=B.T,i=L.p;try{L.p=32>n?32:n,B.T=null,n=Hl,Hl=null;var s=Ml,a=Fl;if(jl=0,Dl=Ml=null,Fl=0,0!==(6&fl))throw Error(o(331));var c=fl;if(fl|=4,cl(s.current),el(s,s.current,a,n),fl=c,Uu(0,!1),we&&"function"===typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(me,s)}catch(l){}return!0}finally{L.p=i,B.T=r,bu(e,t)}}function Au(e,t,n){t=Qr(n,t),null!==(e=bs(e,t=Ta(e.stateNode,t,2),2))&&(Re(e,2),Lu(e))}function xu(e,t,n){if(3===e.tag)Au(e,e,n);else for(;null!==t;){if(3===t.tag){Au(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ul||!Ul.has(r))){e=Qr(n,e),null!==(r=bs(t,n=Ca(2),2))&&(Na(n,r,t,e),Re(r,2),Lu(r));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(El=!0,i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pl===e&&(yl&n)===n&&(4===xl||3===xl&&(62914560&yl)===yl&&300>ce()-Rl?0===(2&fl)&&tu(e,0):Il|=n,Pl===yl&&(Pl=0)),Lu(e)}function Iu(e,t){0===t&&(t=Ce()),null!==(e=_r(e,t))&&(Re(e,t),Lu(e))}function Ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Iu(e,n)}var Tu=null,Cu=null,Nu=!1,Ru=!1,_u=!1,Bu=0;function Lu(e){e!==Cu&&null===e.next&&(null===Cu?Tu=Cu=e:Cu=Cu.next=e),Ru=!0,Nu||(Nu=!0,Sh(function(){0!==(6&fl)?ie(ue,ju):Mu()}))}function Uu(e,t){if(!_u&&Ru){_u=!0;do{for(var n=!1,r=Tu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-ve(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,zu(r,s))}else s=yl,0===(3&(s=Oe(r,r===pl?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Pe(r,s)||(n=!0,zu(r,s));r=r.next}}while(n);_u=!1}}function ju(){Mu()}function Mu(){Ru=Nu=!1;var e=0;0!==Bu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vh&&(vh=e,!0);return vh=null,!1}()&&(e=Bu);for(var t=ce(),n=null,r=Tu;null!==r;){var i=r.next,s=Du(r,t);0===s?(r.next=null,null===n?Tu=i:n.next=i,null===i&&(Cu=n)):(n=r,(0!==e||0!==(3&s))&&(Ru=!0)),r=i}0!==jl&&5!==jl||Uu(e,!1),0!==Bu&&(Bu=0)}function Du(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-ve(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=Te(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}if(n=yl,n=Oe(e,e===(t=pl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ml||9===ml)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Pe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),je(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=Fu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Fu(e,t){if(0!==jl&&5!==jl)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vu()&&e.callbackNode!==n)return null;var r=yl;return 0===(r=Oe(e,e===pl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jl(e,r,t),Du(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Fu.bind(null,e):null)}function zu(e,t){if(vu())return null;Jl(e,t,!0)}function Hu(){if(0===Bu){var e=qi;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Bu=e}return Bu}function qu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Sr.length;Wu++){var Ku=Sr[Wu];kr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}kr(yr,"onAnimationEnd"),kr(mr,"onAnimationIteration"),kr(wr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(br,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(Er,"onTransitionCancel"),kr(Ar,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){Ir(u)}i.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){Ir(u)}i.currentTarget=null,s=c}}}}function Yu(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Zu("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Id(t)){case 2:var i=vd;break;case 8:i=Ed;break;default:i=Ad}n=i.bind(null,t,n,e),i=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function th(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Ye(a)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Dt(function(){var r=s,i=Bt(n),o=[];e:{var a=xr.get(e);if(void 0!==a){var l=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":l=wn;break;case"focusin":u="focus",l=ln;break;case"focusout":u="blur",l=ln;break;case"beforeblur":case"afterblur":l=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=vn;break;case yr:case mr:case wr:l=un;break;case Ar:l=En;break;case"scroll":case"scrollend":l=sn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=bn;break;case"toggle":case"beforetoggle":l=xn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,g=r;null!==g;){var y=g;if(p=y.stateNode,5!==(y=y.tag)&&26!==y&&27!==y||null===p||null===f||null!=(y=Ft(g,f))&&h.push(nh(g,y,p)),d)break;g=g.return}0<h.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_t||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(d=c(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(l=null,u=r),l!==u)){if(h=an,y="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=bn,y="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==l?a:Xe(l),p=null==u?a:Xe(u),(a=new h(y,g+"leave",l,n,i)).target=d,a.relatedTarget=p,y=null,Ye(i)===r&&((h=new h(f,g+"enter",u,n,i)).target=p,h.relatedTarget=d,y=h),d=y,l&&u)e:{for(h=ih,g=u,p=0,y=f=l;y;y=h(y))p++;y=0;for(var m=g;m;m=h(m))y++;for(;0<p-y;)f=h(f),p--;for(;0<y-p;)g=h(g),y--;for(;p--;){if(f===g||null!==g&&f===g.alternate){h=f;break e}f=h(f),g=h(g)}h=null}else h=null;null!==l&&sh(o,a,l,h,!1),null!==u&&null!==d&&sh(o,d,u,h,!0)}if("select"===(l=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var w=zn;else if(Ln(a))if(Hn)w=Zn;else{w=Jn;var b=Qn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Pt(r.elementType)&&(w=zn):w=Yn;switch(w&&(w=w(e,r))?Un(o,w,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),b=r?Xe(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(or=b,ar=r,cr=null);break;case"focusout":cr=ar=or=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ur(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(o,n,i)}var v;if(kn)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _n?Nn(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(Pn&&"ko"!==n.locale&&(_n||"onCompositionStart"!==E?"onCompositionEnd"===E&&_n&&(v=Gt()):(Wt="value"in(Vt=i)?Vt.value:Vt.textContent,_n=!0)),0<(b=rh(r,E)).length&&(E=new dn(E,e,null,n,i),o.push({event:E,listeners:b}),v?E.data=v:null!==(v=Rn(n))&&(E.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(_n)return"compositionend"===e||!kn&&Nn(e,t)?(e=Gt(),Kt=Wt=Vt=null,_n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(E=rh(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:E}),b.data=v)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=qu((i[He]||null).action),o=r.submitter;o&&null!==(t=(t=o[He]||null)?qu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Bu){var e=o?Vu(i,o):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Vu(i,o):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Ju(o,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(nh(e,i,s)),null!=(i=Ft(e,t))&&r.push(nh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function ih(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sh(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(a=a.tag,null!==c&&c===r)break;5!==a&&26!==a&&27!==a||null===l||(c=l,i?null!=(l=Ft(n,s))&&o.unshift(nh(n,l,c)):i||null!=(l=Ft(n,s))&&o.push(nh(n,l,c))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var oh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function ch(e){return("string"===typeof e?e:""+e).replace(oh,"\n").replace(ah,"")}function lh(e,t){return t=ch(t),ch(e)===t}function uh(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":Ot(e,r,s);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&uh(e,t,"name",i.name,i,null),uh(e,t,"formEncType",i.formEncType,i,null),uh(e,t,"formMethod",i.formMethod,i,null),uh(e,t,"formTarget",i.formTarget,i,null)):(uh(e,t,"encType",i.encType,i,null),uh(e,t,"method",i.method,i,null),uh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),ct(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ct(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Tt.get(n)||n,r)}}function hh(e,t,n,r,i,s){switch(n){case"style":Ot(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[He]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ct(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function dh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:uh(e,t,r,a,n,null)}}return s&&uh(e,t,"srcSet",n.srcSet,n,null),void(i&&uh(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var c=r=a=s=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:uh(e,t,i,h,n,null)}}return void bt(e,r,c,l,u,a,s,!1);case"select":for(s in Yu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":r=c;break;case"defaultValue":a=c;break;case"multiple":i=c;default:uh(e,t,s,c,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?Et(e,!!i,t,!1):null!=n&&Et(e,!!i,n,!0));case"textarea":for(a in Yu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(c=n[a]))switch(a){case"value":i=c;break;case"defaultValue":s=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(91));break;default:uh(e,t,a,c,n,null)}return void xt(e,i,s,r);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else uh(e,t,l,i,n,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(i=0;i<Gu.length;i++)Yu(Gu[i],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:uh(e,t,u,i,n,null)}return;default:if(Pt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&hh(e,t,h,i,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(null!=(i=n[c])&&uh(e,t,c,i,n,null))}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ph=null,gh=null;function yh(e){return 9===e.nodeType?e:e.ownerDocument}function mh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vh=null;var Eh="function"===typeof setTimeout?setTimeout:void 0,Ah="function"===typeof clearTimeout?clearTimeout:void 0,xh="function"===typeof Promise?Promise:void 0,Sh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xh?function(e){return xh.resolve(null).then(e).catch(kh)}:Eh;function kh(e){setTimeout(function(){throw e})}function Ih(e){return"head"===e}function Oh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Mh(e.ownerDocument.documentElement);else if("head"===n){Mh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[Qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&Mh(e.ownerDocument.body);n=i}while(n);Vd(t)}function Ph(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Th(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Th(n),Je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ch(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=_h(e.nextSibling)))return null}return e}function Nh(e){return"$?"===e.data||"$~"===e.data}function Rh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function _h(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Bh=null;function Lh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return _h(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Uh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function jh(e,t,n){switch(t=yh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Mh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Dh=new Map,Fh=new Set;function zh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hh=L.d;L.d={f:function(){var e=Hh.f(),t=$l();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Hh.r(e)},D:function(e){Hh.D(e),Vh("dns-prefetch",e,null)},C:function(e,t){Hh.C(e,t),Vh("preconnect",e,t)},L:function(e,t,n){Hh.L(e,t,n);var r=qh;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Kh(e);break;case"script":s=Jh(e)}Dh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Dh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gh(s))||"script"===t&&r.querySelector(Yh(s))||(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hh.m(e,t);var n=qh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Jh(e)}if(!Dh.has(s)&&(e=f({rel:"modulepreload",href:e},t),Dh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yh(s)))return}dh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hh.X(e,t);var n=qh;if(n&&e){var r=$e(n).hoistableScripts,i=Jh(e),s=r.get(i);s||((s=n.querySelector(Yh(i)))||(e=f({src:e,async:!0},t),(t=Dh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Hh.S(e,t,n);var r=qh;if(r&&e){var i=$e(r).hoistableStyles,s=Kh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Gh(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Dh.get(s))&&$h(e,n);var c=o=r.createElement("link");et(c),dh(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Xh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Hh.M(e,t);var n=qh;if(n&&e){var r=$e(n).hoistableScripts,i=Jh(e),s=r.get(i);s||((s=n.querySelector(Yh(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Dh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var qh="undefined"===typeof document?null:document;function Vh(e,t,n){var r=qh;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Fh.has(i)||(Fh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wh(e,t,n,r){var i,s,a,c,l=(l=K.current)?zh(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kh(n.href),(r=(n=$e(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kh(n.href);var u=$e(l).hoistableStyles,h=u.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=l.querySelector(Gh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Dh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Dh.set(e,n),u||(i=l,s=e,a=n,c=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),dh(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Jh(n),(r=(n=$e(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Kh(e){return'href="'+mt(e)+'"'}function Gh(e){return'link[rel="stylesheet"]['+e+"]"}function Qh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Jh(e){return'[src="'+mt(e)+'"]'}function Yh(e){return"script[async]"+e}function Zh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),dh(r,"style",i),Xh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kh(n.href);var s=e.querySelector(Gh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Qh(n),(i=Dh.get(i))&&$h(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),dh(s,"link",r),t.state.loading|=4,Xh(s,n.precedence,e),t.instance=s;case"script":return s=Jh(n.src),(i=e.querySelector(Yh(s)))?(t.instance=i,et(i),i):(r=n,(i=Dh.get(s))&&ed(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),dh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xh(r,n.precedence,e));return t.instance}function Xh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $h(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,i=td=new Map;i.set(n,r)}else(r=(i=td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Qe]||s[ze]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function id(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sd=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ad=null;function cd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ad=new Map,t.forEach(ld,e),ad=null,od.call(e))}function ld(e,t){if(!(4&t.state.loading)){var n=ad.get(e);if(n)var r=n.get(null);else{n=new Map,ad.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var ud={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function hd(e,t,n,r,i,s,o,a,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function dd(e,t,n,r,i,s,o,a,c,l,u,h){return e=new hd(e,t,n,o,c,l,u,h,a),t=1,!0===s&&(t|=24),s=Mr(3,null,null,t),e.current=s,s.stateNode=e,(t=Di()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ys(s),e}function fd(e){return e?e=Ur:Ur}function pd(e,t,n,r,i,s){i=fd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ws(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&(Ql(n,0,t),vs(n,e,t))}function gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yd(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function md(e){if(13===e.tag||31===e.tag){var t=_r(e,67108864);null!==t&&Ql(t,0,67108864),yd(e,67108864)}}function wd(e){if(13===e.tag||31===e.tag){var t=Kl(),n=_r(e,t=Ue(t));null!==n&&Ql(n,0,t),yd(e,t)}}var bd=!0;function vd(e,t,n,r){var i=B.T;B.T=null;var s=L.p;try{L.p=2,Ad(e,t,n,r)}finally{L.p=s,B.T=i}}function Ed(e,t,n,r){var i=B.T;B.T=null;var s=L.p;try{L.p=8,Ad(e,t,n,r)}finally{L.p=s,B.T=i}}function Ad(e,t,n,r){if(bd){var i=xd(r);if(null===i)th(e,t,r,Sd,n),Ld(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pd=Ud(Pd,e,t,n,r,i),!0;case"dragenter":return Td=Ud(Td,e,t,n,r,i),!0;case"mouseover":return Cd=Ud(Cd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nd.set(s,Ud(Nd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rd.set(s,Ud(Rd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ld(e,r),4&t&&-1<Bd.indexOf(e)){for(;null!==i;){var s=Ze(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Ie(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-ve(o);a.entanglements[1]|=c,o&=~c}Lu(s),0===(6&fl)&&(Bl=ce()+500,Uu(0,!1))}}break;case 31:case 13:null!==(a=_r(s,2))&&Ql(a,0,2),$l(),yd(s,2)}if(null===(s=xd(r))&&th(e,t,r,Sd,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else th(e,t,r,null,n)}}function xd(e){return kd(e=Bt(e))}var Sd=null;function kd(e){if(Sd=null,null!==(e=Ye(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sd=e,null}function Id(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Od=!1,Pd=null,Td=null,Cd=null,Nd=new Map,Rd=new Map,_d=[],Bd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ld(e,t){switch(e){case"focusin":case"focusout":Pd=null;break;case"dragenter":case"dragleave":Td=null;break;case"mouseover":case"mouseout":Cd=null;break;case"pointerover":case"pointerout":Nd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(t.pointerId)}}function Ud(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&md(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jd(e){var t=Ye(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void De(e.priority,function(){wd(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void De(e.priority,function(){wd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Md(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xd(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&md(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,t.shift()}return!0}function Dd(e,t,n){Md(e)&&n.delete(t)}function Fd(){Od=!1,null!==Pd&&Md(Pd)&&(Pd=null),null!==Td&&Md(Td)&&(Td=null),null!==Cd&&Md(Cd)&&(Cd=null),Nd.forEach(Dd),Rd.forEach(Dd)}function zd(e,t){e.blockedOn===t&&(e.blockedOn=null,Od||(Od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fd)))}var Hd=null;function qd(e){Hd!==e&&(Hd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hd===e&&(Hd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===kd(r||n))continue;break}var s=Ze(n);null!==s&&(e.splice(t,3),t-=3,ta(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vd(e){function t(t){return zd(t,e)}null!==Pd&&zd(Pd,e),null!==Td&&zd(Td,e),null!==Cd&&zd(Cd,e),Nd.forEach(t),Rd.forEach(t);for(var n=0;n<_d.length;n++){var r=_d[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<_d.length&&null===(n=_d[0]).blockedOn;)jd(n),null===n.blockedOn&&_d.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[He]||null;if("function"===typeof s)o||qd(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[He]||null)a=o.formAction;else if(null!==kd(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),qd(n)}}}function Wd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kd(e){this._internalRoot=e}function Gd(e){this._internalRoot=e}Gd.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));pd(t.current,Kl(),e,t,null,null)},Gd.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),$l(),t[qe]=null}},Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_d.length&&0!==t&&t<_d[n].priority;n++);_d.splice(n,0,e),0===n&&jd(e)}};var Qd=i.version;if("19.2.0"!==Qd)throw Error(o(527,Qd,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Jd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{me=Yd.inject(Jd),we=Yd}catch(Xd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Sa,s=ka,c=Ia;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,i,s,c,Wd),e[qe]=t.current,$u(e),new Kd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Sa,c=ka,l=Ia,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(c=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=dd(e,1,!0,t,0,r,i,u,s,c,l,Wd)).context=fd(null),n=t.current,(i=ws(r=Ue(r=Kl()))).callback=null,bs(n,i,r),n=r,t.current.lanes=n,Re(t,n),Lu(t),e[qe]=t.current,$u(e),new Gd(t)},t.version="19.2.0"},7257:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});class r extends Error{constructor(e){super(e);const t=Object.create(r.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:r.name})}}},7284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,o,l;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"===typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7312:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(7284),i=n(632);class s extends i.IJsonRpcProvider{constructor(e){super(e),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,i.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(s){r(s)}this.events.on("".concat(e.id),e=>{(0,i.isJsonRpcError)(e)?r(e.error):n(e.result)});try{await this.connection.send(e,t)}catch(s){r(s)}})}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8019:(e,t,n)=>{"use strict";n.d(t,{xW:()=>b,sH:()=>Qe,dI:()=>Je});var r={};n.r(r),n.d(r,{identity:()=>R});var i={};n.r(i),n.d(i,{base2:()=>_});var s={};n.r(s),n.d(s,{base8:()=>B});var o={};n.r(o),n.d(o,{base10:()=>L});var a={};n.r(a),n.d(a,{base16:()=>U,base16upper:()=>j});var c={};n.r(c),n.d(c,{base32:()=>M,base32hex:()=>H,base32hexpad:()=>V,base32hexpadupper:()=>W,base32hexupper:()=>q,base32pad:()=>F,base32padupper:()=>z,base32upper:()=>D,base32z:()=>K});var l={};n.r(l),n.d(l,{base36:()=>G,base36upper:()=>Q});var u={};n.r(u),n.d(u,{base58btc:()=>J,base58flickr:()=>Y});var h={};n.r(h),n.d(h,{base64:()=>Z,base64pad:()=>X,base64url:()=>$,base64urlpad:()=>ee});var d={};n.r(d),n.d(d,{base256emoji:()=>ie});var f={};n.r(f),n.d(f,{sha256:()=>Te,sha512:()=>Ce});var p={};n.r(p),n.d(p,{identity:()=>Re});var g={};n.r(g),n.d(g,{code:()=>Be,decode:()=>Ue,encode:()=>Le,name:()=>_e});var y={};function m(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?m(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function b(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=w(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return m(n)}n.r(y),n.d(y,{code:()=>Fe,decode:()=>He,encode:()=>ze,name:()=>De});var v=n(9379);var E=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}};const A=E,x=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class S{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class k{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return O(this,e)}}class I{constructor(e){this.decoders=e}or(e){return O(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const O=(e,t)=>new I((0,v.A)((0,v.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class P{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new S(e,t,n),this.decoder=new k(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const T=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new P(t,n,r,i)},C=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=A(r,n);return T({prefix:t,name:n,encode:i,decode:e=>x(s(e))})},N=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return T({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},R=T({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),_=N({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),B=N({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),L=C({prefix:"9",name:"base10",alphabet:"0123456789"}),U=N({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),j=N({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),M=N({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),D=N({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),F=N({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z=N({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H=N({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q=N({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),V=N({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),W=N({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),K=N({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),G=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Q=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),J=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Y=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Z=N({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),X=N({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$=N({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ee=N({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),te=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),ne=te.reduce((e,t,n)=>(e[n]=t,e),[]),re=te.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const ie=T({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ne[t],"")},decode:function(e){const t=[];for(const n of e){const e=re[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var se=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=ce;)n[r++]=255&t|oe,t/=128;for(;t&ae;)n[r++]=255&t|oe,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},oe=128,ae=-128,ce=Math.pow(2,31);var le=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&he)<<s:(r&he)*Math.pow(2,s),s+=7}while(r>=ue);return e.bytes=o-n,i},ue=128,he=127;var de=Math.pow(2,7),fe=Math.pow(2,14),pe=Math.pow(2,21),ge=Math.pow(2,28),ye=Math.pow(2,35),me=Math.pow(2,42),we=Math.pow(2,49),be=Math.pow(2,56),ve=Math.pow(2,63);const Ee={encode:se,decode:le,encodingLength:function(e){return e<de?1:e<fe?2:e<pe?3:e<ge?4:e<ye?5:e<me?6:e<we?7:e<be?8:e<ve?9:10}},Ae=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ee.encode(e,t,n),t},xe=e=>Ee.encodingLength(e),Se=(e,t)=>{const n=t.byteLength,r=xe(e),i=r+xe(n),s=new Uint8Array(i+n);return Ae(e,s,0),Ae(n,s,r),s.set(t,i),new ke(e,n,t,s)};class ke{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ie=e=>{let{name:t,code:n,encode:r}=e;return new Oe(t,n,r)};class Oe{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Se(this.code,t):t.then(e=>Se(this.code,e))}throw Error("Unknown type, must be binary type")}}const Pe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Te=Ie({name:"sha2-256",code:18,encode:Pe("SHA-256")}),Ce=Ie({name:"sha2-512",code:19,encode:Pe("SHA-512")}),Ne=x,Re={code:0,name:"identity",encode:Ne,digest:e=>Se(0,Ne(e))},_e="raw",Be=85,Le=e=>x(e),Ue=e=>x(e),je=new TextEncoder,Me=new TextDecoder,De="json",Fe=512,ze=e=>je.encode(JSON.stringify(e)),He=e=>JSON.parse(Me.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const qe=(0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)({},r),i),s),o),a),c),l),u),h),d);(0,v.A)((0,v.A)({},f),p);function Ve(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const We=Ve("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),Ke=Ve("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=w((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Ge=(0,v.A)({utf8:We,"utf-8":We,hex:qe.base16,latin1:Ke,ascii:Ke,binary:Ke},qe);function Qe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Ge[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):m(globalThis.Buffer.from(e,"utf-8"))}function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Ge[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},8129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6613);r.__exportStar(n(364),t),r.__exportStar(n(6454),t)},8251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(8951),t),r.__exportStar(n(5746),t)},8661:(e,t,n)=>{"use strict";n.d(t,{h:()=>o,j:()=>s});const r=e=>JSON.stringify(e,(e,t)=>"bigint"===typeof t?t.toString()+"n":t),i=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)};function s(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return i(e)}catch(t){return e}}function o(e){return"string"===typeof e?e:r(e)||""}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8878:(e,t,n)=>{"use strict";const r=n(5984);e.exports=h;const i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:m,res:m,err:g,errWithCause:g};function o(e,t){return"silent"===e?1/0:t.levels.values[e]}const a=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function h(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter(function(e){return"!stdSerializers.err"!==e});return!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const g=Object.keys(e.customLevels||{}),m=["error","fatal","warn","info","debug","trace"].concat(g);"function"===typeof n&&m.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const w=e.level||"info",v=Object.create(n);v.log||(v.log=b),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||b}),e[a]=r}(v,m,n),u({},v),Object.defineProperty(v,"levelVal",{get:function(){return o(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,d(this,E,v,"error"),d(this,E,v,"fatal"),d(this,E,v,"warn"),d(this,E,v,"info"),d(this,E,v,"debug"),d(this,E,v,"trace"),g.forEach(e=>{d(this,E,v,e)})}});const E={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:m,timestamp:y(e),messageKey:e.messageKey||"msg",onChild:e.onChild||b};function A(n,i,o){if(!i)throw new Error("missing bindings for child Pino");o=o||{},s&&i.serializers&&(o.serializers=i.serializers);const a=o.serializers;if(s&&a){var c=Object.assign({},r,a),l=!0===e.browser.serialize?Object.keys(c):s;delete i.serializers,f([i],l,c,this._stdErrSerialize)}function h(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=p([].concat(e._logEvent.bindings,i)))}h.prototype=this;const d=new h(this);return u(this,d),d.child=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return A.call(this,n,...t)},d.level=o.level||this.level,n.onChild(d),d}return v.levels=function(e){const t=e.customLevels||{},n=Object.assign({},h.levels.values,t),r=Object.assign({},h.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t));return{values:n,labels:r}}(e),v.level=w,v.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=b,v.serializers=r,v._serialize=s,v._stdErrSerialize=c,v.child=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.call(this,E,...t)},t&&(v._logEvent=p()),v}function d(e,t,n,s){if(Object.defineProperty(e,s,{value:o(e.level,n)>o(s,n)?b:n[a][s],writable:!0,enumerable:!0,configurable:!0}),e[s]===b){if(!t.transmit)return;const r=o(t.transmit.level||e.level,n);if(o(s,n)<r)return}e[s]=function(e,t,n,s){return c=e[a][s],function(){const a=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var h=0;h<l.length;h++)l[h]=arguments[h];var d=!1;if(t.serialize&&(f(l,this._serialize,this.serializers,this._stdErrSerialize),d=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,s){const{level:o,log:a=e=>e}=s.formatters||{},c=n.slice();let l=c[0];const u={};let h=1+(0|e._childLevel);if(h<1&&(h=1),i&&(u.time=i),o){const n=o(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(null!==l&&"object"===typeof l)for(;h--&&"object"===typeof c[0];)Object.assign(u,c.shift());return[a(u),...c]}if(null!==l&&"object"===typeof l){for(;h--&&"object"===typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"===typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[s.messageKey]=l),[a(u)]}(this,s,l,a,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=o(r,n),c=o(s,n);if(c<i)return;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||f(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,c),e._logEvent=p(l)}(this,{ts:a,methodLevel:s,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:o(e._level,n)},l,d)}};var c}(e,t,n,s);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[s]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[s]))}function f(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=h.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function g(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function y(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?v:E}function m(){return{}}function w(e){return e}function b(){}function v(){return!1}function E(){return Date.now()}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=s,h.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:E,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=h,e.exports.pino=h},8951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},9038:(e,t,n)=>{var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function g(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function y(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function m(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=y(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=h(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),f(e)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},p.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),f(e)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function A(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function x(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(s){console.warn("Response "+s.message)}}}),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},b.call(E.prototype),b.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var k=[301,302,303,307,308];S.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(O){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function I(e,n){return new Promise(function(i,s){var a=new E(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e={statusText:l.statusText,headers:x(l.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?e.status=200:e.status=l.status,e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout(function(){i(new S(t,e))},0)},l.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request timed out"))},0)},l.onabort=function(){setTimeout(function(){s(new t.DOMException("Aborted","AbortError"))},0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"===typeof n.headers&&!(n.headers instanceof p||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){f.push(h(e)),l.setRequestHeader(e,d(n.headers[e]))}),a.headers.forEach(function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)})}else a.headers.forEach(function(e,t){l.setRequestHeader(t,e)});a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})}I.polyfill=!0,r.fetch||(r.fetch=I,r.Headers=p,r.Request=E,r.Response=S),t.Headers=p,t.Request=E,t.Response=S,t.fetch=I,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},9332:(e,t,n)=>{"use strict";t.g=void 0;const r=n(33);t.g=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(s){return null}function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.getElementsByTagName("meta");for(let e=0;e<i.length;e++){const t=i[e],r=["itemprop","property","name"].map(e=>t.getAttribute(e)).filter(e=>!!e&&n.includes(e));if(r.length&&r){const e=t.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4467);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9827:(e,t,n)=>{"use strict";n.d(t,{o0:()=>f});var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},o=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},a=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u=3,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?g(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!==typeof navigator?g(navigator.userAgent):"undefined"!==typeof process&&process.version?new s(process.version.slice(1)):null}function p(e){return""!==e&&h.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}function g(e){var t=p(e);if(!t)return null;var n=t[0],s=t[1];if("searchbot"===n)return new a;var c=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);c?c.length<u&&(c=r(r([],c,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(u-c.length),!0)):c=[];var h=c.join("."),f=function(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],i=r[0];if(r[1].exec(e))return i}return null}(e),g=l.exec(e);return g&&g[1]?new o(n,h,f,g[1]):new i(n,h,f)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{293:"a5527c54",389:"4d45e616",494:"fc2ead42",507:"23c71ff0",550:"4f0820cd",676:"8abc68c7",880:"f179f903",965:"9955dad9",1017:"af27bcd0",1128:"c726b108",1516:"38d20f66",1519:"7efcc2b0",1641:"218ef670",1653:"d2a0c2b4",1687:"16614d24",1950:"f5ec4028",2784:"fa5d70be",3061:"26aa6449",3196:"cb11ff34",3288:"da19d0bd",3760:"9cbbd0c1",3874:"6dc66172",4141:"e6c347cd",4249:"a3edf8b1",4325:"81f705d7",4335:"433b7d2f",4435:"335b3dbf",4504:"f60e57d7",4829:"0e64c64a",5124:"a6e02f35",5235:"216e0dda",5563:"fdbde48e",5829:"1e561b8f",6080:"aa8b0f06",6091:"684e40f5",6226:"7e174ffe",6435:"628e563f",6453:"21748110",6454:"6983cf40",6805:"d161b627",6946:"6dddf779",7055:"946b7a21",7163:"5dbda0ff",7341:"4beaadca",7405:"1ae35304",7455:"288c4540",7491:"f78b63ad",7509:"2273a34a",7545:"9ea7b17d",8019:"e5e6b8d2",8091:"94c80a55",8259:"5589436b",8377:"97497f02",8438:"7af0fe2c",8646:"854d7c26",8702:"d69454cd",8714:"17eff88e",8808:"7fa26b31",9321:"fb499f78",9532:"2f8b3e30",9840:"8453766b"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="@str-domains/dapp:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={8792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[o,a,c]=r,l=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunk_str_domains_dapp=self.webpackChunk_str_domains_dapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>pc,My:()=>sc,Ph:()=>cc,lX:()=>lc,Id:()=>fc,fg:()=>mc,qj:()=>dc,aT:()=>ac,lq:()=>uc,z:()=>hc,Q5:()=>bc});var t=n(5043),r=n(4391);const i="6.15.0";function s(e,t,n){const r=t.split("|").map(e=>e.trim());for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error("invalid value for type ".concat(t));throw i.code="INVALID_ARGUMENT",i.argument="value.".concat(n),i.value=e,i}async function o(e){const t=Object.keys(e),n=await Promise.all(t.map(t=>Promise.resolve(e[t])));return n.reduce((e,n,r)=>(e[t[r]]=n,e),{})}function a(e,t,n){for(let r in t){let i=t[r];const o=n?n[r]:null;o&&s(i,o,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function c(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"===typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>c(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return c(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const n=Object.keys(e);return n.sort(),"{ "+n.map(n=>"".concat(c(n,t),": ").concat(c(e[n],t))).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function l(e,t){return e&&e.code===t}function u(e){return l(e,"CALL_EXCEPTION")}function h(e,t,n){let r,s=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(c(n)));for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+c(t))}}r.push("code=".concat(t)),r.push("version=".concat(i)),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return a(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&a(r,{shortMessage:s}),r}function d(e,t,n,r){if(!e)throw h(t,n,r)}function f(e,t,n,r){d(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function p(e,t,n){null==n&&(n=""),n&&(n=": "+n),d(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),d(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const g=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e},[]);function y(e){d(g.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function m(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),d(!1,"private constructor; use ".concat(e,"from* methods"),"UNSUPPORTED_OPERATION",{operation:t})}}function w(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b(e,t){w(e,t),t.add(e)}function v(e,t,n){w(e,t),t.set(e,n)}var E=n(4467);function A(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function x(e,t){return e.get(A(e,t))}function S(e,t,n){return e.set(A(e,t),n),n}function k(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}f(!1,"invalid BytesLike value",t||"value",e)}function I(e,t){return k(e,t,!1)}function O(e,t){return k(e,t,!0)}function P(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function T(e){return P(e,!0)||e instanceof Uint8Array}const C="0123456789abcdef";function N(e){const t=I(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=C[(240&e)>>4]+C[15&e]}return n}function R(e){return"0x"+e.map(e=>N(e).substring(2)).join("")}function _(e){return P(e,!0)?(e.length-2)/2:I(e).length}function B(e,t,n){const r=I(e);return null!=n&&n>r.length&&d(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),N(r.slice(null==t?0:t,null==n?r.length:n))}function L(e,t,n){const r=I(e);d(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),N(i)}function U(e,t){return L(e,t,!0)}const j=BigInt(0),M=BigInt(1),D=9007199254740991;function F(e,t){const n=V(e,"value"),r=BigInt(G(t,"width"));if(d(n>>r===j,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-M){return-((~n&(M<<r)-M)+M)}return n}function z(e,t){let n=q(e,"value");const r=BigInt(G(t,"width")),i=M<<r-M;if(n<j){n=-n,d(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(M<<r)-M)+M}return d(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function H(e,t){const n=V(e,"value"),r=BigInt(G(t,"bits"));return n&(M<<r)-M}function q(e,t){switch(typeof e){case"bigint":return e;case"number":return f(Number.isInteger(e),"underflow",t||"value",e),f(e>=-D&&e<=D,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(n){f(!1,"invalid BigNumberish string: ".concat(n.message),t||"value",e)}}f(!1,"invalid BigNumberish value",t||"value",e)}function V(e,t){const n=q(e,t);return d(n>=j,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const W="0123456789abcdef";function K(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=W[n>>4],t+=W[15&n];return BigInt(t)}return q(e)}function G(e,t){switch(typeof e){case"bigint":return f(e>=-D&&e<=D,"overflow",t||"value",e),Number(e);case"number":return f(Number.isInteger(e),"underflow",t||"value",e),f(e>=-D&&e<=D,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return G(BigInt(e),t)}catch(n){f(!1,"invalid numeric string: ".concat(n.message),t||"value",e)}}f(!1,"invalid numeric value",t||"value",e)}function Q(e,t){let n=V(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=G(t,"width");for(d(2*r>=n.length,"value exceeds width (".concat(r," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function J(e){const t=V(e,"value");if(t===j)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const e=2*i;r[i]=parseInt(n.substring(e,e+2),16)}return r}function Y(e){let t=N(T(e)?e:J(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}var Z;const X=BigInt(-1),$=BigInt(0),ee=BigInt(1),te=BigInt(5),ne={};let re="0000";for(;re.length<80;)re+=re;function ie(e){let t=re;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function se(e,t,n){const r=BigInt(t.width);if(t.signed){const t=ee<<r-ee;d(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>$?F(H(e,r),r):-F(H(-e,r),r)}else{const t=ee<<r;d(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-ee}return e}function oe(e){"number"===typeof e&&(e="fixed128x".concat(e));let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);f(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=e,s=(e,t,n)=>null==i[e]?n:(f(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=s("signed","boolean",t),n=s("width","number",n),r=s("decimals","number",r)}f(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),f(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}var ae=new WeakMap,ce=new WeakMap,le=new WeakMap,ue=new WeakSet;class he{constructor(e,t,n){b(this,ue),(0,E.A)(this,"format",void 0),v(this,ae,void 0),v(this,ce,void 0),v(this,le,void 0),(0,E.A)(this,"_value",void 0),m(e,ne,"FixedNumber"),S(ce,this,t),S(ae,this,n);const r=function(e,t){let n="";e<$&&(n="-",e*=X);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=re+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);a(this,{format:n.name,_value:r}),S(le,this,ie(n.decimals))}get signed(){return x(ae,this).signed}get width(){return x(ae,this).width}get decimals(){return x(ae,this).decimals}get value(){return x(ce,this)}addUnsafe(e){return A(ue,this,pe).call(this,e)}add(e){return A(ue,this,pe).call(this,e,"add")}subUnsafe(e){return A(ue,this,ge).call(this,e)}sub(e){return A(ue,this,ge).call(this,e,"sub")}mulUnsafe(e){return A(ue,this,ye).call(this,e)}mul(e){return A(ue,this,ye).call(this,e,"mul")}mulSignal(e){A(ue,this,de).call(this,e);const t=x(ce,this)*x(ce,e);return d(t%x(le,this)===$,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),A(ue,this,fe).call(this,t/x(le,this),"mulSignal")}divUnsafe(e){return A(ue,this,me).call(this,e)}div(e){return A(ue,this,me).call(this,e,"div")}divSignal(e){d(x(ce,e)!==$,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),A(ue,this,de).call(this,e);const t=x(ce,this)*x(le,this);return d(t%x(ce,e)===$,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),A(ue,this,fe).call(this,t/x(ce,e),"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=ie(r):r<0&&(t*=ie(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=x(ce,this);return x(ce,this)<$&&(e-=x(le,this)-ee),e=x(ce,this)/x(le,this)*x(le,this),A(ue,this,fe).call(this,e,"floor")}ceiling(){let e=x(ce,this);return x(ce,this)>$&&(e+=x(le,this)-ee),e=x(ce,this)/x(le,this)*x(le,this),A(ue,this,fe).call(this,e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=te*ie(t-1);let r=this.value+n;const i=ie(t);return r=r/i*i,se(r,x(ae,this),"round"),new he(ne,r,x(ae,this))}isZero(){return x(ce,this)===$}isNegative(){return x(ce,this)<$}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return he.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:G(t),i=oe(n);let s=q(e,"value");const o=r-i.decimals;if(o>0){const t=ie(o);d(s%t===$,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else o<0&&(s*=ie(-o));return se(s,i,"fromValue"),new he(ne,s,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);f(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=oe(t);let i=n[2]||"0",s=n[3]||"";for(;s.length<r.decimals;)s+=re;d(s.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,r.decimals);const o=BigInt(n[1]+i+s);return se(o,r,"fromString"),new he(ne,o,r)}static fromBytes(e,t){let n=K(I(e,"value"));const r=oe(t);return r.signed&&(n=F(n,r.width)),se(n,r,"fromBytes"),new he(ne,n,r)}}function de(e){f(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}function fe(e,t){return e=se(e,x(ae,this),t),new Z(ne,e,x(ae,this))}function pe(e,t){return A(ue,this,de).call(this,e),A(ue,this,fe).call(this,x(ce,this)+x(ce,e),t)}function ge(e,t){return A(ue,this,de).call(this,e),A(ue,this,fe).call(this,x(ce,this)-x(ce,e),t)}function ye(e,t){return A(ue,this,de).call(this,e),A(ue,this,fe).call(this,x(ce,this)*x(ce,e)/x(le,this),t)}function me(e,t){return d(x(ce,e)!==$,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),A(ue,this,de).call(this,e),A(ue,this,fe).call(this,x(ce,this)*x(le,this)/x(ce,e),t)}Z=he;const we=["wei","kwei","mwei","gwei","szabo","finney","ether"];function be(e){return function(e,t){let n=18;if("string"===typeof t){const e=we.indexOf(t);f(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=G(t,"unit"));return he.fromValue(e,n,{decimals:n,width:512}).toString()}(e,18)}function ve(e){return function(e,t){f("string"===typeof e,"value must be a string","value",e);let n=18;if("string"===typeof t){const e=we.indexOf(t);f(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=G(t,"unit"));return he.fromString(e,{decimals:n,width:512}).value}(e,18)}var Ee=n(9379);const Ae=32,xe=new Uint8Array(Ae),Se=["then"],ke={},Ie=new WeakMap;function Oe(e){return Ie.get(e)}function Pe(e,t){Ie.set(e,t)}function Te(e,t){const n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));throw n.error=t,n}function Ce(e,t,n){return e.indexOf(null)>=0?t.map((e,t)=>e instanceof Re?Ce(Oe(e),e,n):e):e.reduce((e,r,i)=>{let s=t.getValue(r);return r in e||(n&&s instanceof Re&&(s=Ce(Oe(s),s,n)),e[r]=s),e},{})}var Ne=new WeakMap;class Re extends Array{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;r!==ke&&(i=t,s=[],o=!1),super(i.length),v(this,Ne,void 0),i.forEach((e,t)=>{this[t]=e});const a=s.reduce((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(Pe(this,Object.freeze(i.map((e,t)=>{const n=s[t];return null!=n&&1===a.get(n)?n:null}))),S(Ne,this,[]),null==x(Ne,this)&&x(Ne,this),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=G(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&Te("index ".concat(n),r),r}if(Se.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return Pe(c,Oe(this)),c}toArray(e){const t=[];return this.forEach((n,r)=>{n instanceof Error&&Te("index ".concat(r),n),e&&n instanceof Re&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){const t=Oe(this);return t.reduce((n,r,i)=>(d(null!=r,"value at index ".concat(i," unnamed"),"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Ce(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=Oe(this),r=[],i=[];for(let s=e;s<t;s++)r.push(this[s]),i.push(n[s]);return new Re(ke,r,i)}filter(e,t){const n=Oe(this),r=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Te("index ".concat(s),o),e.call(t,o,s,this)&&(r.push(o),i.push(n[s]))}return new Re(ke,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&Te("index ".concat(r),i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=Oe(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&Te("property ".concat(JSON.stringify(e)),n.error),n}static fromItems(e,t){return new Re(ke,e,t)}}function _e(e){let t=J(e);return d(t.length<=Ae,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ae,offset:t.length}),t.length!==Ae&&(t=O(R([xe.slice(t.length%Ae),t]))),t}class Be{constructor(e,t,n,r){(0,E.A)(this,"name",void 0),(0,E.A)(this,"type",void 0),(0,E.A)(this,"localName",void 0),(0,E.A)(this,"dynamic",void 0),a(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){f(!1,e,this.localName,t)}}var Le=new WeakMap,Ue=new WeakMap,je=new WeakSet;class Me{constructor(){b(this,je),v(this,Le,void 0),v(this,Ue,void 0),S(Le,this,[]),S(Ue,this,0)}get data(){return R(x(Le,this))}get length(){return x(Ue,this)}appendWriter(e){return A(je,this,De).call(this,O(e.data))}writeBytes(e){let t=O(e);const n=t.length%Ae;return n&&(t=O(R([t,xe.slice(n)]))),A(je,this,De).call(this,t)}writeValue(e){return A(je,this,De).call(this,_e(e))}writeUpdatableValue(){const e=x(Le,this).length;return x(Le,this).push(xe),S(Ue,this,x(Ue,this)+Ae),t=>{x(Le,this)[e]=_e(t)}}}function De(e){return x(Le,this).push(e),S(Ue,this,x(Ue,this)+e.length),e.length}var Fe=new WeakMap,ze=new WeakMap,He=new WeakMap,qe=new WeakMap,Ve=new WeakMap,We=new WeakSet;class Ke{constructor(e,t,n){b(this,We),(0,E.A)(this,"allowLoose",void 0),v(this,Fe,void 0),v(this,ze,void 0),v(this,He,void 0),v(this,qe,void 0),v(this,Ve,void 0),a(this,{allowLoose:!!t}),S(Fe,this,O(e)),S(He,this,0),S(qe,this,null),S(Ve,this,null!=n?n:1024),S(ze,this,0)}get data(){return N(x(Fe,this))}get dataLength(){return x(Fe,this).length}get consumed(){return x(ze,this)}get bytes(){return new Uint8Array(x(Fe,this))}subReader(e){const t=new Ke(x(Fe,this).slice(x(ze,this)+e),this.allowLoose,x(Ve,this));return S(qe,t,this),t}readBytes(e,t){let n=A(We,this,Qe).call(this,0,e,!!t);return A(We,this,Ge).call(this,e),S(ze,this,x(ze,this)+n.length),n.slice(0,e)}readValue(){return K(this.readBytes(Ae))}readIndex(){return G(K(this.readBytes(Ae)))}}function Ge(e){var t;if(x(qe,this))return A(We,t=x(qe,this),Ge).call(t,e);S(He,this,x(He,this)+e),d(x(Ve,this)<1||x(He,this)<=x(Ve,this)*this.dataLength,"compressed ABI data exceeds inflation ratio of ".concat(x(Ve,this)," ( see: https://github.com/ethers-io/ethers.js/issues/4537 )"),"BUFFER_OVERRUN",{buffer:O(x(Fe,this)),offset:x(ze,this),length:e,info:{bytesRead:x(He,this),dataLength:this.dataLength}})}function Qe(e,t,n){let r=Math.ceil(t/Ae)*Ae;return x(ze,this)+r>x(Fe,this).length&&(this.allowLoose&&n&&x(ze,this)+t<=x(Fe,this).length?r=t:d(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:O(x(Fe,this)),length:x(Fe,this).length,offset:x(ze,this)+r})),x(Fe,this).slice(x(ze,this),x(ze,this)+r)}function Je(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Ye(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function Ze(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Je(e.outputLen),Je(e.blockLen)}function Xe(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function $e(e,t){Ye(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const et=BigInt(2**32-1),tt=BigInt(32);function nt(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&et),l:Number(e>>tt&et)}:{h:0|Number(e>>tt&et),l:0|Number(e&et)}}function rt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=nt(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const it=(e,t,n)=>e<<n|t>>>32-n,st=(e,t,n)=>t<<n|e>>>32-n,ot=(e,t,n)=>t<<n-32|e>>>64-n,at=(e,t,n)=>e<<n-32|t>>>64-n;const ct={fromBig:nt,split:rt,toBig:(e,t)=>BigInt(e>>>0)<<tt|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:it,rotlSL:st,rotlBH:ot,rotlBL:at,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},lt=ct,ut="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ht=e=>e instanceof Uint8Array,dt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),ft=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),pt=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const gt=async()=>{};async function yt(e,t,n){let r=Date.now();for(let i=0;i<e;i++){n(i);const e=Date.now()-r;e>=0&&e<t||(await gt(),r+=e)}}function mt(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!ht(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class wt{clone(){return this._cloneInto()}}const bt={}.toString;function vt(e,t){if(void 0!==t&&"[object Object]"!==bt.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Et(e){const t=t=>e().update(mt(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function At(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ut&&"function"===typeof ut.getRandomValues)return ut.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[xt,St,kt]=[[],[],[]],It=BigInt(0),Ot=BigInt(1),Pt=BigInt(2),Tt=BigInt(7),Ct=BigInt(256),Nt=BigInt(113);for(let n=0,aU=Ot,cU=1,lU=0;n<24;n++){[cU,lU]=[lU,(2*cU+3*lU)%5],xt.push(2*(5*lU+cU)),St.push((n+1)*(n+2)/2%64);let e=It;for(let t=0;t<7;t++)aU=(aU<<Ot^(aU>>Tt)*Nt)%Ct,aU&Pt&&(e^=Ot<<(Ot<<BigInt(t))-Ot);kt.push(e)}const[Rt,_t]=rt(kt,!0),Bt=(e,t,n)=>n>32?ot(e,t,n):it(e,t,n),Lt=(e,t,n)=>n>32?at(e,t,n):st(e,t,n);class Ut extends wt{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Je(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=dt(this.state)}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Bt(s,o,1)^n[t],c=Lt(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=St[n],s=Bt(t,i,r),o=Lt(t,i,r),a=xt[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Rt[r],e[1]^=_t[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Xe(this);const{blockLen:t,state:n}=this,r=(e=mt(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Xe(this,!1),Ye(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Je(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Ut(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const jt=(e,t,n)=>Et(()=>new Ut(t,e,n)),Mt=jt(1,136,32);let Dt=!1;const Ft=function(e){return Mt(e)};let zt=Ft;function Ht(e){const t=I(e,"data");return N(zt(t))}Ht._=Ft,Ht.lock=function(){Dt=!0},Ht.register=function(e){if(Dt)throw new TypeError("keccak256 is locked");zt=e},Object.freeze(Ht);const qt=BigInt(0),Vt=BigInt(36);function Wt(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=I(Ht(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Kt={};for(let n=0;n<10;n++)Kt[String(n)]=String(n);for(let n=0;n<26;n++)Kt[String.fromCharCode(65+n)]=String(10+n);function Gt(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>Kt[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const Qt=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function Jt(e){if(f("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Wt(e);return f(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){f(e.substring(2,4)===Gt(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=qt;for(let n=0;n<e.length;n++)t=t*Vt+Qt[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Wt("0x"+t)}f(!1,"invalid address","address",e)}const Yt={};function Zt(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new tn(Yt,"".concat(n?"":"u","int").concat(t),e,{signed:n,width:t})}function Xt(e,t){return new tn(Yt,"bytes".concat(t||""),e,{size:t})}const $t=Symbol.for("_ethers_typed");var en=new WeakMap;class tn{constructor(e,t,n,r){(0,E.A)(this,"type",void 0),(0,E.A)(this,"value",void 0),v(this,en,void 0),(0,E.A)(this,"_typedSymbol",void 0),null==r&&(r=null),m(Yt,e,"Typed"),a(this,{_typedSymbol:$t,type:t,value:n}),S(en,this,r),this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map(e=>e.format()).join(","),")"):this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return x(en,this)}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===x(en,this)?-1:!1===x(en,this)?this.value.length:null}static from(e,t){return new tn(Yt,e,t)}static uint8(e){return Zt(e,8)}static uint16(e){return Zt(e,16)}static uint24(e){return Zt(e,24)}static uint32(e){return Zt(e,32)}static uint40(e){return Zt(e,40)}static uint48(e){return Zt(e,48)}static uint56(e){return Zt(e,56)}static uint64(e){return Zt(e,64)}static uint72(e){return Zt(e,72)}static uint80(e){return Zt(e,80)}static uint88(e){return Zt(e,88)}static uint96(e){return Zt(e,96)}static uint104(e){return Zt(e,104)}static uint112(e){return Zt(e,112)}static uint120(e){return Zt(e,120)}static uint128(e){return Zt(e,128)}static uint136(e){return Zt(e,136)}static uint144(e){return Zt(e,144)}static uint152(e){return Zt(e,152)}static uint160(e){return Zt(e,160)}static uint168(e){return Zt(e,168)}static uint176(e){return Zt(e,176)}static uint184(e){return Zt(e,184)}static uint192(e){return Zt(e,192)}static uint200(e){return Zt(e,200)}static uint208(e){return Zt(e,208)}static uint216(e){return Zt(e,216)}static uint224(e){return Zt(e,224)}static uint232(e){return Zt(e,232)}static uint240(e){return Zt(e,240)}static uint248(e){return Zt(e,248)}static uint256(e){return Zt(e,256)}static uint(e){return Zt(e,256)}static int8(e){return Zt(e,-8)}static int16(e){return Zt(e,-16)}static int24(e){return Zt(e,-24)}static int32(e){return Zt(e,-32)}static int40(e){return Zt(e,-40)}static int48(e){return Zt(e,-48)}static int56(e){return Zt(e,-56)}static int64(e){return Zt(e,-64)}static int72(e){return Zt(e,-72)}static int80(e){return Zt(e,-80)}static int88(e){return Zt(e,-88)}static int96(e){return Zt(e,-96)}static int104(e){return Zt(e,-104)}static int112(e){return Zt(e,-112)}static int120(e){return Zt(e,-120)}static int128(e){return Zt(e,-128)}static int136(e){return Zt(e,-136)}static int144(e){return Zt(e,-144)}static int152(e){return Zt(e,-152)}static int160(e){return Zt(e,-160)}static int168(e){return Zt(e,-168)}static int176(e){return Zt(e,-176)}static int184(e){return Zt(e,-184)}static int192(e){return Zt(e,-192)}static int200(e){return Zt(e,-200)}static int208(e){return Zt(e,-208)}static int216(e){return Zt(e,-216)}static int224(e){return Zt(e,-224)}static int232(e){return Zt(e,-232)}static int240(e){return Zt(e,-240)}static int248(e){return Zt(e,-248)}static int256(e){return Zt(e,-256)}static int(e){return Zt(e,-256)}static bytes1(e){return Xt(e,1)}static bytes2(e){return Xt(e,2)}static bytes3(e){return Xt(e,3)}static bytes4(e){return Xt(e,4)}static bytes5(e){return Xt(e,5)}static bytes6(e){return Xt(e,6)}static bytes7(e){return Xt(e,7)}static bytes8(e){return Xt(e,8)}static bytes9(e){return Xt(e,9)}static bytes10(e){return Xt(e,10)}static bytes11(e){return Xt(e,11)}static bytes12(e){return Xt(e,12)}static bytes13(e){return Xt(e,13)}static bytes14(e){return Xt(e,14)}static bytes15(e){return Xt(e,15)}static bytes16(e){return Xt(e,16)}static bytes17(e){return Xt(e,17)}static bytes18(e){return Xt(e,18)}static bytes19(e){return Xt(e,19)}static bytes20(e){return Xt(e,20)}static bytes21(e){return Xt(e,21)}static bytes22(e){return Xt(e,22)}static bytes23(e){return Xt(e,23)}static bytes24(e){return Xt(e,24)}static bytes25(e){return Xt(e,25)}static bytes26(e){return Xt(e,26)}static bytes27(e){return Xt(e,27)}static bytes28(e){return Xt(e,28)}static bytes29(e){return Xt(e,29)}static bytes30(e){return Xt(e,30)}static bytes31(e){return Xt(e,31)}static bytes32(e){return Xt(e,32)}static address(e){return new tn(Yt,"address",e)}static bool(e){return new tn(Yt,"bool",!!e)}static bytes(e){return new tn(Yt,"bytes",e)}static string(e){return new tn(Yt,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new tn(Yt,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===$t}static dereference(e,t){if(tn.isTyped(e)){if(e.type!==t)throw new Error("invalid type: expecetd ".concat(t,", got ").concat(e.type));return e.value}return e}}class nn extends Be{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=tn.dereference(t,"string");try{n=Jt(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return Jt(Q(e.readValue(),20))}}class rn extends Be{constructor(e){super(e.name,e.type,"_",e.dynamic),(0,E.A)(this,"coder",void 0),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function sn(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map(t=>{const r=t.localName;return d(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),d(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]})}else f(!1,"invalid tuple value","tuple",n);f(t.length===r.length,"types/value length mismatch","tuple",n);let i=new Me,s=new Me,o=[];t.forEach((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();o.push(e=>{r(e+t)})}else e.encode(i,n)}),o.forEach(e=>{e(i.length)});let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function on(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{s=t.decode(r)}catch(o){if(l(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(o){if(l(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)}),Re.fromItems(n,r)}class an extends Be{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),(0,E.A)(this,"coder",void 0),(0,E.A)(this,"length",void 0),a(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=tn.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),p(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return sn(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),d(t*Ae<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Ae,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new rn(this.coder));return on(e,n)}}class cn extends Be{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=tn.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class ln extends Be{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=O(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class un extends ln{constructor(e){super("bytes",e)}decode(e){return N(super.decode(e))}}class hn extends Be{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),(0,E.A)(this,"size",void 0),a(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=O(tn.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return N(e.readBytes(this.size))}}const dn=new Uint8Array([]);class fn extends Be{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(dn)}decode(e){return e.readBytes(0),null}}const pn=BigInt(0),gn=BigInt(1),yn=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class mn extends Be{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),(0,E.A)(this,"size",void 0),(0,E.A)(this,"signed",void 0),a(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=q(tn.dereference(t,this.type)),r=H(yn,256);if(this.signed){let e=H(r,8*this.size-1);(n>e||n<-(e+gn))&&this._throwError("value out-of-bounds",t),n=z(n,256)}else(n<pn||n>H(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=H(e.readValue(),8*this.size);return this.signed&&(t=F(t,8*this.size)),t}}function wn(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const bn=Object.freeze({error:function(e,t,n,r,i){f(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:wn,replace:function(e,t,n,r,i){return"OVERLONG"===e?(f("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),wn(e,t,n))}});function vn(e,t){null==t&&(t=bn.error);const n=I(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,o=65535}if(i-1+s>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let a=e&(1<<8-s-1)-1;for(let c=0;c<s;c++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|63&e,i++}null!==a&&(a>1114111?i+=t("OUT_OF_RANGE",i-1-s,n,r,a):a>=55296&&a<=57343?i+=t("UTF16_SURROGATE",i-1-s,n,r,a):a<=o?i+=t("OVERLONG",i-1-s,n,r,a):r.push(a))}return r}function En(e,t){f("string"===typeof e,"invalid string value","str",e),null!=t&&(y(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);f(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function An(e,t){return vn(e,t).map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}class xn extends ln{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,En(tn.dereference(t,"string")))}decode(e){return An(super.decode(e))}}class Sn extends Be{constructor(e,t){let n=!1;const r=[];e.forEach(e=>{e.dynamic&&(n=!0),r.push(e.type)});super("tuple","tuple("+r.join(",")+")",t,n),(0,E.A)(this,"coders",void 0),a(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e},{});return this.coders.forEach((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))}),Object.freeze(e)}encode(e,t){const n=tn.dereference(t,"tuple");return sn(e,this.coders,n)}decode(e){return on(e,this.coders)}}function kn(e){return Ht(En(e))}var In;function On(e){const t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}const Pn=On("external public payable override".split(" ")),Tn="constant external internal payable private public pure view override",Cn=On(Tn.split(" ")),Nn="constructor error event fallback function receive struct",Rn=On(Nn.split(" ")),_n="calldata memory storage payable indexed",Bn=On(_n.split(" ")),Ln=On([Nn,_n,"tuple returns",Tn].join(" ").split(" ")),Un={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},jn=new RegExp("^(\\s*)"),Mn=new RegExp("^([0-9]+)"),Dn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Fn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),zn=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Hn=new WeakMap,qn=new WeakMap,Vn=new WeakSet;class Wn{get offset(){return x(Hn,this)}get length(){return x(qn,this).length-x(Hn,this)}constructor(e){b(this,Vn),v(this,Hn,void 0),v(this,qn,void 0),S(Hn,this,0),S(qn,this,e.slice())}clone(){return new Wn(x(qn,this))}reset(){S(Hn,this,0)}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error("expected keyword ".concat(t.text));return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error("expected ".concat(e,"; got ").concat(t.type," ").concat(JSON.stringify(t.text)))}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=A(Vn,this,Kn).call(this,x(Hn,this)+1,e.match+1);return S(Hn,this,e.match+1),t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;x(Hn,this)<e.match-1;){const e=this.peek().linkNext;t.push(A(Vn,this,Kn).call(this,x(Hn,this)+1,e)),S(Hn,this,e)}return S(Hn,this,e.match+1),t}peek(){if(x(Hn,this)>=x(qn,this).length)throw new Error("out-of-bounds");return x(qn,this)[x(Hn,this)]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){var e;const t=this.peek();return S(Hn,this,(e=x(Hn,this),e++,e)),t}toString(){const e=[];for(let t=x(Hn,this);t<x(qn,this).length;t++){const n=x(qn,this)[t];e.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(e.join(" "),">")}}function Kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new In(x(qn,this).slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}function Gn(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(s,": ").concat(t))};let r=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(jn);a&&(s+=a[1].length,o=e.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let l=Un[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,"OPEN_PAREN"===l)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=G(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(Dn),a){if(c.text=a[1],s+=c.text.length,Ln.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(zn)){c.type="TYPE";continue}c.type="ID"}else{if(a=o.match(Mn),!a)throw new Error("unexpected token ".concat(JSON.stringify(o[0])," at position ").concat(s));c.text=a[1],c.type="NUMBER",s+=c.text.length}}return new Wn(t.map(e=>Object.freeze(e)))}function Qn(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function Jn(e,t){if(t.peekKeyword(Rn)){const n=t.pop().text;if(n!==e)throw new Error("expected ".concat(e,", got ").concat(n))}return t.popType("ID")}function Yn(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function Zn(e){let t=Yn(e,Cn);return Qn(t,On("constant payable nonpayable".split(" "))),Qn(t,On("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Xn(e,t){return e.popParams().map(e=>fr.from(e,t))}function $n(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return q(e.pop().text);throw new Error("invalid gas")}return null}function er(e){if(e.length)throw new Error("unexpected tokens at offset ".concat(e.offset,": ").concat(e.toString()))}In=Wn;const tr=new RegExp(/^(.*)\[([0-9]*)\]$/);function nr(e){const t=e.match(zn);if(f(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);f(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);f(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const rr={},ir=Symbol.for("_ethers_internal"),sr="_ParamTypeInternal",or="_ErrorInternal",ar="_EventInternal",cr="_ConstructorInternal",lr="_FallbackInternal",ur="_FunctionInternal",hr="_StructInternal";var dr=new WeakSet;class fr{constructor(e,t,n,r,i,s,o,c){if(b(this,dr),(0,E.A)(this,"name",void 0),(0,E.A)(this,"type",void 0),(0,E.A)(this,"baseType",void 0),(0,E.A)(this,"indexed",void 0),(0,E.A)(this,"components",void 0),(0,E.A)(this,"arrayLength",void 0),(0,E.A)(this,"arrayChildren",void 0),m(e,rr,"ParamType"),Object.defineProperty(this,ir,{value:sr}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==o||null==c)throw new Error("")}else if(null!=o||null!=c)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");a(this,{name:t,type:n,baseType:r,indexed:i,components:s,arrayLength:o,arrayChildren:c})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(e=>n.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((e,r)=>n.components[r].walk(e,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],r=[e];return A(dr,this,pr).call(this,n,e,t,e=>{r[0]=e}),n.length&&await Promise.all(n),r[0]}static from(e,t){if(fr.isParamType(e))return e;if("string"===typeof e)try{return fr.from(Gn(e),t)}catch(o){f(!1,"invalid param type","obj",e)}else if(e instanceof Wn){let n="",r="",i=null;Yn(e,On(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map(e=>fr.from(e)),n="tuple(".concat(i.map(e=>e.format()).join(","),")")):(n=nr(e.popType("TYPE")),r=n);let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new fr(rr,"",n,r,null,i,o,s),o=t.value,n+=t.text,r="array",i=null}let a=null;if(Yn(e,Bn).has("indexed")){if(!t)throw new Error("");a=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new fr(rr,c,n,r,a,i,o,s)}const n=e.name;f(!n||"string"===typeof n&&n.match(Fn),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(f(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,s=i.match(tr);if(s){const t=parseInt(s[2]||"-1"),o=fr.from({type:s[1],components:e.components});return new fr(rr,n||"",i,"array",r,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map(e=>fr.from(e)):null;return new fr(rr,n||"",i,"tuple",r,t,null,null)}return i=nr(e.type),new fr(rr,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[ir]===sr}}function pr(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach((t,r)=>{A(dr,i,pr).call(i,e,t,n,e=>{s[r]=e})}),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map(e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error("missing value for component ".concat(e.name));return t[e.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach((t,r)=>{var o;A(dr,o=i[r],pr).call(o,e,t,n,e=>{s[r]=e})}),void r(s)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}class gr{constructor(e,t,n){(0,E.A)(this,"type",void 0),(0,E.A)(this,"inputs",void 0),m(e,rr,"Fragment"),a(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{gr.from(JSON.parse(e))}catch(t){}return gr.from(Gn(e))}if(e instanceof Wn){switch(e.peekKeyword(Rn)){case"constructor":return vr.from(e);case"error":return wr.from(e);case"event":return br.from(e);case"fallback":case"receive":return Er.from(e);case"function":return Ar.from(e);case"struct":return xr.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return vr.from(e);case"error":return wr.from(e);case"event":return br.from(e);case"fallback":case"receive":return Er.from(e);case"function":return Ar.from(e);case"struct":return xr.from(e)}d(!1,"unsupported type: ".concat(e.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}f(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return vr.isFragment(e)}static isError(e){return wr.isFragment(e)}static isEvent(e){return br.isFragment(e)}static isFunction(e){return Ar.isFragment(e)}static isStruct(e){return xr.isFragment(e)}}class yr extends gr{constructor(e,t,n,r){super(e,t,r),(0,E.A)(this,"name",void 0),f("string"===typeof n&&n.match(Fn),"invalid identifier","name",n),r=Object.freeze(r.slice()),a(this,{name:n})}}function mr(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class wr extends yr{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,ir,{value:or})}get selector(){return kn(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+mr(e,this.inputs)),t.join(" ")}static from(e){if(wr.isFragment(e))return e;if("string"===typeof e)return wr.from(Gn(e));if(e instanceof Wn){const t=Jn("error",e),n=Xn(e);return er(e),new wr(rr,t,n)}return new wr(rr,e.name,e.inputs?e.inputs.map(fr.from):[])}static isFragment(e){return e&&e[ir]===or}}class br extends yr{constructor(e,t,n,r){super(e,"event",t,n),(0,E.A)(this,"anonymous",void 0),Object.defineProperty(this,ir,{value:ar}),a(this,{anonymous:r})}get topicHash(){return kn(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+mr(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map(e=>fr.from(e));return new br(rr,e,t,!1).topicHash}static from(e){if(br.isFragment(e))return e;if("string"===typeof e)try{return br.from(Gn(e))}catch(t){f(!1,"invalid event fragment","obj",e)}else if(e instanceof Wn){const t=Jn("event",e),n=Xn(e,!0),r=!!Yn(e,On(["anonymous"])).has("anonymous");return er(e),new br(rr,t,n,r)}return new br(rr,e.name,e.inputs?e.inputs.map(e=>fr.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[ir]===ar}}class vr extends gr{constructor(e,t,n,r,i){super(e,t,n),(0,E.A)(this,"payable",void 0),(0,E.A)(this,"gas",void 0),Object.defineProperty(this,ir,{value:cr}),a(this,{payable:r,gas:i})}format(e){if(d(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=["constructor".concat(mr(e,this.inputs))];return this.payable&&t.push("payable"),null!=this.gas&&t.push("@".concat(this.gas.toString())),t.join(" ")}static from(e){if(vr.isFragment(e))return e;if("string"===typeof e)try{return vr.from(Gn(e))}catch(t){f(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Wn){Yn(e,On(["constructor"]));const t=Xn(e),n=!!Yn(e,Pn).has("payable"),r=$n(e);return er(e),new vr(rr,"constructor",t,n,r)}return new vr(rr,"constructor",e.inputs?e.inputs.map(fr.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[ir]===cr}}class Er extends gr{constructor(e,t,n){super(e,"fallback",t),(0,E.A)(this,"payable",void 0),Object.defineProperty(this,ir,{value:lr}),a(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return"".concat(t,"()").concat(this.payable?" payable":"")}static from(e){if(Er.isFragment(e))return e;if("string"===typeof e)try{return Er.from(Gn(e))}catch(t){f(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Wn){const t=e.toString();f(e.peekKeyword(On(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(On(["fallback","receive"]))){const t=Xn(e);return f(0===t.length,"receive cannot have arguments","obj.inputs",t),Yn(e,On(["payable"])),er(e),new Er(rr,[],!0)}let n=Xn(e);n.length?f(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map(e=>e.format("minimal")).join(", ")):n=[fr.from("bytes")];const r=Zn(e);if(f("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),Yn(e,On(["returns"])).has("returns")){const t=Xn(e);f(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return er(e),new Er(rr,n,"payable"===r)}if("receive"===e.type)return new Er(rr,[],!0);if("fallback"===e.type){const t=[fr.from("bytes")],n="payable"===e.stateMutability;return new Er(rr,t,n)}f(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[ir]===lr}}class Ar extends yr{constructor(e,t,n,r,i,s){super(e,"function",t,r),(0,E.A)(this,"constant",void 0),(0,E.A)(this,"outputs",void 0),(0,E.A)(this,"stateMutability",void 0),(0,E.A)(this,"payable",void 0),(0,E.A)(this,"gas",void 0),Object.defineProperty(this,ir,{value:ur});a(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return kn(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+mr(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(mr(e,this.outputs))),null!=this.gas&&t.push("@".concat(this.gas.toString()))),t.join(" ")}static getSelector(e,t){t=(t||[]).map(e=>fr.from(e));return new Ar(rr,e,"view",t,[],null).selector}static from(e){if(Ar.isFragment(e))return e;if("string"===typeof e)try{return Ar.from(Gn(e))}catch(n){f(!1,"invalid function fragment","obj",e)}else if(e instanceof Wn){const t=Jn("function",e),n=Xn(e),r=Zn(e);let i=[];Yn(e,On(["returns"])).has("returns")&&(i=Xn(e));const s=$n(e);return er(e),new Ar(rr,t,r,n,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Ar(rr,e.name,t,e.inputs?e.inputs.map(fr.from):[],e.outputs?e.outputs.map(fr.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[ir]===ur}}class xr extends yr{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,ir,{value:hr})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return xr.from(Gn(e))}catch(t){f(!1,"invalid struct fragment","obj",e)}else if(e instanceof Wn){const t=Jn("struct",e),n=Xn(e);return er(e),new xr(rr,t,n)}return new xr(rr,e.name,e.inputs?e.inputs.map(fr.from):[])}static isFragment(e){return e&&e[ir]===hr}}const Sr=new Map;Sr.set(0,"GENERIC_PANIC"),Sr.set(1,"ASSERT_FALSE"),Sr.set(17,"OVERFLOW"),Sr.set(18,"DIVIDE_BY_ZERO"),Sr.set(33,"ENUM_RANGE_ERROR"),Sr.set(34,"BAD_STORAGE_DATA"),Sr.set(49,"STACK_UNDERFLOW"),Sr.set(50,"ARRAY_RANGE_ERROR"),Sr.set(65,"OUT_OF_MEMORY"),Sr.set(81,"UNINITIALIZED_FUNCTION_CALL");const kr=new RegExp(/^bytes([0-9]*)$/),Ir=new RegExp(/^(u?int)([0-9]*)$/);let Or=null,Pr=1024;var Tr=new WeakSet;class Cr{constructor(){b(this,Tr)}getDefaultValue(e){const t=e.map(e=>A(Tr,this,Nr).call(this,fr.from(e)));return new Sn(t,"_").defaultValue()}encode(e,t){p(t.length,e.length,"types/values length mismatch");const n=e.map(e=>A(Tr,this,Nr).call(this,fr.from(e))),r=new Sn(n,"_"),i=new Me;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map(e=>A(Tr,this,Nr).call(this,fr.from(e)));return new Sn(r,"_").decode(new Ke(t,n,Pr))}static _setDefaultMaxInflation(e){f("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Pr=e}static defaultAbiCoder(){return null==Or&&(Or=new Cr),Or}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",s=null,o=null;if(n){i="execution reverted";const e=I(n);if(n=N(n),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===N(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=": ".concat(JSON.stringify(s))}catch(c){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===N(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s="Panic due to ".concat(Sr.get(t)||"UNKNOWN","(").concat(t,")"),i+=": ".concat(s)}catch(c){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?Jt(t.to):null,data:t.data||"0x"};return t.from&&(a.from=Jt(t.from)),h(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:a,invocation:null,revert:o})}(e,t,n,Cr.defaultAbiCoder())}}function Nr(e){if(e.isArray())return new an(A(Tr,this,Nr).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Sn(e.components.map(e=>A(Tr,this,Nr).call(this,e)),e.name);switch(e.baseType){case"address":return new nn(e.name);case"bool":return new cn(e.name);case"string":return new xn(e.name);case"bytes":return new un(e.name);case"":return new fn(e.name)}let t=e.type.match(Ir);if(t){let n=parseInt(t[2]||"256");return f(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new mn(n/8,"int"===t[1],e.name)}if(t=e.type.match(kr),t){let n=parseInt(t[1]);return f(0!==n&&n<=32,"invalid bytes length","param",e),new hn(n,e.name)}f(!1,"invalid type","type",e.type)}function Rr(e){return e&&"function"===typeof e.getAddress}async function _r(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(d("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),f(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Jt(n)}function Br(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Jt(e):(d(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),_r(e,t.resolveName(e))):Rr(e)?_r(e,e.getAddress()):e&&"function"===typeof e.then?_r(e,e):void f(!1,"unsupported addressable value","target",e)}const Lr=new Uint8Array(32);Lr.fill(0);const Ur=BigInt(-1),jr=BigInt(0),Mr=BigInt(1),Dr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Fr=Q(Mr,32),zr=Q(jr,32),Hr={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},qr=["name","version","chainId","verifyingContract","salt"];function Vr(e){return function(t){return f("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const Wr={name:Vr("name"),version:Vr("version"),chainId:function(e){const t=q(e,"domain.chainId");return f(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Y(t)},verifyingContract:function(e){try{return Jt(e).toLowerCase()}catch(t){}f(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=I(e,"domain.salt");return f(32===t.length,'invalid domain value "salt"',"domain.salt",e),N(t)}};function Kr(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);f(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=H(Dr,n?r-1:r),s=n?(i+Mr)*Ur:jr;return function(t){const r=q(t,"value");return f(r>=s&&r<=i,"value out-of-bounds for ".concat(e),"value",r),Q(n?z(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return f(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return f(I(t).length===n,"invalid length for ".concat(e),"value",t),function(e){const t=I(e),n=t.length%32;return n?R([t,Lr.slice(n)]):N(t)}(t)}}}switch(e){case"address":return function(e){return U(Jt(e),32)};case"bool":return function(e){return e?Fr:zr};case"bytes":return function(e){return Ht(e)};case"string":return function(e){return kn(e)}}return null}function Gr(e,t){return"".concat(e,"(").concat(t.map(e=>{let{name:t,type:n}=e;return n+" "+t}).join(","),")")}function Qr(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var Jr=new WeakMap,Yr=new WeakMap,Zr=new WeakMap,Xr=new WeakSet;class $r{get types(){return JSON.parse(x(Jr,this))}constructor(e){b(this,Xr),(0,E.A)(this,"primaryType",void 0),v(this,Jr,void 0),v(this,Yr,void 0),v(this,Zr,void 0),S(Yr,this,new Map),S(Zr,this,new Map);const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach(s=>{i[s]=e[s].map(t=>{let{name:n,type:r}=t,{base:i,index:s}=Qr(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(s||"")}}),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)}),S(Jr,this,JSON.stringify(i));for(const o in i){const r=new Set;for(const s of i[o]){f(!r.has(s.name),"duplicate variable name ".concat(JSON.stringify(s.name)," in ").concat(JSON.stringify(o)),"types",e),r.add(s.name);const i=Qr(s.type).base;f(i!==o,"circular type reference to ".concat(JSON.stringify(i)),"types",e);Kr(i)||(f(n.has(i),"unknown type ".concat(JSON.stringify(i)),"types",e),n.get(i).push(o),t.get(o).add(i))}}const s=Array.from(n.keys()).filter(e=>0===n.get(e).length);f(0!==s.length,"missing primary type","types",e),f(1===s.length,"ambiguous primary types or unused types: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"types",e),a(this,{primaryType:s[0]}),function i(s,o){f(!o.has(s),"circular type reference to ".concat(JSON.stringify(s)),"types",e),o.add(s);for(const e of t.get(s))if(n.has(e)){i(e,o);for(const t of o)r.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of r){const e=Array.from(a);e.sort(),x(Yr,this).set(o,Gr(o,i[o])+e.map(e=>Gr(e,i[e])).join(""))}}getEncoder(e){let t=x(Zr,this).get(e);return t||(t=A(Xr,this,ei).call(this,e),x(Zr,this).set(e,t)),t}encodeType(e){const t=x(Yr,this).get(e);return f(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ht(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Kr(e))return n(e,t);const r=Qr(e).array;if(r)return f(-1===r.count||r.count===t.length,"array length mismatch; expected length ".concat(r.count),"value",t),t.map(e=>this._visit(r.prefix,e,n));const i=this.types[e];if(i)return i.reduce((e,r)=>{let{name:i,type:s}=r;return e[i]=this._visit(s,t[i],n),e},{});f(!1,"unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new $r(e)}static getPrimaryType(e){return $r.from(e).primaryType}static hashStruct(e,t,n){return $r.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Hr[n];f(r,"invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),t.push({name:n,type:r})}return t.sort((e,t)=>qr.indexOf(e.name)-qr.indexOf(t.name)),$r.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return R(["0x1901",$r.hashDomain(e),$r.from(t).hash(n)])}static hash(e,t,n){return Ht($r.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const i={};e.verifyingContract&&!P(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=$r.from(t);s.visit(n,(e,t)=>("address"!==e||P(t,20)||(i[t]="0x"),t));for(const o in i)i[o]=await r(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=s.visit(n,(e,t)=>"address"===e&&i[t]?i[t]:t)}}static getPayload(e,t,n){$r.hashDomain(e);const r={},i=[];qr.forEach(t=>{const n=e[t];null!=n&&(r[t]=Wr[t](n),i.push({name:t,type:Hr[t]}))});const s=$r.from(t);t=s.types;const o=Object.assign({},t);return f(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(n),{types:o,domain:r,primaryType:s.primaryType,message:s.visit(n,(e,t)=>{if(e.match(/^bytes(\d*)/))return N(I(t));if(e.match(/^u?int/))return q(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return f("string"===typeof t,"invalid string","value",t),t}f(!1,"unsupported type","type",e)})}}}function ei(e){{const t=Kr(e);if(t)return t}const t=Qr(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{f(-1===t.count||t.count===r.length,"array length mismatch; expected length ".concat(t.count),"value",r);let i=r.map(n);return x(Yr,this).has(e)&&(i=i.map(Ht)),Ht(R(i))}}const n=this.types[e];if(n){const t=kn(x(Yr,this).get(e));return e=>{const r=n.map(t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return x(Yr,this).has(r)?Ht(i):i});return r.unshift(t),R(r)}}f(!1,"unknown type: ".concat(e),"type",e)}function ti(e,t){return{address:Jt(e),storageKeys:t.map((e,t)=>(f(P(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase()))}}function ni(e){if(Array.isArray(e))return e.map((t,n)=>Array.isArray(t)?(f(2===t.length,"invalid slot set","value[".concat(n,"]"),t),ti(t[0],t[1])):(f(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),ti(t.address,t.storageKeys)));f(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map(t=>{const n=e[t].reduce((e,t)=>(e[t]=!0,e),{});return ti(t,Object.keys(n).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}const ri="0x0000000000000000000000000000000000000000000000000000000000000000",ii=BigInt(0),si=BigInt(1),oi=BigInt(2),ai=BigInt(27),ci=BigInt(28),li=BigInt(35),ui={};function hi(e){return U(J(e),32)}var di=new WeakMap,fi=new WeakMap,pi=new WeakMap,gi=new WeakMap;class yi{get r(){return x(di,this)}set r(e){f(32===_(e),"invalid r","value",e),S(di,this,N(e))}get s(){return f(parseInt(x(fi,this).substring(0,3))<8,"non-canonical s; use ._s","s",x(fi,this)),x(fi,this)}set s(e){f(32===_(e),"invalid s","value",e),S(fi,this,N(e))}get _s(){return x(fi,this)}isValid(){return parseInt(x(fi,this).substring(0,3))<8}get v(){return x(pi,this)}set v(e){const t=G(e,"value");f(27===t||28===t,"invalid v","v",e),S(pi,this,t)}get networkV(){return x(gi,this)}get legacyChainId(){const e=this.networkV;return null==e?null:yi.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=I(this.s);return this.yParity&&(e[0]|=128),N(e)}get compactSerialized(){return R([this.r,this.yParityAndS])}get serialized(){return R([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){v(this,di,void 0),v(this,fi,void 0),v(this,pi,void 0),v(this,gi,void 0),m(e,ui,"Signature"),S(di,this,t),S(fi,this,n),S(pi,this,r),S(gi,this,null)}[Symbol.for("nodejs.util.inspect.custom")](){return'Signature { r: "'.concat(this.r,'", s: "').concat(this._s,'"').concat(this.isValid()?"":', valid: "false"',", yParity: ").concat(this.yParity,", networkV: ").concat(this.networkV," }")}clone(){const e=new yi(ui,this.r,this._s,this.v);return this.networkV&&S(gi,e,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=q(e,"v");return t==ai||t==ci?ii:(f(t>=li,"invalid EIP-155 v","v",e),(t-li)/oi)}static getChainIdV(e,t){return q(e)*oi+BigInt(35+t-27)}static getNormalizedV(e){const t=q(e);return t===ii||t===ai?27:t===si||t===ci?28:(f(t>=li,"invalid v","v",e),t&si?27:28)}static from(e){function t(t,n){f(t,n,"signature",e)}if(null==e)return new yi(ui,ri,ri,27);if("string"===typeof e){const n=I(e,"signature");if(64===n.length){const e=N(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new yi(ui,e,N(t),r)}if(65===n.length){const e=N(n.slice(0,32)),t=N(n.slice(32,64)),r=yi.getNormalizedV(n[64]);return new yi(ui,e,t,r)}t(!1,"invalid raw signature length")}if(e instanceof yi)return e.clone();const n=e.r;t(null!=n,"missing r");const r=hi(n),i=function(e,n){if(null!=e)return hi(e);if(null!=n){t(P(n,32),"invalid yParityAndS");const e=I(n);return e[0]&=127,N(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:s,v:o}=function(e,n,r){if(null!=e){const t=q(e);return{networkV:t>=li?t:void 0,v:yi.getNormalizedV(t)}}if(null!=n)return t(P(n,32),"invalid yParityAndS"),{v:128&I(n)[0]?28:27};if(null!=r){switch(G(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new yi(ui,r,i,o);return s&&S(gi,a,s),t(null==e.yParity||G(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}function mi(e){return{address:Jt(e.address),nonce:q(null!=e.nonce?e.nonce:0),chainId:q(null!=e.chainId?e.chainId:0),signature:yi.from(e.signature)}}function wi(e){return async function(t,n){d(null==n||!n.cancelled,"request cancelled before sending","CANCELLED");const r=t.url.split(":")[0].toLowerCase();d("http"===r||"https"===r,"unsupported protocol ".concat(r),"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),d("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const s=new AbortController,o=setTimeout(()=>{i=h("request timeout","TIMEOUT"),s.abort()},t.timeout);n&&n.addListener(()=>{i=h("request cancelled","CANCELLED"),s.abort()});const a=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal});let c;try{c=await fetch(t.url,a)}catch(es){if(clearTimeout(o),i)throw i;throw es}clearTimeout(o);const l={};c.headers.forEach((e,t)=>{l[t.toLowerCase()]=e});const u=await c.arrayBuffer(),f=null==u?null:new Uint8Array(u);return{statusCode:c.status,statusMessage:c.statusText,headers:l,body:f}}}wi({});let bi=wi();const vi=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Ei=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ai=!1;async function xi(e,t){try{const t=e.match(vi);if(!t)throw new Error("invalid data");return new ts(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return I(t)}(t[3]):En(t[3].replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))}catch(n){return new ts(599,"BAD REQUEST (invalid data: URI)",{},null,new Gi(e))}}function Si(e){return async function(t,n){try{const n=t.match(Ei);if(!n)throw new Error("invalid link");return new Gi("".concat(e).concat(n[2]))}catch(r){return new ts(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Gi(t))}}}const ki={data:xi,ipfs:Si("https://gateway.ipfs.io/ipfs/")},Ii=new WeakMap;var Oi=new WeakMap,Pi=new WeakMap;class Ti{constructor(e){v(this,Oi,void 0),v(this,Pi,void 0),S(Oi,this,[]),S(Pi,this,!1),Ii.set(e,()=>{if(!x(Pi,this)){S(Pi,this,!0);for(const e of x(Oi,this))setTimeout(()=>{e()},0);S(Oi,this,[])}})}addListener(e){d(!x(Pi,this),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),x(Oi,this).push(e)}get cancelled(){return x(Pi,this)}checkSignal(){d(!this.cancelled,"cancelled","CANCELLED",{})}}function Ci(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var Ni=new WeakMap,Ri=new WeakMap,_i=new WeakMap,Bi=new WeakMap,Li=new WeakMap,Ui=new WeakMap,ji=new WeakMap,Mi=new WeakMap,Di=new WeakMap,Fi=new WeakMap,zi=new WeakMap,Hi=new WeakMap,qi=new WeakMap,Vi=new WeakMap,Wi=new WeakMap,Ki=new WeakSet;class Gi{get url(){return x(Ui,this)}set url(e){S(Ui,this,String(e))}get body(){return null==x(ji,this)?null:new Uint8Array(x(ji,this))}set body(e){if(null==e)S(ji,this,void 0),S(Mi,this,void 0);else if("string"===typeof e)S(ji,this,En(e)),S(Mi,this,"text/plain");else if(e instanceof Uint8Array)S(ji,this,e),S(Mi,this,"application/octet-stream");else{if("object"!==typeof e)throw new Error("invalid body");S(ji,this,En(JSON.stringify(e))),S(Mi,this,"application/json")}}hasBody(){return null!=x(ji,this)}get method(){return x(Bi,this)?x(Bi,this):this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),S(Bi,this,String(e).toUpperCase())}get headers(){const e=Object.assign({},x(_i,this));return x(Di,this)&&(e.authorization="Basic ".concat(function(e){const t=I(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(En(x(Di,this))))),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&x(Mi,this)&&(e["content-type"]=x(Mi,this)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){x(_i,this)[String(e).toLowerCase()]=String(t)}clearHeaders(){S(_i,this,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return x(Di,this)||null}setCredentials(e,t){f(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),S(Di,this,"".concat(e,":").concat(t))}get allowGzip(){return x(Ri,this)}set allowGzip(e){S(Ri,this,!!e)}get allowInsecureAuthentication(){return!!x(Ni,this)}set allowInsecureAuthentication(e){S(Ni,this,!!e)}get timeout(){return x(Li,this)}set timeout(e){f(e>=0,"timeout must be non-zero","timeout",e),S(Li,this,e)}get preflightFunc(){return x(Fi,this)||null}set preflightFunc(e){S(Fi,this,e)}get processFunc(){return x(zi,this)||null}set processFunc(e){S(zi,this,e)}get retryFunc(){return x(Hi,this)||null}set retryFunc(e){S(Hi,this,e)}get getUrlFunc(){return x(Wi,this)||bi}set getUrlFunc(e){S(Wi,this,e)}constructor(e){b(this,Ki),v(this,Ni,void 0),v(this,Ri,void 0),v(this,_i,void 0),v(this,Bi,void 0),v(this,Li,void 0),v(this,Ui,void 0),v(this,ji,void 0),v(this,Mi,void 0),v(this,Di,void 0),v(this,Fi,void 0),v(this,zi,void 0),v(this,Hi,void 0),v(this,qi,void 0),v(this,Vi,void 0),v(this,Wi,void 0),S(Ui,this,String(e)),S(Ni,this,!1),S(Ri,this,!0),S(_i,this,{}),S(Bi,this,""),S(Li,this,3e5),S(Vi,this,{slotInterval:250,maxAttempts:12}),S(Wi,this,null)}toString(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(x(ji,this)?N(x(ji,this)):"null",">")}setThrottleParams(e){null!=e.slotInterval&&(x(Vi,this).slotInterval=e.slotInterval),null!=e.maxAttempts&&(x(Vi,this).maxAttempts=e.maxAttempts)}send(){return d(null==x(qi,this),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),S(qi,this,new Ti(this)),A(Ki,this,Qi).call(this,0,ns()+this.timeout,0,this,new ts(0,"",{},null,this))}cancel(){d(null!=x(qi,this),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Ii.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();d("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(e),")")});const r=new Gi(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,S(_i,r,Object.assign({},x(_i,this))),x(ji,this)&&S(ji,r,new Uint8Array(x(ji,this))),S(Mi,r,x(Mi,this)),r}clone(){const e=new Gi(this.url);return S(Bi,e,x(Bi,this)),x(ji,this)&&S(ji,e,x(ji,this)),S(Mi,e,x(Mi,this)),S(_i,e,Object.assign({},x(_i,this))),S(Di,e,x(Di,this)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),S(Fi,e,x(Fi,this)),S(zi,e,x(zi,this)),S(Hi,e,x(Hi,this)),S(Vi,e,Object.assign({},x(Vi,this))),S(Wi,e,x(Wi,this)),e}static lockConfig(){Ai=!0}static getGateway(e){return ki[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error("cannot intercept ".concat(e,"; use registerGetUrl"));if(Ai)throw new Error("gateways locked");ki[e]=t}static registerGetUrl(e){if(Ai)throw new Error("gateways locked");bi=e}static createGetUrlFunc(e){return wi(e)}static createDataGateway(){return xi}static createIpfsGatewayFunc(e){return Si(e)}}async function Qi(e,t,n,r,i){if(e>=x(Vi,this).maxAttempts)return i.makeServerError("exceeded maximum retry limit");d(ns()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise(t=>setTimeout(t,e))}(n);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in ki){const e=await ki[o](s.url,Ci(x(qi,r)));if(e instanceof ts){let t=e;if(this.processFunc){Ci(x(qi,r));try{t=await this.processFunc(s,t)}catch(f){null!=f.throttle&&"number"===typeof f.stall||t.makeServerError("error in post-processing function",f).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,Ci(x(qi,r)));let c=new ts(a.statusCode,a.statusMessage,a.headers,a.body,r);if(301===c.statusCode||302===c.statusCode){try{var l;const n=c.headers.location||"";return A(Ki,l=s.redirect(n),Qi).call(l,e+1,t,0,r,c)}catch(f){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){var u;const n=c.headers["retry-after"];let i=x(Vi,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),A(Ki,u=s.clone(),Qi).call(u,e+1,t,i,r,c)}if(this.processFunc){Ci(x(qi,r));try{c=await this.processFunc(s,c)}catch(f){var h;null!=f.throttle&&"number"===typeof f.stall||c.makeServerError("error in post-processing function",f).assertOk();let n=x(Vi,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(n=f.stall),A(Ki,h=s.clone(),Qi).call(h,e+1,t,n,r,c)}}return c}var Ji=new WeakMap,Yi=new WeakMap,Zi=new WeakMap,Xi=new WeakMap,$i=new WeakMap,es=new WeakMap;class ts{toString(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(x(Xi,this)?N(x(Xi,this)):"null",">")}get statusCode(){return x(Ji,this)}get statusMessage(){return x(Yi,this)}get headers(){return Object.assign({},x(Zi,this))}get body(){return null==x(Xi,this)?null:new Uint8Array(x(Xi,this))}get bodyText(){try{return null==x(Xi,this)?"":An(x(Xi,this))}catch(e){d(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){d(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){v(this,Ji,void 0),v(this,Yi,void 0),v(this,Zi,void 0),v(this,Xi,void 0),v(this,$i,void 0),v(this,es,void 0),S(Ji,this,e),S(Yi,this,t),S(Zi,this,Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=String(n[t]),e),{})),S(Xi,this,null==r?null:new Uint8Array(r)),S($i,this,i||null),S(es,this,{message:""})}makeServerError(e,t){let n;e?n="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(e,")"):(e="".concat(this.statusCode," ").concat(this.statusMessage),n="CLIENT ESCALATED SERVER ERROR (".concat(e,")"));const r=new ts(599,n,this.headers,this.body,x($i,this)||void 0);return S(es,r,{message:e,error:t}),r}throwThrottleError(e,t){null==t?t=-1:f(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw a(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=x(Xi,this)}get request(){return x($i,this)}ok(){return""===x(es,this).message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=x(es,this);""===e&&(e="server response ".concat(this.statusCode," ").concat(this.statusMessage));let n=null;this.request&&(n=this.request.url);let r=null;try{x(Xi,this)&&(r=An(x(Xi,this)))}catch(i){}d(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:"".concat(this.statusCode," ").concat(this.statusMessage)}})}}function ns(){return(new Date).getTime()}const rs="0x0000000000000000000000000000000000000000";class is{constructor(e,t,n){(0,E.A)(this,"fragment",void 0),(0,E.A)(this,"name",void 0),(0,E.A)(this,"signature",void 0),(0,E.A)(this,"topic",void 0),(0,E.A)(this,"args",void 0);const r=e.name,i=e.format();a(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class ss{constructor(e,t,n,r){(0,E.A)(this,"fragment",void 0),(0,E.A)(this,"name",void 0),(0,E.A)(this,"args",void 0),(0,E.A)(this,"signature",void 0),(0,E.A)(this,"selector",void 0),(0,E.A)(this,"value",void 0);const i=e.name,s=e.format();a(this,{fragment:e,name:i,args:n,signature:s,selector:t,value:r})}}class os{constructor(e,t,n){(0,E.A)(this,"fragment",void 0),(0,E.A)(this,"name",void 0),(0,E.A)(this,"args",void 0),(0,E.A)(this,"signature",void 0),(0,E.A)(this,"selector",void 0);const r=e.name,i=e.format();a(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class as{static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){(0,E.A)(this,"hash",void 0),(0,E.A)(this,"_isIndexed",void 0),a(this,{hash:e,_isIndexed:!0})}}const cs={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},ls={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>"reverted with reason string ".concat(JSON.stringify(e))},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&cs[e.toString()]&&(t=cs[e.toString()]),"reverted with panic code 0x".concat(e.toString(16)," (").concat(t,")")}}};var us=new WeakMap,hs=new WeakMap,ds=new WeakMap,fs=new WeakMap,ps=new WeakSet;class gs{constructor(e){b(this,ps),(0,E.A)(this,"fragments",void 0),(0,E.A)(this,"deploy",void 0),(0,E.A)(this,"fallback",void 0),(0,E.A)(this,"receive",void 0),v(this,us,void 0),v(this,hs,void 0),v(this,ds,void 0),v(this,fs,void 0);let t=[];t="string"===typeof e?JSON.parse(e):e,S(ds,this,new Map),S(us,this,new Map),S(hs,this,new Map);const n=[];for(const o of t)try{n.push(gr.from(o))}catch(s){console.log("[Warning] Invalid Fragment ".concat(JSON.stringify(o),":"),s.message)}a(this,{fragments:Object.freeze(n)});let r=null,i=!1;S(fs,this,this.getAbiCoder()),this.fragments.forEach((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void a(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(f(!r||e.payable!==r.payable,"conflicting fallback fragments","fragments[".concat(t,"]"),e),r=e,i=r.payable));case"function":n=x(ds,this);break;case"event":n=x(hs,this);break;case"error":n=x(us,this);break;default:return}const s=e.format();n.has(s)||n.set(s,e)}),this.deploy||a(this,{deploy:vr.from("constructor()")}),a(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full",n=this.fragments.map(e=>e.format(t));return n}formatJson(){const e=this.fragments.map(e=>e.format("json"));return JSON.stringify(e.map(e=>JSON.parse(e)))}getAbiCoder(){return Cr.defaultAbiCoder()}getFunctionName(e){const t=A(ps,this,ys).call(this,e,null,!1);return f(t,"no matching function","key",e),t.name}hasFunction(e){return!!A(ps,this,ys).call(this,e,null,!1)}getFunction(e,t){return A(ps,this,ys).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(x(ds,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(x(ds,this).get(r),n)}}getEventName(e){const t=A(ps,this,ms).call(this,e,null,!1);return f(t,"no matching event","key",e),t.name}hasEvent(e){return!!A(ps,this,ms).call(this,e,null,!1)}getEvent(e,t){return A(ps,this,ms).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(x(hs,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(x(hs,this).get(r),n)}}getError(e,t){if(P(e)){const t=e.toLowerCase();if(ls[t])return wr.from(ls[t].signature);for(const e of x(us,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of x(us,this))n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?wr.from("error Error(string)"):"Panic"===e?wr.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map(e=>JSON.stringify(e.format())).join(", ");f(!1,"ambiguous error description (i.e. ".concat(n,")"),"name",e)}return t[0]}if("Error(string)"===(e=wr.from(e).format()))return wr.from("error Error(string)");if("Panic(uint256)"===e)return wr.from("error Panic(uint256)");const n=x(us,this).get(e);return n||null}forEachError(e){const t=Array.from(x(us,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(x(us,this).get(r),n)}}_decodeParams(e,t){return x(fs,this).decode(e,t)}_encodeParams(e,t){return x(fs,this).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);f(t,"unknown error","fragment",e),e=t}return f(B(t,0,4)===e.selector,"data signature does not match error ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,B(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);f(t,"unknown error","fragment",e),e=t}return R([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);f(t,"unknown function","fragment",e),e=t}return f(B(t,0,4)===e.selector,"data signature does not match function ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,B(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);f(t,"unknown function","fragment",e),e=t}return R([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);f(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=O(t);if(r.length%32===0)try{return x(fs,this).decode(e.outputs,r)}catch(i){n="could not decode result data"}d(!1,n,"BAD_DATA",{value:N(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=I(e,"data"),r=Cr.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=N(n.slice(0,4)),t=this.getError(e);if(t)try{const e=x(fs,this).decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(s){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);f(t,"unknown function","fragment",e),e=t}return N(x(fs,this).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);f(t,"unknown event","eventFragment",e),e=t}d(t.length<=e.inputs.length,"too many arguments for ".concat(e.format()),"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?kn(t):"bytes"===e.type?Ht(N(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=Q(t):e.type.match(/^bytes/)?t=L(t,32,!1):"address"===e.type&&x(fs,this).encode(["address"],[t]),U(N(t),32));for(t.forEach((t,i)=>{const s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?f(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map(e=>r(s,e))):n.push(r(s,t)):f(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)});n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);f(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),f(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)n.push(kn(o));else if("bytes"===e.type)n.push(Ht(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(x(fs,this).encode([e.type],[o]))}else r.push(e),i.push(o)}),{data:x(fs,this).encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);f(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;f(P(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(fr.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))});const o=null!=n?x(fs,this).decode(r,R(n)):null,a=x(fs,this).decode(i,t,!0),c=[],l=[];let u=0,h=0;return e.inputs.forEach((e,t)=>{let n=null;if(e.indexed)if(null==o)n=new as(null);else if(s[t])n=new as(o[h++]);else try{n=o[h++]}catch(r){n=r}else try{n=a[u++]}catch(r){n=r}c.push(n),l.push(e.name||null)}),Re.fromItems(c,l)}parseTransaction(e){const t=I(e.data,"tx.data"),n=q(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(N(t.slice(0,4)));if(!r)return null;const i=x(fs,this).decode(r.inputs,t.slice(4));return new ss(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new is(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=N(e),n=this.getError(B(t,0,4));if(!n)return null;const r=x(fs,this).decode(n.inputs,B(t,4));return new os(n,n.selector,r)}static from(e){return e instanceof gs?e:"string"===typeof e?new gs(JSON.parse(e)):"function"===typeof e.formatJson?new gs(e.formatJson()):"function"===typeof e.format?new gs(e.format("json")):new gs(e)}}function ys(e,t,n){if(P(e)){const t=e.toLowerCase();for(const e of x(ds,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of x(ds,this))t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;tn.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if(tn.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");f(!1,"ambiguous function description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=x(ds,this).get(Ar.from(e).format());return r||null}function ms(e,t,n){if(P(e)){const t=e.toLowerCase();for(const e of x(hs,this).values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of x(hs,this))t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if(tn.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");f(!1,"ambiguous event description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=x(hs,this).get(br.from(e).format());return r||null}const ws=BigInt(0);function bs(e){return null==e?null:e}function vs(e){return null==e?null:e.toString()}class Es{constructor(e,t,n){(0,E.A)(this,"gasPrice",void 0),(0,E.A)(this,"maxFeePerGas",void 0),(0,E.A)(this,"maxPriorityFeePerGas",void 0),a(this,{gasPrice:bs(e),maxFeePerGas:bs(t),maxPriorityFeePerGas:bs(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:vs(e),maxFeePerGas:vs(t),maxPriorityFeePerGas:vs(n)}}}function As(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=N(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=q(e[i],"request.".concat(i)));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=G(e[i],"request.".concat(i)));return e.accessList&&(t.accessList=ni(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>T(e)?N(e):Object.assign({},e))),t}var xs=new WeakMap;class Ss{constructor(e,t){(0,E.A)(this,"provider",void 0),(0,E.A)(this,"number",void 0),(0,E.A)(this,"hash",void 0),(0,E.A)(this,"timestamp",void 0),(0,E.A)(this,"parentHash",void 0),(0,E.A)(this,"parentBeaconBlockRoot",void 0),(0,E.A)(this,"nonce",void 0),(0,E.A)(this,"difficulty",void 0),(0,E.A)(this,"gasLimit",void 0),(0,E.A)(this,"gasUsed",void 0),(0,E.A)(this,"stateRoot",void 0),(0,E.A)(this,"receiptsRoot",void 0),(0,E.A)(this,"blobGasUsed",void 0),(0,E.A)(this,"excessBlobGas",void 0),(0,E.A)(this,"miner",void 0),(0,E.A)(this,"prevRandao",void 0),(0,E.A)(this,"extraData",void 0),(0,E.A)(this,"baseFeePerGas",void 0),v(this,xs,void 0),S(xs,this,e.transactions.map(e=>"string"!==typeof e?new Ts(e,t):e)),a(this,{provider:t,hash:bs(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:bs(e.prevRandao),extraData:e.extraData,baseFeePerGas:bs(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return x(xs,this).map(e=>"string"===typeof e?e:e.hash)}get prefetchedTransactions(){const e=x(xs,this).slice();return 0===e.length?[]:(d("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:vs(e),difficulty:vs(t),extraData:n,gasLimit:vs(r),gasUsed:vs(i),blobGasUsed:vs(this.blobGasUsed),excessBlobGas:vs(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,timestamp:p,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return x(xs,this).length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=x(xs,this)[e];else{const n=e.toLowerCase();for(const e of x(xs,this)){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash===n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;f(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class ks{constructor(e,t){(0,E.A)(this,"provider",void 0),(0,E.A)(this,"transactionHash",void 0),(0,E.A)(this,"blockHash",void 0),(0,E.A)(this,"blockNumber",void 0),(0,E.A)(this,"removed",void 0),(0,E.A)(this,"address",void 0),(0,E.A)(this,"data",void 0),(0,E.A)(this,"topics",void 0),(0,E.A)(this,"index",void 0),(0,E.A)(this,"transactionIndex",void 0),this.provider=t;const n=Object.freeze(e.topics.slice());a(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return d(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return d(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return d(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}var Is=new WeakMap;class Os{constructor(e,t){(0,E.A)(this,"provider",void 0),(0,E.A)(this,"to",void 0),(0,E.A)(this,"from",void 0),(0,E.A)(this,"contractAddress",void 0),(0,E.A)(this,"hash",void 0),(0,E.A)(this,"index",void 0),(0,E.A)(this,"blockHash",void 0),(0,E.A)(this,"blockNumber",void 0),(0,E.A)(this,"logsBloom",void 0),(0,E.A)(this,"gasUsed",void 0),(0,E.A)(this,"blobGasUsed",void 0),(0,E.A)(this,"cumulativeGasUsed",void 0),(0,E.A)(this,"gasPrice",void 0),(0,E.A)(this,"blobGasPrice",void 0),(0,E.A)(this,"type",void 0),(0,E.A)(this,"status",void 0),(0,E.A)(this,"root",void 0),v(this,Is,void 0),S(Is,this,Object.freeze(e.logs.map(e=>new ks(e,t))));let n=ws;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),a(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return x(Is,this)}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:n,cumulativeGasUsed:vs(this.cumulativeGasUsed),from:t,gasPrice:vs(this.gasPrice),blobGasUsed:vs(this.blobGasUsed),blobGasPrice:vs(this.blobGasPrice),gasUsed:vs(this.gasUsed),hash:r,index:i,logs:c,logsBloom:a,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Ns(this)}reorderedEvent(e){return d(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Cs(this,e)}}var Ps=new WeakMap;class Ts{constructor(e,t){(0,E.A)(this,"provider",void 0),(0,E.A)(this,"blockNumber",void 0),(0,E.A)(this,"blockHash",void 0),(0,E.A)(this,"index",void 0),(0,E.A)(this,"hash",void 0),(0,E.A)(this,"type",void 0),(0,E.A)(this,"to",void 0),(0,E.A)(this,"from",void 0),(0,E.A)(this,"nonce",void 0),(0,E.A)(this,"gasLimit",void 0),(0,E.A)(this,"gasPrice",void 0),(0,E.A)(this,"maxPriorityFeePerGas",void 0),(0,E.A)(this,"maxFeePerGas",void 0),(0,E.A)(this,"maxFeePerBlobGas",void 0),(0,E.A)(this,"data",void 0),(0,E.A)(this,"value",void 0),(0,E.A)(this,"chainId",void 0),(0,E.A)(this,"signature",void 0),(0,E.A)(this,"accessList",void 0),(0,E.A)(this,"blobVersionedHashes",void 0),(0,E.A)(this,"authorizationList",void 0),v(this,Ps,void 0),this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,S(Ps,this,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:s,from:o,nonce:a,data:c,signature:l,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:vs(this.chainId),data:c,from:o,gasLimit:vs(this.gasLimit),gasPrice:vs(this.gasPrice),hash:r,maxFeePerGas:vs(this.maxFeePerGas),maxPriorityFeePerGas:vs(this.maxPriorityFeePerGas),maxFeePerBlobGas:vs(this.maxFeePerBlobGas),nonce:a,signature:l,to:s,index:n,type:i,value:vs(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await o({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=x(Ps,this),s=-1,a=-1===i;const c=async()=>{if(a)return null;const{blockNumber:e,nonce:t}=await o({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(a)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=i-3,s<x(Ps,this)&&(s=x(Ps,this)));s<=e;){if(a)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(a)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===ws&&(r="cancelled"),d(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},u=e=>{if(null==e||0!==e.status)return e;d(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},f=await this.provider.getTransactionReceipt(this.hash);if(0===n)return u(f);if(f){if(1===n||await f.confirmations()>=n)return u(f)}else if(await c(),0===n)return null;const p=new Promise((e,t)=>{const s=[],o=()=>{s.forEach(e=>e())};if(s.push(()=>{a=!0}),r>0){const e=setTimeout(()=>{o(),t(h("wait for transaction timeout","TIMEOUT"))},r);s.push(()=>{clearTimeout(e)})}const d=async r=>{if(await r.confirmations()>=n){o();try{e(u(r))}catch(i){t(i)}}};if(s.push(()=>{this.provider.off(this.hash,d)}),this.provider.on(this.hash,d),i>=0){const e=async()=>{try{await c()}catch(n){if(l(n,"TRANSACTION_REPLACED"))return o(),void t(n)}a||this.provider.once("block",e)};s.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await p}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return d(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ns(this)}reorderedEvent(e){return d(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),d(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Cs(this,e)}replaceableTransaction(e){f(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Ts(this,this.provider);return S(Ps,t,e),t}}function Cs(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Ns(e){return{orphan:"drop-transaction",tx:e}}var Rs=new WeakMap;class _s{constructor(e,t,n){(0,E.A)(this,"filter",void 0),(0,E.A)(this,"emitter",void 0),v(this,Rs,void 0),S(Rs,this,t),a(this,{emitter:e,filter:n})}async removeListener(){null!=x(Rs,this)&&await this.emitter.off(this.filter,x(Rs,this))}}class Bs extends ks{constructor(e,t,n){super(e,e.provider),(0,E.A)(this,"interface",void 0),(0,E.A)(this,"fragment",void 0),(0,E.A)(this,"args",void 0);a(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Ls extends ks{constructor(e,t){super(e,e.provider),(0,E.A)(this,"error",void 0),a(this,{error:t})}}var Us=new WeakMap;class js extends Os{constructor(e,t,n){super(n,t),v(this,Us,void 0),S(Us,this,e)}get logs(){return super.logs.map(e=>{const t=e.topics.length?x(Us,this).getEvent(e.topics[0]):null;if(t)try{return new Bs(e,x(Us,this),t)}catch(n){return new Ls(e,n)}return e})}}var Ms=new WeakMap;class Ds extends Ts{constructor(e,t,n){super(n,t),v(this,Ms,void 0),S(Ms,this,e)}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new js(x(Ms,this),this.provider,n)}}class Fs extends _s{constructor(e,t,n,r){super(e,t,n),(0,E.A)(this,"log",void 0),a(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class zs extends Fs{constructor(e,t,n,r,i){super(e,t,n,new Bs(i,e.interface,r));a(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Hs=BigInt(0);function qs(e){return e&&"function"===typeof e.call}function Vs(e){return e&&"function"===typeof e.estimateGas}function Ws(e){return e&&"function"===typeof e.resolveName}function Ks(e){return e&&"function"===typeof e.sendTransaction}function Gs(e){if(null!=e){if(Ws(e))return e;if(e.provider)return e.provider}}var Qs=new WeakMap;class Js{constructor(e,t,n){if(v(this,Qs,void 0),(0,E.A)(this,"fragment",void 0),a(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=Ys(e.runner,"resolveName"),i=Ws(r)?r:null;S(Qs,this,async function(){const r=await Promise.all(t.inputs.map((e,t)=>null==n[t]?null:e.walkAsync(n[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>Br(e,i))):Br(t,i):t)));return e.interface.encodeFilterTopics(t,r)}())}getTopicFilter(){return x(Qs,this)}}function Ys(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function Zs(e){return null==e?null:e.provider||null}async function Xs(e,t){const n=tn.dereference(e,"overrides");f("object"===typeof n,"invalid overrides parameter","overrides",e);const r=As(n);return f(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),f(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function $s(e){const t=async function(t){const n=await Xs(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await Br(n.from,Gs(e.runner)));const r=e.interface,i=q(n.value||Hs,"overrides.value")===Hs,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||i||f(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),f(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return f(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),f(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;d(Ks(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),s=Zs(e.runner);return new Ds(e.interface,s,i)},r=async e=>await n(e);return a(r,{_contract:e,estimateGas:async function(n){const r=Ys(e.runner,"estimateGas");return d(Vs(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=Ys(e.runner,"call");d(qs(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(s){if(u(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}}}),r}function eo(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getFunction(t,r);return d(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n(...r);let a={};if(s.inputs.length+1===r.length&&(a=await Xs(r.pop()),a.from&&(a.from=await Br(a.from,Gs(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const c=await async function(e,t,n){const r=Ys(e,"resolveName"),i=Ws(r)?r:null;return await Promise.all(t.map((e,t)=>e.walkAsync(n[t],(e,t)=>(t=tn.dereference(t,e),"address"===e?Br(t,i):t))))}(e.runner,s.inputs,r);return Object.assign({},a,await o({to:e.getAddress(),data:e.interface.encodeFunctionData(s,c)}))},i=async function(){const e=await c(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;d(Ks(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=Zs(e.runner);return new Ds(e.interface,i,n)},c=async function(){const t=Ys(e.runner,"call");d(qs(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let s="0x";try{s=await t.call(i)}catch(a){if(u(a)&&a.data)throw e.interface.makeError(a.data,i);throw a}const o=n(...arguments);return e.interface.decodeFunctionResult(o,s)},l=async function(){return n(...arguments).constant?await i(...arguments):await s(...arguments)};return a(l,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=Ys(e.runner,"estimateGas");return d(Vs(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:i,staticCallResult:c}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return d(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),l}const to=Symbol.for("_ethersInternal_contract"),no=new WeakMap;function ro(e){return no.get(e[to])}async function io(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(P(t,32))return t;const n=e.interface.getEvent(t);return f(n,"unknown fragment","name",t),n.topicHash};n=t.map(e=>null==e?null:Array.isArray(e)?e.map(r):r(e))}else"*"===t?n=[null]:"string"===typeof t?P(t,32)?n=[t]:(r=e.interface.getEvent(t),f(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):f(!1,"unknown event name","event",t);var i;n=n.map(e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()});return{fragment:r,tag:n.map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:n}}async function so(e,t){const{subs:n}=ro(e);return n.get((await io(e,t)).tag)||null}async function oo(e,t,n){const r=Zs(e.runner);d(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await io(e,n),{addr:a,subs:c}=ro(e);let l=c.get(s);if(!l){const t={address:a||e,topics:o},u=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];co(e,n,o,r=>new zs(e,r,n,s,t))}else co(e,n,[],r=>new Fs(e,r,n,t))};let h=[];l={tag:s,listeners:[],start:()=>{h.length||h.push(r.on(t,u))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,u)}},c.set(s,l)}return l}let ao=Promise.resolve();async function co(e,t,n,r){try{await ao}catch(s){}const i=async function(e,t,n,r){await ao;const i=await so(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(t=>{let{listener:i,once:o}=t;const a=Array.from(n);r&&a.push(r(o?null:i));try{i.call(e,...a)}catch(s){}return!o}),0===i.listeners.length&&(i.stop(),ro(e).subs.delete(i.tag)),o>0}(e,t,n,r);return ao=i,await i}const lo=["then"];class uo{constructor(e,t,n,r){(0,E.A)(this,"target",void 0),(0,E.A)(this,"interface",void 0),(0,E.A)(this,"runner",void 0),(0,E.A)(this,"filters",void 0),(0,E.A)(this,to,void 0),(0,E.A)(this,"fallback",void 0),f("string"===typeof e||Rr(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=gs.from(t);let s;a(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,to,{value:{}});let o=null,c=null;if(r){const e=Zs(n);c=new Ds(this.interface,e,r)}let u=new Map;if("string"===typeof e)if(P(e))o=e,s=Promise.resolve(e);else{const t=Ys(n,"resolveName");if(!Ws(t))throw h("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then(t=>{if(null==t)throw h("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ro(this).addr=t,t})}else s=e.getAddress().then(e=>{if(null==e)throw new Error("TODO");return ro(this).addr=e,e});var d,p;d=this,p={addrPromise:s,addr:o,deployTx:c,subs:u},no.set(d[to],p);const g=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||lo.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!l(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>lo.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return a(this,{filters:g}),a(this,{fallback:i.receive||i.fallback?$s(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||lo.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!l(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||lo.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new uo(this.target,this.interface,e)}attach(e){return new uo(e,this.interface,this.runner)}async getAddress(){return await ro(this).addrPromise}async getDeployedCode(){const e=Zs(this.runner);d(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Zs(this.runner);return d(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()})}deploymentTransaction(){return ro(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return eo(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getEvent(t,r);return d(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new Js(e,n(...r),r)};return a(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return d(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=ro(this),s=r||await i,{fragment:o,topics:a}=await io(this,e),c={address:s,topics:a,fromBlock:t,toBlock:n},l=Zs(this.runner);return d(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map(e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Bs(e,this.interface,t)}catch(n){return new Ls(e,n)}return new ks(e,l)})}async on(e,t){const n=await oo(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await oo(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await co(this,e,n,null)}async listenerCount(e){if(e){const t=await so(this,e);return t?t.listeners.length:0}const{subs:t}=ro(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await so(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}const{subs:t}=ro(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map(e=>{let{listener:t}=e;return t}));return n}async off(e,t){const n=await so(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),ro(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await so(this,e);if(!t)return this;t.stop(),ro(this).subs.delete(t.tag)}else{const{subs:e}=ro(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends uo{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class ho extends(function(){return uo}()){}const fo=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function po(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let v=1;v<r;v++)s.push(i+=n());let o=n(),a=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const h=2**31,d=h>>>1,f=d>>1,p=h-1;let g=0;for(let v=0;v<31;v++)g=g<<1|u();let y=[],m=0,w=h;for(;;){let e=Math.floor(((g-m+1)*i-1)/w),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;y.push(t);let o=m+Math.floor(w*s[t]/i),a=m+Math.floor(w*s[t+1]/i)-1;for(;0==((o^a)&d);)g=g<<1&p|u(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)g=g&d|g<<1&p>>>1|u(),o=o<<1^d,a=(a^d)<<1|d|1;m=o,w=1+a-o}let b=r-4;return y.map(t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,n)=>t[e.charCodeAt(0)]=n);let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}(e)))}function go(e){return 1&e?~e>>1:e>>1}function yo(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=go(t());return n}function mo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function wo(e){return vo(()=>{let t=mo(e);if(t.length)return t})}function bo(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Ao(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(xo(n,e))}return t.flat()}function vo(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Eo(e,t,n){let r=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)yo(e,n).forEach((e,t)=>r[t].push(e));return r}function Ao(e,t){let n=1+t(),r=t(),i=vo(t);return Eo(i.length,1+e,t).flatMap((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map((e,t)=>{let i=t*r;return[s+t*n,o.map(e=>e+i)]})})}function xo(e,t){return Eo(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}function So(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function ko(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function Io(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function Oo(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const Po=44032,To=4352,Co=4449,No=4519,Ro=28,_o=588;function Bo(e){return e>>24&255}function Lo(e){return 16777215&e}let Uo,jo,Mo,Do;function Fo(e){return e>=Po&&e<55204}function zo(e,t){if(e>=To&&e<4371&&t>=Co&&t<4470)return Po+(e-To)*_o+(t-Co)*Ro;if(Fo(e)&&t>No&&t<4547&&(e-Po)%Ro==0)return e+(t-No);{let n=Do.get(e);return n&&(n=n.get(t),n)?n:-1}}function Ho(e){Uo||function(){let e=po("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");Uo=new Map(wo(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),jo=new Set(mo(e)),Mo=new Map,Do=new Map;for(let[t,n]of bo(e)){if(!jo.has(t)&&2==n.length){let[e,r]=n,i=Do.get(e);i||(i=new Map,Do.set(e,i)),i.set(r,t)}Mo.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=Uo.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(Fo(s)){let e=s-Po,t=e%_o/Ro|0,n=e%Ro;i(To+(e/_o|0)),i(Co+t),n>0&&i(No+n)}else{let e=Mo.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=Bo(t[0]);for(let n=1;n<t.length;n++){let r=Bo(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=Bo(t[--i]),e<=r)break}e=Bo(t[n])}}return t}function qo(e){return Ho(e).map(Lo)}function Vo(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=Bo(s),o=Lo(s);if(-1==r)0==e?r=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),i=e;else{let s=zo(r,o);s>=0?r=s:0==i&&0==e?(t.push(r),r=o):(n.push(o),i=e)}}return r>=0&&t.push(r,...n),t}(Ho(e))}const Wo=".",Ko=e=>Array.from(e);function Go(e,t){return e.P.has(t)||e.Q.has(t)}class Qo extends Array{get is_emoji(){return!0}}let Jo,Yo,Zo,Xo,$o,ea,ta,na,ra,ia,sa,oa;function aa(){if(Jo)return;let e=po("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>mo(e),n=()=>new Set(t()),r=(e,t)=>t.forEach(t=>e.add(t));Jo=new Map(bo(e)),Yo=n(),Zo=t(),Xo=new Set(t().map(e=>Zo[e])),Zo=new Set(Zo),$o=n(),ea=n();let i=wo(e),s=e();const o=()=>{let e=new Set;return t().forEach(t=>r(e,i[t])),r(e,t()),e};ta=vo(t=>{let n=vo(e).map(e=>e+96);if(n.length){let r=t>=s;return n[0]-=32,n=Io(n),r&&(n="Restricted[".concat(n,"]")),{N:n,P:o(),Q:o(),M:!e(),R:r}}}),na=n(),ra=new Map;let a=t().concat(Ko(na)).sort((e,t)=>e-t);a.forEach((t,n)=>{let r=e(),i=a[n]=r?a[n-r]:{V:[],M:new Map};i.V.push(t),na.has(t)||ra.set(t,i)});for(let{V:u,M:h}of new Set(ra.values())){let e=[];for(let n of u){let t=ta.filter(e=>Go(e,n)),i=e.find(e=>{let{G:n}=e;return t.some(e=>n.has(e))});i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap(e=>Ko(e.G));for(let{G:n,V:r}of e){let e=new Set(t.filter(e=>!n.has(e)));for(let t of r)h.set(t,e)}}ia=new Set;let c=new Set;const l=e=>ia.has(e)?c.add(e):ia.add(e);for(let u of ta){for(let e of u.P)l(e);for(let e of u.Q)l(e)}for(let u of ia)ra.has(u)||c.has(u)||ra.set(u,1);r(ia,qo(ia)),sa=function(e){let t=[],n=mo(e);return function e(n,r,i){let{S:s,B:o}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of o)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){let i=e(),s=vo(()=>{let r=mo(e).map(e=>n[e]);if(r.length)return t(r)});return{S:i,B:s,Q:r}}([]),[]),t}(e).map(e=>Qo.from(e)).sort(Oo),oa=new Map;for(let u of sa){let e=[oa];for(let t of u){let n=e.map(e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n});65039===t?e.push(...n):e=n}for(let t of e)t.V=u}}function ca(e){return(ha(e)?"":"".concat(la(ua([e]))," "))+So(e)}function la(e){return'"'.concat(e,'"\u200e')}function ua(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:So,r=[];var i;i=e[0],aa(),Zo.has(i)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];ha(t)&&(r.push(Io(e.slice(s,a))),r.push(n(t)),s=a+1)}return r.push(Io(e.slice(s,o))),r.join("")}function ha(e){return aa(),$o.has(e)}function da(e,t,n){if(!e)return[];aa();let r=0;return e.split(Wo).map(e=>{let i=ko(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=ma(i,t,n),o=r.length;if(!o)throw new Error("empty label");let a=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||r[0].is_emoji)&&a.every(e=>e<128))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error('invalid label extension: "'.concat(Io(e.slice(0,4)),'"'))}(a),e="ASCII";else{let t=r.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(Zo.has(a[0]))throw ya("leading combining mark");for(let e=1;e<o;e++){let t=r[e];if(!t.is_emoji&&Zo.has(t[0]))throw ya('emoji + combining mark: "'.concat(Io(r[e-1])," + ").concat(ua([t[0]]),'"'))}!function(e){let t=e[0],n=fo.get(t);if(n)throw ya("leading ".concat(n));let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=fo.get(t);if(r){if(i==s)throw ya("".concat(n," + ").concat(r));i=s+1,n=r}}if(i==r)throw ya("trailing ".concat(n))}(a);let n=Ko(new Set(t)),[i]=function(e){let t=ta;for(let n of e){let e=t.filter(e=>Go(e,n));if(!e.length)throw ta.some(e=>Go(e,n))?ga(t[0],n):pa(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Go(e,n))throw ga(e,n);if(e.M){let e=qo(t);for(let t=1,n=e.length;t<n;t++)if(Xo.has(e[t])){let r=t+1;for(let i;r<n&&Xo.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error("duplicate non-spacing marks: ".concat(ca(i)));if(r-t>4)throw new Error("excessive non-spacing marks: ".concat(la(ua(e.slice(t-1,r)))," (").concat(r-t,"/").concat(4,")"));t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=ra.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter(e=>t.has(e)):Ko(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every(e=>Go(i,e)))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(i.N))}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(o){s.error=o}return s})}function fa(e){return e.map(t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:"Invalid label ".concat(la(ua(n,63)),": ").concat(t))}return Io(i)}).join(Wo)}function pa(e){return new Error("disallowed character: ".concat(ca(e)))}function ga(e,t){let n=ca(t),r=ta.find(e=>e.P.has(t));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function ya(e){return new Error("illegal placement: ".concat(e))}function ma(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=ba(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(ia.has(t))i.push(t);else{let e=Jo.get(t);if(e)i.push(...e);else if(!Yo.has(t))throw pa(t)}}}return i.length&&r.push(t(i)),r}function wa(e){return e.filter(e=>65039!=e)}function ba(e,t){let n,r=oa,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const va=new Uint8Array(32);function Ea(e){return f(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Aa(e){const t=En(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return fa(da(e,Vo,wa))}(e)}catch(t){f(!1,"invalid ENS name (".concat(t.message,")"),"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(Ea(t.slice(r,i))),r=i+1)}return f(r<t.length,"invalid ENS name; empty component","name",e),n.push(Ea(t.slice(r))),n}function xa(e){f("string"===typeof e,"invalid ENS name; not a string","name",e),f(e.length,"invalid ENS name (empty label)","name",e);let t=va;const n=Aa(e);for(;n.length;)t=Ht(R([t,Ht(n.pop())]));return N(t)}function Sa(e,t){const n=null!=t?t:63;return f(n<=255,"DNS encoded label cannot exceed 255","length",n),N(R(Aa(e).map(t=>{f(t.length<=n,"label ".concat(JSON.stringify(e)," exceeds ").concat(n," bytes"),"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}va.fill(0);class ka extends wt{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ze(e);const n=mt(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Xe(this),this.iHash.update(e),this}digestInto(e){Xe(this),Ye(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ia=(e,t,n)=>new ka(e,t).update(n).digest();function Oa(e,t,n,r){Ze(e);const i=vt({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Je(s),Je(o),Je(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=mt(t),l=mt(n),u=new Uint8Array(o),h=Ia.create(e,c),d=h._cloneInto().update(l);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:h,PRFSalt:d}}function Pa(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function Ta(e,t,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=Oa(e,t,n,r);let l;const u=new Uint8Array(4),h=ft(u),d=new Uint8Array(a.outputLen);for(let f=1,p=0;p<s;f++,p+=a.outputLen){const e=o.subarray(p,p+a.outputLen);h.setInt32(0,f,!1),(l=c._cloneInto(l)).update(u).digestInto(d),e.set(d.subarray(0,e.length));for(let t=1;t<i;t++){a._cloneInto(l).update(d).digestInto(d);for(let t=0;t<e.length;t++)e[t]^=d[t]}}return Pa(a,c,o,l,d)}Ia.create=(e,t)=>new ka(e,t);class Ca extends wt{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ft(this.buffer)}update(e){Xe(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=mt(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=ft(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xe(this),$e(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=ft(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const Na=(e,t,n)=>e&t^~e&n,Ra=(e,t,n)=>e&t^e&n^t&n,_a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ba=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),La=new Uint32Array(64);class Ua extends Ca{constructor(){super(64,32,8,!1),this.A=0|Ba[0],this.B=0|Ba[1],this.C=0|Ba[2],this.D=0|Ba[3],this.E=0|Ba[4],this.F=0|Ba[5],this.G=0|Ba[6],this.H=0|Ba[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)La[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=La[u-15],t=La[u-2],n=pt(e,7)^pt(e,18)^e>>>3,r=pt(t,17)^pt(t,19)^t>>>10;La[u]=r+La[u-7]+n+La[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(pt(o,6)^pt(o,11)^pt(o,25))+Na(o,a,c)+_a[u]+La[u]|0,t=(pt(n,2)^pt(n,13)^pt(n,22))+Ra(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){La.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ja=Et(()=>new Ua),[Ma,Da]=(()=>lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Fa=new Uint32Array(80),za=new Uint32Array(80);class Ha extends Ca{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)Fa[w]=e.getUint32(t),za[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|Fa[w-15],t=0|za[w-15],n=lt.rotrSH(e,t,1)^lt.rotrSH(e,t,8)^lt.shrSH(e,t,7),r=lt.rotrSL(e,t,1)^lt.rotrSL(e,t,8)^lt.shrSL(e,t,7),i=0|Fa[w-2],s=0|za[w-2],o=lt.rotrSH(i,s,19)^lt.rotrBH(i,s,61)^lt.shrSH(i,s,6),a=lt.rotrSL(i,s,19)^lt.rotrBL(i,s,61)^lt.shrSL(i,s,6),c=lt.add4L(r,a,za[w-7],za[w-16]),l=lt.add4H(c,n,o,Fa[w-7],Fa[w-16]);Fa[w]=0|l,za[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const e=lt.rotrSH(u,h,14)^lt.rotrSH(u,h,18)^lt.rotrBH(u,h,41),t=lt.rotrSL(u,h,14)^lt.rotrSL(u,h,18)^lt.rotrBL(u,h,41),b=u&d^~u&p,v=h&f^~h&g,E=lt.add5L(m,t,v,Da[w],za[w]),A=lt.add5H(E,y,e,b,Ma[w],Fa[w]),x=0|E,S=lt.rotrSH(n,r,28)^lt.rotrBH(n,r,34)^lt.rotrBH(n,r,39),k=lt.rotrSL(n,r,28)^lt.rotrBL(n,r,34)^lt.rotrBL(n,r,39),I=n&i^n&o^i&o,O=r&s^r&a^s&a;y=0|p,m=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=lt.add(0|c,0|l,0|A,0|x)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const P=lt.add3L(x,k,O);n=lt.add3H(P,A,S,I),r=0|P}({h:n,l:r}=lt.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=lt.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=lt.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=lt.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=lt.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=lt.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=lt.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=lt.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,y,m)}roundClean(){Fa.fill(0),za.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qa=Et(()=>new Ha);const Va=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}(),Wa=Va.crypto||Va.msCrypto;function Ka(e){switch(e){case"sha256":return ja.create();case"sha512":return qa.create()}f(!1,"invalid hashing algorithm name","algorithm",e)}const Ga=function(e){return Ka("sha256").update(e).digest()},Qa=function(e){return Ka("sha512").update(e).digest()};let Ja=Ga,Ya=Qa,Za=!1,Xa=!1;function $a(e){const t=I(e,"data");return N(Ja(t))}function ec(e){const t=I(e,"data");return N(Ya(t))}$a._=Ga,$a.lock=function(){Za=!0},$a.register=function(e){if(Za)throw new Error("sha256 is locked");Ja=e},Object.freeze($a),ec._=Qa,ec.lock=function(){Xa=!0},ec.register=function(e){if(Xa)throw new Error("sha512 is locked");Ya=e},Object.freeze($a);BigInt(0);const tc=BigInt(1),nc=BigInt(2),rc=e=>e instanceof Uint8Array,ic=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sc(e){if(!rc(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ic[e[n]];return t}function oc(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function ac(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function cc(e){return oc(sc(e))}function lc(e){if(!rc(e))throw new Error("Uint8Array expected");return oc(sc(Uint8Array.from(e).reverse()))}function uc(e,t){return ac(e.toString(16).padStart(2*t,"0"))}function hc(e,t){return uc(e,t).reverse()}function dc(e,t,n){let r;if("string"===typeof t)try{r=ac(t)}catch(s){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(s))}else{if(!rc(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function fc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let i=0;return t.forEach(e=>{if(!rc(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length}),r}const pc=e=>(nc<<BigInt(e-1))-tc,gc=e=>new Uint8Array(e),yc=e=>Uint8Array.from(e);function mc(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=gc(e),i=gc(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc();i=a(yc([0]),e),r=a(),0!==e.length&&(i=a(yc([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return fc(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}const wc={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function bc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=wc[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("Invalid param ".concat(String(t),"=").concat(s," (").concat(typeof s,"), expected ").concat(n))};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const vc=BigInt(0),Ec=BigInt(1),Ac=BigInt(2),xc=BigInt(3),Sc=BigInt(4),kc=BigInt(5),Ic=BigInt(8);BigInt(9),BigInt(16);function Oc(e,t){const n=e%t;return n>=vc?n:t+n}function Pc(e,t,n){if(n<=vc||t<vc)throw new Error("Expected power/modulo > 0");if(n===Ec)return vc;let r=Ec;for(;t>vc;)t&Ec&&(r=r*e%n),e=e*e%n,t>>=Ec;return r}function Tc(e,t,n){let r=e;for(;t-- >vc;)r*=r,r%=n;return r}function Cc(e,t){if(e===vc||t<=vc)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=Oc(e,t),r=t,i=vc,s=Ec,o=Ec,a=vc;for(;n!==vc;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==Ec)throw new Error("invert: does not exist");return Oc(i,t)}function Nc(e){if(e%Sc===xc){const t=(e+Ec)/Sc;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Ic===kc){const t=(e-kc)/Ic;return function(e,n){const r=e.mul(n,Ac),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,Ac),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Ec)/Ac;let n,r,i;for(n=e-Ec,r=0;n%Ac===vc;n/=Ac,r++);for(i=Ac;i<e&&Pc(i,t,e)!==e-Ec;i++);if(1===r){const t=(e+Ec)/Sc;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Ec)/Ac;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Ec<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const Rc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _c(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Bc(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Lc(e){const t=Bc(e);return t+Math.ceil(t/2)}const Uc=BigInt(0),jc=BigInt(1);function Mc(e){return bc(e.Fp,Rc.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),bc(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,Ee.A)((0,Ee.A)((0,Ee.A)({},_c(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:Dc,aT:Fc}=e,zc={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=zc;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Dc(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=zc,n="string"===typeof e?Fc(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=zc._parseInt(n.subarray(2)),{d:o,l:a}=zc._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return"30".concat(n(o+s+4),"02").concat(c).concat(i,"02").concat(a).concat(r)}},Hc=BigInt(0),qc=BigInt(1),Vc=(BigInt(2),BigInt(3));BigInt(4);function Wc(e){const t=function(e){const t=Mc(e);bc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze((0,Ee.A)({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return fc(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"===typeof e&&Hc<e&&e<t.n}function a(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=sc(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:cc(dc("private key",e,r))}catch(c){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(o=Oc(o,s)),a(o),o}const l=new Map;function u(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(dc("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),o=s(e);if(!n.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Vc),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(s,s),f=n.mul(o,o),p=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,g),l=n.add(l,d),p=n.mul(o,a),p=n.add(p,p),d=n.mul(p,g),c=n.sub(c,d),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new h(c,l,u)}add(e){u(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,d=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,Vc);let y=n.mul(r,o),m=n.mul(i,a),w=n.mul(s,c),b=n.add(r,i),v=n.add(o,a);b=n.mul(b,v),v=n.add(y,m),b=n.sub(b,v),v=n.add(r,s);let E=n.add(o,c);return v=n.mul(v,E),E=n.add(y,w),v=n.sub(v,E),E=n.add(i,s),l=n.add(a,c),E=n.mul(E,l),l=n.add(m,w),E=n.sub(E,l),f=n.mul(p,v),l=n.mul(g,w),f=n.add(l,f),l=n.sub(m,f),f=n.add(m,f),d=n.mul(l,f),m=n.add(y,y),m=n.add(m,y),w=n.mul(p,w),v=n.mul(g,v),m=n.add(m,w),w=n.sub(y,w),w=n.mul(p,w),v=n.add(v,w),y=n.mul(m,v),d=n.add(d,y),y=n.mul(E,v),l=n.mul(b,l),l=n.sub(l,y),y=n.mul(b,m),f=n.mul(E,f),f=n.add(f,y),new h(l,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,l,e,e=>{const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)})}multiplyUnsafe(e){const r=h.ZERO;if(e===Hc)return r;if(a(e),e===qc)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=r,d=r,p=this;for(;o>Hc||l>Hc;)o&qc&&(u=u.add(p)),l&qc&&(d=d.add(p)),p=p.double(),o>>=qc,l>>=qc;return s&&(u=u.negate()),c&&(d=d.negate()),d=new h(n.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(e){a(e);let r,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);l=f.constTimeNegate(e,l),d=f.constTimeNegate(a,d),d=new h(n.mul(d.px,o.beta),d.py,d.pz),r=l.add(d),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==Hc&&t!==qc&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const o=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===qc)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===qc?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return sc(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Uc;)n&jc&&(r=r.add(i)),i=i.double(),n>>=jc;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let o=e,a=o;for(let r=0;r<n;r++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let r=Number(s&u);s>>=d,r>a&&(r-=h,s+=jc);const o=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?l=l.add(n(p,i[o])):c=c.add(n(g,i[f]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function Kc(e){const t=function(e){const t=Mc(e);return bc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,Ee.A)({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(e){return Oc(e,r)}function a(e){return Cc(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=Wc((0,Ee.A)((0,Ee.A)({},t),{},{toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=fc;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(s," uncompressed bytes"))}{const e=cc(o);if(!function(e){return Hc<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1===(1&r)!==((i&qc)===qc)&&(i=n.neg(i)),{x:e,y:i}}}})),d=e=>sc(uc(e,t.nByteLength));function f(e){return e>r>>qc}const p=(e,t,n)=>cc(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=dc("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=zc.toSig(dc("DER",e));return new g(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,l=b(dc("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",f=c.fromHex(h+d(u)),p=a(u),g=o(-l*p),y=o(i*p),m=c.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ac(this.toDERHex())}toDERHex(){return zc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ac(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const y={isValidPrivateKey(e){try{return l(e),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=Lc(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=Bc(t),s=Lc(t);if(r<16||r<s||r>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(r));const o=Oc(n?cc(e):lc(e),t-Ec)+Ec;return n?hc(o,i):uc(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function m(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof c}const w=t.bits2int||function(e){const n=cc(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return o(w(e))},v=pc(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Hc<=e&&e<v))throw new Error("bigint expected < 2^".concat(t.nBitLength));return uc(e,t.nByteLength)}function A(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:u}=t;let{lowS:d,prehash:p,extraEntropy:y}=i;null==d&&(d=!0),e=dc("msgHash",e),p&&(e=dc("prehashed msgHash",s(e)));const m=b(e),v=l(r),A=[E(v),E(m)];if(null!=y){const e=!0===y?u(n.BYTES):y;A.push(dc("extraEntropy",e))}const S=fc(...A),k=m;return{seed:S,k2sig:function(e){const t=w(e);if(!h(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),i=o(r.x);if(i===Hc)return;const s=o(n*o(k+i*v));if(s===Hc)return;let l=(r.x===i?0:2)|Number(r.y&qc),u=s;return d&&f(s)&&(u=function(e){return f(e)?o(-e):e}(s),l^=1),new g(i,u,l)}}}const x={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const{seed:i,k2sig:s}=A(e,n,r),o=t;return mc(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){var i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const l=e;if(n=dc("msgHash",n),r=dc("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:h}=s;let d,f;try{if("string"===typeof l||l instanceof Uint8Array)try{d=g.fromDER(l)}catch(x){if(!(x instanceof zc.Err))throw x;d=g.fromCompact(l)}else{if("object"!==typeof l||"bigint"!==typeof l.r||"bigint"!==typeof l.s)throw new Error("PARSE");{const{r:e,s:t}=l;d=new g(e,t)}}f=c.fromHex(r)}catch(k){if("PARSE"===k.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;h&&(n=t.hash(n));const{r:p,s:y}=d,m=b(n),w=a(y),v=o(m*w),E=o(p*w),A=null===(i=c.BASE.multiplyAndAddUnsafe(f,v,E))||void 0===i?void 0:i.toAffine();return!!A&&o(A.x)===p},ProjectivePoint:c,Signature:g,utils:y}}function Gc(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ia(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let i=0;return t.forEach(e=>{if(!ht(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length}),r}(...r))},randomBytes:At}}const Qc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Jc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yc=BigInt(1),Zc=BigInt(2),Xc=(e,t)=>(e+t/Zc)/t;function $c(e){const t=Qc,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=Tc(u,n,t)*u%t,d=Tc(h,n,t)*u%t,f=Tc(d,Zc,t)*l%t,p=Tc(f,i,t)*f%t,g=Tc(p,s,t)*p%t,y=Tc(g,a,t)*g%t,m=Tc(y,c,t)*y%t,w=Tc(m,a,t)*g%t,b=Tc(w,n,t)*u%t,v=Tc(b,o,t)*p%t,E=Tc(v,r,t)*l%t,A=Tc(E,Zc,t);if(!el.eql(el.sqr(A),e))throw new Error("Cannot find square root");return A}const el=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=vc)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:s}=_c(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Nc(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:pc(i),ZERO:vc,ONE:Ec,create:t=>Oc(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return vc<=t&&t<e},is0:e=>e===vc,isOdd:e=>(e&Ec)===Ec,neg:t=>Oc(-t,e),eql:(e,t)=>e===t,sqr:t=>Oc(t*t,e),add:(t,n)=>Oc(t+n,e),sub:(t,n)=>Oc(t-n,e),mul:(t,n)=>Oc(t*n,e),pow:(e,t)=>function(e,t,n){if(n<vc)throw new Error("Expected power > 0");if(n===vc)return e.ONE;if(n===Ec)return t;let r=e.ONE,i=t;for(;n>vc;)n&Ec&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ec;return r}(a,e,t),div:(t,n)=>Oc(t*Cc(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Cc(t,e),sqrt:r.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?hc(e,s):uc(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(e.length));return n?lc(e):cc(e)}});return Object.freeze(a)}(Qc,void 0,void 0,{sqrt:$c}),tl=function(e,t){const n=t=>Kc((0,Ee.A)((0,Ee.A)({},e),Gc(t)));return Object.freeze((0,Ee.A)((0,Ee.A)({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:el,n:Jc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Jc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Yc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Xc(s*e,t),c=Xc(-r*e,t);let l=Oc(e-a*n-c*i,t),u=Oc(-a*r-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},ja);BigInt(0);tl.ProjectivePoint;var nl=new WeakMap;class rl{constructor(e){v(this,nl,void 0),f(32===_(e),"invalid private key","privateKey","[REDACTED]"),S(nl,this,N(e))}get privateKey(){return x(nl,this)}get publicKey(){return rl.computePublicKey(x(nl,this))}get compressedPublicKey(){return rl.computePublicKey(x(nl,this),!0)}sign(e){f(32===_(e),"invalid digest length","digest",e);const t=tl.sign(O(e),O(x(nl,this)),{lowS:!0});return yi.from({r:Q(t.r,32),s:Q(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=rl.computePublicKey(e);return N(tl.getSharedSecret(O(x(nl,this)),I(t),!1))}static computePublicKey(e,t){let n=I(e,"key");if(32===n.length){return N(tl.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return N(tl.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){f(32===_(e),"invalid digest length","digest",e);const n=yi.from(t);let r=tl.Signature.fromCompact(O(R([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(O(e));return f(null!=i,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=tl.ProjectivePoint.fromHex(rl.computePublicKey(e).substring(2)),i=tl.ProjectivePoint.fromHex(rl.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function il(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function sl(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function ol(e,t,n,r){const i=[];for(;n<t+1+r;){const s=al(e,n);i.push(s.result),d((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function al(e,t){d(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{d(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=sl(e,t+1,r);return n(t+1+r+i),ol(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),ol(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=sl(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:N(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:N(e.slice(t+1,t+1+r))}}return{consumed:1,result:il(e[t])}}function cl(e){const t=I(e,"data"),n=al(t,0);return f(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function ll(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function ul(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(ul(e))}),t.length<=55)return t.unshift(192+t.length),t;const n=ll(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(I(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=ll(t.length);return n.unshift(183+n.length),n.concat(t)}const hl="0123456789abcdef";function dl(e){let t="0x";for(const n of ul(e))t+=hl[n>>4],t+=hl[15&n];return t}function fl(e){let t;return t="string"===typeof e?rl.computePublicKey(e,!1):e.publicKey,Jt(Ht("0x"+t.substring(4)).substring(26))}const pl=BigInt(0),gl=BigInt(2),yl=BigInt(27),ml=BigInt(28),wl=BigInt(35),bl=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),vl=131072;function El(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=$a(t).substring(4),"0x"+n}function Al(e){return"0x"===e?null:Jt(e)}function xl(e,t){try{return ni(e)}catch(n){f(!1,n.message,t,e)}}function Sl(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!Array.isArray(r))throw new Error("authorization[".concat(n,"]: invalid array"));if(6!==r.length)throw new Error("authorization[".concat(n,"]: wrong length"));if(!r[1])throw new Error("authorization[".concat(n,"]: null address"));t.push({address:Al(r[1]),nonce:Il(r[2],"nonce"),chainId:Il(r[0],"chainId"),signature:yi.from({yParity:kl(r[3],"yParity"),r:U(r[4],32),s:U(r[5],32)})})}return t}catch(n){f(!1,n.message,t,e)}}function kl(e,t){return"0x"===e?0:G(e,t)}function Il(e,t){if("0x"===e)return pl;const n=q(e,t);return f(n<=bl,"value exceeds uint size",t,n),n}function Ol(e,t){const n=q(e,"value"),r=J(n);return f(r.length<=32,"value too large","tx.".concat(t),n),r}function Pl(e){return ni(e).map(e=>[e.address,e.storageKeys])}function Tl(e,t){f(Array.isArray(e),"invalid ".concat(t),"value",e);for(let n=0;n<e.length;n++)f(P(e[n],32),"invalid ${ param } hash","value[".concat(n,"]"),e[n]);return e}function Cl(e,t){let n;try{if(n=kl(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(o){f(!1,"invalid yParity","yParity",t[0])}const r=U(t[1],32),i=U(t[2],32),s=yi.from({r:r,s:i,yParity:n});e.signature=s}var Nl=new WeakMap,Rl=new WeakMap,_l=new WeakMap,Bl=new WeakMap,Ll=new WeakMap,Ul=new WeakMap,jl=new WeakMap,Ml=new WeakMap,Dl=new WeakMap,Fl=new WeakMap,zl=new WeakMap,Hl=new WeakMap,ql=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,Kl=new WeakMap,Gl=new WeakMap,Ql=new WeakSet;class Jl{get type(){return x(Nl,this)}set type(e){switch(e){case null:S(Nl,this,null);break;case 0:case"legacy":S(Nl,this,0);break;case 1:case"berlin":case"eip-2930":S(Nl,this,1);break;case 2:case"london":case"eip-1559":S(Nl,this,2);break;case 3:case"cancun":case"eip-4844":S(Nl,this,3);break;case 4:case"pectra":case"eip-7702":S(Nl,this,4);break;default:f(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=x(Rl,this);return null==e&&3===this.type?rs:e}set to(e){S(Rl,this,null==e?null:Jt(e))}get nonce(){return x(Bl,this)}set nonce(e){S(Bl,this,G(e,"value"))}get gasLimit(){return x(Ll,this)}set gasLimit(e){S(Ll,this,q(e))}get gasPrice(){const e=x(Ul,this);return null!=e||0!==this.type&&1!==this.type?e:pl}set gasPrice(e){S(Ul,this,null==e?null:q(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=x(jl,this);return null==e?2===this.type||3===this.type?pl:null:e}set maxPriorityFeePerGas(e){S(jl,this,null==e?null:q(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=x(Ml,this);return null==e?2===this.type||3===this.type?pl:null:e}set maxFeePerGas(e){S(Ml,this,null==e?null:q(e,"maxFeePerGas"))}get data(){return x(_l,this)}set data(e){S(_l,this,N(e))}get value(){return x(Dl,this)}set value(e){S(Dl,this,q(e,"value"))}get chainId(){return x(Fl,this)}set chainId(e){S(Fl,this,q(e))}get signature(){return x(zl,this)||null}set signature(e){S(zl,this,null==e?null:yi.from(e))}get accessList(){const e=x(Hl,this)||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){S(Hl,this,null==e?null:ni(e))}get authorizationList(){const e=x(Gl,this)||null;return null==e&&4===this.type?[]:e}set authorizationList(e){S(Gl,this,null==e?null:e.map(e=>mi(e)))}get maxFeePerBlobGas(){const e=x(ql,this);return null==e&&3===this.type?pl:e}set maxFeePerBlobGas(e){S(ql,this,null==e?null:q(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=x(Vl,this);return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){f(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)f(P(e[t],32),"invalid blobVersionedHash","value[".concat(t,"]"),e[t])}S(Vl,this,e)}get blobs(){return null==x(Kl,this)?null:x(Kl,this).map(e=>Object.assign({},e))}set blobs(e){if(null==e)return void S(Kl,this,null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(T(i)){d(x(Wl,this),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=I(i);if(f(e.length<=vl,"blob is too large","blobs[".concat(r,"]"),i),e.length!==vl){const t=new Uint8Array(vl);t.set(e),e=t}const s=x(Wl,this).blobToKzgCommitment(e),o=N(x(Wl,this).computeBlobKzgProof(e,s));t.push({data:N(e),commitment:N(s),proof:o}),n.push(El(1,s))}else{const e=N(i.commitment);t.push({data:N(i.data),commitment:e,proof:N(i.proof)}),n.push(El(1,e))}}S(Kl,this,t),S(Vl,this,n)}get kzg(){return x(Wl,this)}set kzg(e){S(Wl,this,null==e?null:function(e){return{blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return I(e.blobToKzgCommitment(N(t)))}else if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return I(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"===typeof e.blobToKZGCommitment)return I(e.blobToKZGCommitment(N(t)));f(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,n)=>"computeBlobProof"in e&&"function"===typeof e.computeBlobProof?I(e.computeBlobProof(N(t),N(n))):"computeBlobKzgProof"in e&&"function"===typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,n):"computeBlobKZGProof"in e&&"function"===typeof e.computeBlobKZGProof?I(e.computeBlobKZGProof(N(t),N(n))):void f(!1,"unsupported KZG library","kzg",e)}}(e))}constructor(){b(this,Ql),v(this,Nl,void 0),v(this,Rl,void 0),v(this,_l,void 0),v(this,Bl,void 0),v(this,Ll,void 0),v(this,Ul,void 0),v(this,jl,void 0),v(this,Ml,void 0),v(this,Dl,void 0),v(this,Fl,void 0),v(this,zl,void 0),v(this,Hl,void 0),v(this,ql,void 0),v(this,Vl,void 0),v(this,Wl,void 0),v(this,Kl,void 0),v(this,Gl,void 0),S(Nl,this,null),S(Rl,this,null),S(Bl,this,0),S(Ll,this,pl),S(Ul,this,null),S(jl,this,null),S(Ml,this,null),S(_l,this,"0x"),S(Dl,this,pl),S(Fl,this,pl),S(zl,this,null),S(Hl,this,null),S(ql,this,null),S(Vl,this,null),S(Wl,this,null),S(Kl,this,null),S(Gl,this,null)}get hash(){return null==this.signature?null:Ht(A(Ql,this,Yl).call(this,!0,!1))}get unsignedHash(){return Ht(this.unsignedSerialized)}get from(){return null==this.signature?null:(e=this.unsignedHash,t=this.signature,fl(rl.recoverPublicKey(e,t)));var e,t}get fromPublicKey(){return null==this.signature?null:rl.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){return A(Ql,this,Yl).call(this,!0,!0)}get unsignedSerialized(){return A(Ql,this,Yl).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=x(ql,this)||x(Vl,this);null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&d(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),d(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),d(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Jl.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Jl;if("string"===typeof e){const t=I(e);if(t[0]>=127)return Jl.from(function(e){const t=cl(e);f(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:kl(t[0],"nonce"),gasPrice:Il(t[1],"gasPrice"),gasLimit:Il(t[2],"gasLimit"),to:Al(t[3]),value:Il(t[4],"value"),data:N(t[5]),chainId:pl};if(6===t.length)return n;const r=Il(t[6],"v"),i=Il(t[7],"r"),s=Il(t[8],"s");if(i===pl&&s===pl)n.chainId=r;else{let e=(r-wl)/gl;e<pl&&(e=pl),n.chainId=e,f(e!==pl||r===yl||r===ml,"non-canonical legacy v","v",t[6]),n.signature=yi.from({r:U(t[7],32),s:U(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Jl.from(function(e){const t=cl(I(e).slice(1));f(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",N(e));const n={type:1,chainId:Il(t[0],"chainId"),nonce:kl(t[1],"nonce"),gasPrice:Il(t[2],"gasPrice"),gasLimit:Il(t[3],"gasLimit"),to:Al(t[4]),value:Il(t[5],"value"),data:N(t[6]),accessList:xl(t[7],"accessList")};return 8===t.length||Cl(n,t.slice(8)),n}(t));case 2:return Jl.from(function(e){const t=cl(I(e).slice(1));f(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",N(e));const n={type:2,chainId:Il(t[0],"chainId"),nonce:kl(t[1],"nonce"),maxPriorityFeePerGas:Il(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Il(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Il(t[4],"gasLimit"),to:Al(t[5]),value:Il(t[6],"value"),data:N(t[7]),accessList:xl(t[8],"accessList")};return 9===t.length||Cl(n,t.slice(9)),n}(t));case 3:return Jl.from(function(e){let t=cl(I(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],i=t[2],s=t[3];f(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),f(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),f(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),f(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),f(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:i[n],proof:s[n]});t=t[0]}f(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: ".concat(n),"data",N(e));const i={type:3,chainId:Il(t[0],"chainId"),nonce:kl(t[1],"nonce"),maxPriorityFeePerGas:Il(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Il(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Il(t[4],"gasLimit"),to:Al(t[5]),value:Il(t[6],"value"),data:N(t[7]),accessList:xl(t[8],"accessList"),maxFeePerBlobGas:Il(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(i.blobs=r),f(null!=i.to,"invalid address for transaction type: ".concat(n),"data",e),f(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<i.blobVersionedHashes.length;s++)f(P(i.blobVersionedHashes[s],32),"invalid blobVersionedHash at index ".concat(s,": must be length 32"),"data",e);return 11===t.length||Cl(i,t.slice(11)),i}(t));case 4:return Jl.from(function(e){const t=cl(I(e).slice(1));f(Array.isArray(t)&&(10===t.length||13===t.length),"invalid field count for transaction type: 4","data",N(e));const n={type:4,chainId:Il(t[0],"chainId"),nonce:kl(t[1],"nonce"),maxPriorityFeePerGas:Il(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Il(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Il(t[4],"gasLimit"),to:Al(t[5]),value:Il(t[6],"value"),data:N(t[7]),accessList:xl(t[8],"accessList"),authorizationList:Sl(t[9],"authorizationList")};return 10===t.length||Cl(n,t.slice(10)),n}(t))}d(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Jl;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=yi.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(f(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),f(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(f(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),f(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function Yl(e,t){d(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[Ol(e.nonce,"nonce"),Ol(e.gasPrice||0,"gasPrice"),Ol(e.gasLimit,"gasLimit"),e.to||"0x",Ol(e.value,"value"),e.data];let r=pl;if(e.chainId!=pl)r=q(e.chainId,"tx.chainId"),f(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==pl&&(n.push(J(r)),n.push("0x"),n.push("0x")),dl(n);let i=BigInt(27+t.yParity);return r!==pl?i=yi.getChainIdV(r,t.v):BigInt(t.v)!==i&&f(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(J(i)),n.push(J(t.r)),n.push(J(t.s)),dl(n)}(this,n);case 1:return function(e,t){const n=[Ol(e.chainId,"chainId"),Ol(e.nonce,"nonce"),Ol(e.gasPrice||0,"gasPrice"),Ol(e.gasLimit,"gasLimit"),e.to||"0x",Ol(e.value,"value"),e.data,Pl(e.accessList||[])];return t&&(n.push(Ol(t.yParity,"recoveryParam")),n.push(J(t.r)),n.push(J(t.s))),R(["0x01",dl(n)])}(this,n);case 2:return function(e,t){const n=[Ol(e.chainId,"chainId"),Ol(e.nonce,"nonce"),Ol(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ol(e.maxFeePerGas||0,"maxFeePerGas"),Ol(e.gasLimit,"gasLimit"),e.to||"0x",Ol(e.value,"value"),e.data,Pl(e.accessList||[])];return t&&(n.push(Ol(t.yParity,"yParity")),n.push(J(t.r)),n.push(J(t.s))),R(["0x02",dl(n)])}(this,n);case 3:return function(e,t,n){const r=[Ol(e.chainId,"chainId"),Ol(e.nonce,"nonce"),Ol(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ol(e.maxFeePerGas||0,"maxFeePerGas"),Ol(e.gasLimit,"gasLimit"),e.to||rs,Ol(e.value,"value"),e.data,Pl(e.accessList||[]),Ol(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Tl(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(Ol(t.yParity,"yParity")),r.push(J(t.r)),r.push(J(t.s)),n)?R(["0x03",dl([r,n.map(e=>e.data),n.map(e=>e.commitment),n.map(e=>e.proof)])]):R(["0x03",dl(r)])}(this,n,t?this.blobs:null);case 4:return function(e,t){const n=[Ol(e.chainId,"chainId"),Ol(e.nonce,"nonce"),Ol(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ol(e.maxFeePerGas||0,"maxFeePerGas"),Ol(e.gasLimit,"gasLimit"),e.to||"0x",Ol(e.value,"value"),e.data,Pl(e.accessList||[]),(r=e.authorizationList||[],r.map(e=>[Ol(e.chainId,"chainId"),e.address,Ol(e.nonce,"nonce"),Ol(e.signature.yParity,"yParity"),J(e.signature.r),J(e.signature.s)]))];var r;return t&&(n.push(Ol(t.yParity,"yParity")),n.push(J(t.r)),n.push(J(t.s))),R(["0x04",dl(n)])}(this,n)}d(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}const Zl="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Xl=null;function $l(e){if(null==Xl){Xl={};for(let e=0;e<58;e++)Xl[Zl[e]]=BigInt(e)}const t=Xl[e];return f(null!=t,"invalid base58 value","letter",e),t}const eu=BigInt(0),tu=BigInt(58);function nu(e){const t=I(e);let n=K(t),r="";for(;n;)r=Zl[Number(n%tu)]+r,n/=tu;for(let i=0;i<t.length&&!t[i];i++)r=Zl[0]+r;return r}var ru;function iu(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):f(!1,"unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}class su{constructor(e){(0,E.A)(this,"name",void 0),a(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const ou=new RegExp("^(ipfs)://(.*)$","i"),au=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ou,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var cu=new WeakMap,lu=new WeakMap,uu=new WeakSet;class hu{constructor(e,t,n){b(this,uu),(0,E.A)(this,"provider",void 0),(0,E.A)(this,"address",void 0),(0,E.A)(this,"name",void 0),v(this,cu,void 0),v(this,lu,void 0),a(this,{provider:e,address:t,name:n}),S(cu,this,null),S(lu,this,new ho(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return null==x(cu,this)&&S(cu,this,(async()=>{try{return await x(lu,this).supportsInterface("0x9061b923")}catch(e){if(l(e,"CALL_EXCEPTION"))return!1;throw S(cu,this,null),e}})()),await x(cu,this)}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await A(uu,this,du).call(this,"addr(bytes32)");return null==e||e===rs?null:e}catch(i){if(l(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await A(uu,this,du).call(this,"addr(bytes32,uint)",[t]);if(P(n,20))return Jt(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof su&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await A(uu,this,du).call(this,"addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;d(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(e,")"),info:{coinType:e,data:n}})}async getText(e){const t=await A(uu,this,du).call(this,"text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await A(uu,this,du).call(this,"contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return"".concat(e,"://").concat(nu("0x"+t[2]))}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://".concat(n[1]);d(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<au.length;r++){const i=n.match(au[r]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=iu(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(null==o)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(i[2]||"").split("/");if(2!==a.length)return e.push({type:"!".concat(s,"caip"),value:i[2]||""}),{url:null,linkage:e};const c=a[1],l=new ho(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await l.ownerOf(c);if(o!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await l.balanceOf(o,c);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await l[r](c);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",Q(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=iu(u)),e.push({type:"metadata-url",value:u});let h={};const d=await new Gi(u).send();d.assertOk();try{h=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(t){const n=d.body;return n&&e.push({type:"!metadata",value:N(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let f=h.image;if("string"!==typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(ou))return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=iu(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return d(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await fu.call(hu,e,n);if(null!=r){const i=new hu(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}async function du(e,t){t=(t||[]).slice();const n=x(lu,this).interface;t.unshift(xa(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),d(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Sa(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await x(lu,this)[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!l(i,"CALL_EXCEPTION"))throw i}return null}async function fu(e,t){const n=await ru.getEnsAddress(e);try{const r=new ho(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(xa(t),{enableCcipRead:!0});return i===rs?null:i}catch(r){throw r}}ru=hu;const pu=BigInt(0);function gu(e,t){return function(n){return null==n?t:e(n)}}function yu(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(t=>e(t))}}function mu(e,t){return n=>{const r={};for(const s in e){let o=s;if(t&&s in t&&!(o in n))for(const e of t[s])if(e in n){o=e;break}try{const t=e[s](n[o]);void 0!==t&&(r[s]=t)}catch(i){const e=i instanceof Error?i.message:"not-an-error";d(!1,"invalid value for value.".concat(s," (").concat(e,")"),"BAD_DATA",{value:n})}}return r}}function wu(e){return f(P(e,!0),"invalid data","value",e),e}function bu(e){return f(P(e,32),"invalid hash","value",e),e}const vu=mu({address:Jt,blockHash:bu,blockNumber:G,data:wu,index:G,removed:gu(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}f(!1,"invalid boolean; ".concat(JSON.stringify(e)),"value",e)},!1),topics:yu(bu),transactionHash:bu,transactionIndex:G},{index:["logIndex"]});const Eu=mu({hash:gu(bu),parentHash:bu,parentBeaconBlockRoot:gu(bu,null),number:G,timestamp:G,nonce:gu(wu),difficulty:q,gasLimit:q,gasUsed:q,stateRoot:gu(bu,null),receiptsRoot:gu(bu,null),blobGasUsed:gu(q,null),excessBlobGas:gu(q,null),miner:gu(Jt),prevRandao:gu(bu,null),extraData:wu,baseFeePerGas:gu(q)},{prevRandao:["mixHash"]});const Au=mu({transactionIndex:G,blockNumber:G,transactionHash:bu,address:Jt,topics:yu(bu),data:wu,index:G,blockHash:bu},{index:["logIndex"]});const xu=mu({to:gu(Jt,null),from:gu(Jt,null),contractAddress:gu(Jt,null),index:G,root:gu(N),gasUsed:q,blobGasUsed:gu(q,null),logsBloom:gu(wu),blockHash:bu,hash:bu,logs:yu(function(e){return Au(e)}),blockNumber:G,cumulativeGasUsed:q,effectiveGasPrice:gu(q),blobGasPrice:gu(q,null),status:gu(G),type:gu(G,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Su(e){e.to&&q(e.to)===pu&&(e.to="0x0000000000000000000000000000000000000000");const t=mu({hash:bu,index:gu(G,void 0),type:e=>"0x"===e||null==e?0:G(e),accessList:gu(ni,null),blobVersionedHashes:gu(yu(bu,!0),null),authorizationList:gu(yu(e=>{let t;if(e.signature)t=e.signature;else{let n=e.yParity;"0x1b"===n?n=0:"0x1c"===n&&(n=1),t=Object.assign({},e,{yParity:n})}return{address:Jt(e.address),chainId:q(e.chainId),nonce:q(e.nonce),signature:yi.from(t)}},!1),null),blockHash:gu(bu,null),blockNumber:gu(G,null),transactionIndex:gu(G,null),from:Jt,gasPrice:gu(q),maxPriorityFeePerGas:gu(q),maxFeePerGas:gu(q),maxFeePerBlobGas:gu(q,null),gasLimit:q,to:gu(Jt,null),value:q,nonce:G,data:wu,creates:gu(Jt,null),chainId:gu(q,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=Jt(e.from);let n=q(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,Jt(B(Ht(dl([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=yi.from(e.signature):t.signature=yi.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&q(t.blockHash)===pu&&(t.blockHash=null),t}class ku{constructor(e){(0,E.A)(this,"name",void 0),a(this,{name:e})}clone(){return new ku(this.name)}}class Iu extends ku{constructor(e,t){null==e&&(e=0),super("org.ethers.network.plugins.GasCost#".concat(e||0)),(0,E.A)(this,"effectiveBlock",void 0),(0,E.A)(this,"txBase",void 0),(0,E.A)(this,"txCreate",void 0),(0,E.A)(this,"txDataZero",void 0),(0,E.A)(this,"txDataNonzero",void 0),(0,E.A)(this,"txAccessListStorageKey",void 0),(0,E.A)(this,"txAccessListAddress",void 0);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),f("number"===typeof i,"invalud value for ".concat(e),"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),a(this,n)}clone(){return new Iu(this.effectiveBlock,this)}}class Ou extends ku{constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,E.A)(this,"address",void 0),(0,E.A)(this,"targetNetwork",void 0),a(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new Ou(this.address,this.targetNetwork)}}var Pu=new WeakMap,Tu=new WeakMap;class Cu extends ku{get url(){return x(Pu,this)}get processFunc(){return x(Tu,this)}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),v(this,Pu,void 0),v(this,Tu,void 0),S(Pu,this,e),S(Tu,this,t)}clone(){return this}}const Nu=new Map;var Ru=new WeakMap,_u=new WeakMap,Bu=new WeakMap;class Lu{constructor(e,t){v(this,Ru,void 0),v(this,_u,void 0),v(this,Bu,void 0),S(Ru,this,e),S(_u,this,q(t)),S(Bu,this,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return x(Ru,this)}set name(e){S(Ru,this,e)}get chainId(){return x(_u,this)}set chainId(e){S(_u,this,q(e,"chainId"))}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===q(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===q(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===q(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(x(Bu,this).values())}attachPlugin(e){if(x(Bu,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return x(Bu,this).set(e.name,e.clone()),this}getPlugin(e){return x(Bu,this).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new Lu(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Iu;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=ni(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(Mu)return;function e(e,t,n){const r=function(){const r=new Lu(e,t);return null!=n.ensNetwork&&r.attachPlugin(new Ou(null,n.ensNetwork)),r.attachPlugin(new Iu),(n.plugins||[]).forEach(e=>{r.attachPlugin(e)}),r};Lu.register(e,r),Lu.register(t,r),n.altNames&&n.altNames.forEach(e=>{Lu.register(e,r)})}Mu=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[ju("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[ju("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return Lu.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=Nu.get(e);if(t)return t();if("bigint"===typeof e)return new Lu("unknown",e);f(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){f("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Lu(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new Ou(e.ensAddress,e.ensNetwork)),t}f(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=Nu.get(e);n&&f(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",e),Nu.set(e,t)}}function Uu(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error("invalid gwei value: ".concat(e));const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error("invalid gwei value: ".concat(e));for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function ju(e){return new Cu(e,async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Uu(s.maxFee,9),maxPriorityFeePerGas:Uu(s.maxPriorityFee,9)}}catch(i){d(!1,"error encountered with polygon gas station (".concat(JSON.stringify(n.url),")"),"SERVER_ERROR",{request:n,response:r,error:i})}})}let Mu=!1;function Du(e){return JSON.parse(JSON.stringify(e))}var Fu=new WeakMap,zu=new WeakMap,Hu=new WeakMap,qu=new WeakMap,Vu=new WeakSet;class Wu{constructor(e){b(this,Vu),v(this,Fu,void 0),v(this,zu,void 0),v(this,Hu,void 0),v(this,qu,void 0),S(Fu,this,e),S(zu,this,null),S(Hu,this,4e3),S(qu,this,-2)}get pollingInterval(){return x(Hu,this)}set pollingInterval(e){S(Hu,this,e)}start(){x(zu,this)||(S(zu,this,x(Fu,this)._setTimeout(A(Vu,this,Ku).bind(this),x(Hu,this))),A(Vu,this,Ku).call(this))}stop(){x(zu,this)&&(x(Fu,this)._clearTimeout(x(zu,this)),S(zu,this,null))}pause(e){this.stop(),e&&S(qu,this,-2)}resume(){this.start()}}async function Ku(){try{const e=await x(Fu,this).getBlockNumber();if(-2===x(qu,this))return void S(qu,this,e);if(e!==x(qu,this)){for(let t=x(qu,this)+1;t<=e;t++){if(null==x(zu,this))return;await x(Fu,this).emit("block",t)}S(qu,this,e)}}catch(e){}null!=x(zu,this)&&S(zu,this,x(Fu,this)._setTimeout(A(Vu,this,Ku).bind(this),x(Hu,this)))}var Gu=new WeakMap,Qu=new WeakMap,Ju=new WeakMap;class Yu{constructor(e){v(this,Gu,void 0),v(this,Qu,void 0),v(this,Ju,void 0),S(Gu,this,e),S(Ju,this,!1),S(Qu,this,e=>{this._poll(e,x(Gu,this))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){x(Ju,this)||(S(Ju,this,!0),x(Qu,this).call(this,-2),x(Gu,this).on("block",x(Qu,this)))}stop(){x(Ju,this)&&(S(Ju,this,!1),x(Gu,this).off("block",x(Qu,this)))}pause(e){this.stop()}resume(){this.start()}}var Zu=new WeakMap,Xu=new WeakMap;class $u extends Yu{constructor(e,t){super(e),v(this,Zu,void 0),v(this,Xu,void 0),S(Zu,this,t),S(Xu,this,-2)}pause(e){e&&S(Xu,this,-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(x(Zu,this));null!=n&&(-2===x(Xu,this)?S(Xu,this,n.number):n.number>x(Xu,this)&&(t.emit(x(Zu,this),n.number),S(Xu,this,n.number)))}}var eh=new WeakMap;class th extends Yu{constructor(e,t){super(e),v(this,eh,void 0),S(eh,this,Du(t))}async _poll(e,t){throw new Error("@TODO")}}var nh=new WeakMap;class rh extends Yu{constructor(e,t){super(e),v(this,nh,void 0),S(nh,this,t)}async _poll(e,t){const n=await t.getTransactionReceipt(x(nh,this));n&&t.emit(x(nh,this),n)}}var ih=new WeakMap,sh=new WeakMap,oh=new WeakMap,ah=new WeakMap,ch=new WeakMap,lh=new WeakSet;class uh{constructor(e,t){b(this,lh),v(this,ih,void 0),v(this,sh,void 0),v(this,oh,void 0),v(this,ah,void 0),v(this,ch,void 0),S(ih,this,e),S(sh,this,Du(t)),S(oh,this,A(lh,this,hh).bind(this)),S(ah,this,!1),S(ch,this,-2)}start(){x(ah,this)||(S(ah,this,!0),-2===x(ch,this)&&x(ih,this).getBlockNumber().then(e=>{S(ch,this,e)}),x(ih,this).on("block",x(oh,this)))}stop(){x(ah,this)&&(S(ah,this,!1),x(ih,this).off("block",x(oh,this)))}pause(e){this.stop(),e&&S(ch,this,-2)}resume(){this.start()}}async function hh(e){if(-2===x(ch,this))return;const t=Du(x(sh,this));t.fromBlock=x(ch,this)+1,t.toBlock=e;const n=await x(ih,this).getLogs(t);if(0!==n.length)for(const r of n)x(ih,this).emit(x(sh,this),r),S(ch,this,r.blockNumber);else x(ch,this)<e-60&&S(ch,this,e-60)}const dh=BigInt(2);function fh(e){return e&&"function"===typeof e.then}function ph(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return"bigint:".concat(t.toString());if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce((e,n)=>(e[n]=t[n],e),{})}return t})}class gh{constructor(e){(0,E.A)(this,"name",void 0),a(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function yh(e){return(e=Array.from(new Set(e).values())).sort(),e}async function mh(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(P(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:ph("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:ph("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map(e=>null==e?null:Array.isArray(e)?yh(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(n.address){const e=[],i=[],s=n=>{P(n)?e.push(n):i.push((async()=>{e.push(await Br(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=yh(e.map(e=>e.toLowerCase()))}return{filter:r,tag:ph("event",r),type:"event"}}f(!1,"unknown ProviderEvent","event",e)}function wh(){return(new Date).getTime()}const bh={cacheTimeout:250,pollingInterval:4e3};var vh=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,xh=new WeakMap,Sh=new WeakMap,kh=new WeakMap,Ih=new WeakMap,Oh=new WeakMap,Ph=new WeakMap,Th=new WeakMap,Ch=new WeakMap,Nh=new WeakMap,Rh=new WeakSet;class _h{constructor(e,t){if(b(this,Rh),v(this,vh,void 0),v(this,Eh,void 0),v(this,Ah,void 0),v(this,xh,void 0),v(this,Sh,void 0),v(this,kh,void 0),v(this,Ih,void 0),v(this,Oh,void 0),v(this,Ph,void 0),v(this,Th,void 0),v(this,Ch,void 0),v(this,Nh,void 0),S(Nh,this,Object.assign({},bh,t||{})),"any"===e)S(kh,this,!0),S(Sh,this,null);else if(e){const t=Lu.from(e);S(kh,this,!1),S(Sh,this,Promise.resolve(t)),setTimeout(()=>{this.emit("network",t,null)},0)}else S(kh,this,!1),S(Sh,this,null);S(Oh,this,-1),S(Ih,this,new Map),S(vh,this,new Map),S(Eh,this,new Map),S(Ah,this,null),S(xh,this,!1),S(Ph,this,1),S(Th,this,new Map),S(Ch,this,!1)}get pollingInterval(){return x(Nh,this).pollingInterval}get provider(){return this}get plugins(){return Array.from(x(Eh,this).values())}attachPlugin(e){if(x(Eh,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return x(Eh,this).set(e.name,e.connect(this)),this}getPlugin(e){return x(Eh,this).get(e)||null}get disableCcipRead(){return x(Ch,this)}set disableCcipRead(e){S(Ch,this,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const t=n[a],c=t.replace("{sender}",r).replace("{data}",i),l=new Gi(c);-1===t.indexOf("{data}")&&(l.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:n});let u,h="unknown error";try{u=await l.send()}catch(o){s.push(o.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:o}});continue}try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(h=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(o){}d(u.statusCode<400||u.statusCode>=500,"response not found during CCIP fetch: ".concat(h),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:h}}),s.push(h)}d(!1,"error encountered during CCIP fetch: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new Ss(function(e){const t=Eu(e);return t.transactions=e.transactions.map(e=>"string"===typeof e?e:Su(e)),t}(e),this)}_wrapLog(e,t){return new ks(function(e){return vu(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Os(function(e){return xu(e)}(e),this)}_wrapTransactionResponse(e,t){return new Ts(Su(e),this)}_detectNetwork(){d(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){d(!1,"unsupported method: ".concat(e.method),"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=G(await A(Rh,this,Bh).call(this,{method:"getBlockNumber"}),"%response");return x(Oh,this)>=0&&S(Oh,this,e),e}_getAddress(e){return Br(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return P(e)?P(e,32)?e:Y(e):("bigint"===typeof e&&(e=G(e,"blockTag")),"number"===typeof e?e>=0?Y(e):x(Oh,this)>=0?Y(x(Oh,this)+e):this.getBlockNumber().then(t=>Y(t+e)):void f(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?yh(e.map(e=>e.toLowerCase())):e.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),r&&(o.fromBlock=r),i&&(o.toBlock=i),n&&(o.blockHash=n),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter(e=>"string"!==typeof e).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(o),i,s]).then(e=>r(e[0],e[1],e[2])):r(o,i,s)}_getTransactionRequest(e){const t=As(e),n=[];if(["to","from"].forEach(e=>{if(null==t[e])return;const r=Br(t[e],this);fh(r)?n.push(async function(){t[e]=await r}()):t[e]=r}),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);fh(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==x(Sh,this)){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw x(Sh,this)===e&&S(Sh,this,null),t}})();return S(Sh,this,e),(await e).clone()}const e=x(Sh,this),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(x(kh,this)?(this.emit("network",n,t),x(Sh,this)===e&&S(Sh,this,Promise.resolve(n))):d(!1,"network changed: ".concat(t.chainId," => ").concat(n.chainId," "),"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await o({_block:A(Rh,this,Mh).call(this,"latest",!1),gasPrice:(async()=>{try{return q(await A(Rh,this,Bh).call(this,{method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return q(await A(Rh,this,Bh).call(this,{method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,s=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),i=a.baseFeePerGas*dh+s),new Es(n,i,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new Gi(n.url),r=await n.processFunc(t,this,e);return new Es(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return fh(t)&&(t=await t),q(await A(Rh,this,Bh).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await o({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await A(Rh,this,Uh).call(this,A(Rh,this,Lh).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return q(await A(Rh,this,jh).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return G(await A(Rh,this,jh).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return N(await A(Rh,this,jh).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const r=q(t,"position");return N(await A(Rh,this,jh).call(this,{method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await o({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Jl.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:r}=await o({network:this.getNetwork(),params:A(Rh,this,Mh).call(this,e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await o({network:this.getNetwork(),params:A(Rh,this,Bh).call(this,{method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await o({network:this.getNetwork(),params:A(Rh,this,Bh).call(this,{method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await A(Rh,this,Bh).call(this,{method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await o({network:this.getNetwork(),result:A(Rh,this,Bh).call(this,{method:"getTransactionResult",hash:e})});return null==t?null:N(t)}async getLogs(e){let t=this._getFilter(e);fh(t)&&(t=await t);const{network:n,params:r}=await o({network:this.getNetwork(),params:A(Rh,this,Bh).call(this,{method:"getLogs",filter:t})});return r.map(e=>this._wrapLog(e,n))}_getProvider(e){d(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await hu.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=xa((e=Jt(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await hu.getEnsAddress(this),r=new ho(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===rs)return null;const s=new ho(i,["function name(bytes32) view returns (string)"],this),o=await s.name(t);return await this.resolveName(o)!==e?null:o}catch(n){if(l(n,"BAD_DATA")&&"0x"===n.value)return null;if(l(n,"CALL_EXCEPTION"))return null;throw n}}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise(async(t,i)=>{let s=null;const o=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",o)};null!=n&&(s=setTimeout(()=>{null!=s&&(s=null,this.off("block",o),i(h("timeout","TIMEOUT",{reason:"timeout"})))},n)),o(await this.getBlockNumber())})}async waitForBlock(e){d(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=x(Th,this).get(e);t&&(t.timer&&clearTimeout(t.timer),x(Th,this).delete(e))}_setTimeout(e,t){var n,r;null==t&&(t=0);const i=(S(Ph,this,(n=x(Ph,this),r=n++,n)),r),s=()=>{x(Th,this).delete(i),e()};if(this.paused)x(Th,this).set(i,{timer:null,func:s,time:t});else{const e=setTimeout(s,t);x(Th,this).set(i,{timer:e,func:s,time:wh()})}return i}_forEachSubscriber(e){for(const t of x(vh,this).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new gh(e.type);case"block":{const e=new Wu(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new $u(this,e.type);case"event":return new uh(this,e.filter);case"transaction":return new rh(this,e.hash);case"orphan":return new th(this,e.filter)}throw new Error("unsupported event: ".concat(e.type))}_recoverSubscriber(e,t){for(const n of x(vh,this).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=x(Ah,this)&&t.pause(x(Ah,this));break}}async on(e,t){const n=await A(Rh,this,Fh).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=x(Ah,this)&&n.subscriber.pause(x(Ah,this))),this}async once(e,t){const n=await A(Rh,this,Fh).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=x(Ah,this)&&n.subscriber.pause(x(Ah,this))),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await A(Rh,this,Dh).call(this,e,n);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(t=>{let{listener:r,once:i}=t;const s=new _s(this,i?null:r,e);try{r.call(this,...n,s)}catch(o){}return!i}),0===i.listeners.length&&(i.started&&i.subscriber.stop(),x(vh,this).delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await A(Rh,this,Dh).call(this,e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of x(vh,this).values())t+=n.length;return t}async listeners(e){if(e){const t=await A(Rh,this,Dh).call(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}let t=[];for(const{listeners:n}of x(vh,this).values())t=t.concat(n.map(e=>{let{listener:t}=e;return t}));return t}async off(e,t){const n=await A(Rh,this,Dh).call(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),x(vh,this).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await A(Rh,this,Fh).call(this,e);n&&r.stop(),x(vh,this).delete(t)}else for(const[t,{started:n,subscriber:r}]of x(vh,this))n&&r.stop(),x(vh,this).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return x(xh,this)}destroy(){this.removeAllListeners();for(const e of x(Th,this).keys())this._clearTimeout(e);S(xh,this,!0)}get paused(){return null!=x(Ah,this)}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(S(Oh,this,-1),null!=x(Ah,this)){if(x(Ah,this)==!!e)return;d(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),S(Ah,this,!!e);for(const t of x(Th,this).values())t.timer&&clearTimeout(t.timer),t.time=wh()-t.time}resume(){if(null!=x(Ah,this)){this._forEachSubscriber(e=>e.resume()),S(Ah,this,null);for(const e of x(Th,this).values()){let t=e.time;t<0&&(t=0),e.time=wh(),setTimeout(e.func,t)}}}}async function Bh(e){const t=x(Nh,this).cacheTimeout;if(t<0)return await this._perform(e);const n=ph(e.method,e);let r=x(Ih,this).get(n);return r||(r=this._perform(e),x(Ih,this).set(n,r),setTimeout(()=>{x(Ih,this).get(n)===r&&x(Ih,this).delete(n)},t)),await r}async function Lh(e,t,n){d(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=As(e);try{return N(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&u(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===B(i.data,0,4)){const e=i.data,s=await Br(r.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};d(_(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=B(e,0,32);d(B(n,0,12)===B(Gh,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=B(n,12);try{const n=[],r=G(B(e,32,64)),i=G(B(e,r,r+32)),s=B(e,r+32);for(let e=0;e<i;e++){const t=zh(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){d(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Hh(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){d(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}d(B(e,100,128)===B(Gh,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=B(e,96,100);try{const n=Hh(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){d(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}(B(i.data,4))}catch(i){d(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}d(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(r,o.calldata,o.urls);d(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:o.errorArgs}});const c={to:s,data:R([o.selector,Kh([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await A(Rh,this,Lh).call(this,c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:i}),i}}throw i}}async function Uh(e){const{value:t}=await o({network:this.getNetwork(),value:e});return t}async function jh(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await A(Rh,this,Uh).call(this,A(Rh,this,Bh).call(this,Object.assign(e,{address:r,blockTag:i})))}async function Mh(e,t){if(P(e,32))return await A(Rh,this,Bh).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await A(Rh,this,Bh).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})}async function Dh(e,t){let n=await mh(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await mh({orphan:"drop-log",log:t[0]},this)),x(vh,this).get(n.tag)||null}async function Fh(e){const t=await mh(e,this),n=t.tag;let r=x(vh,this).get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},x(vh,this).set(n,r)}return r}function zh(e,t){try{const n=Hh(e,t);if(n)return An(n)}catch(n){}return null}function Hh(e,t){if("0x"===e)return null;try{const n=G(B(e,t,t+32)),r=G(B(e,n,n+32));return B(e,n+32,n+32+r)}catch(n){}return null}function qh(e){const t=J(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Vh(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Wh=new Uint8Array([]);function Kh(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(Wh),n+=32;for(let r=0;r<e.length;r++){const i=I(e[r]);t[r]=qh(n),t.push(qh(i.length)),t.push(Vh(i)),n+=32+32*Math.ceil(i.length/32)}return R(t)}const Gh="0x0000000000000000000000000000000000000000000000000000000000000000";function Qh(e,t){if(e.provider)return e.provider;d(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Jh(e,t){let n=As(t);if(null!=n.to&&(n.to=Br(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),Br(t,e)]).then(e=>{let[t,n]=e;return f(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t})}else n.from=e.getAddress();return await o(n)}class Yh{constructor(e){(0,E.A)(this,"provider",void 0),a(this,{provider:e||null})}async getNonce(e){return Qh(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Jh(this,e)}async populateTransaction(e){const t=Qh(this,"populateTransaction"),n=await Jh(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){f(q(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||f(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):f(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();d(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(d(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):d(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type&&4!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await o(n)}async populateAuthorization(e){const t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await Qh(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Qh(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Qh(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Qh(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Qh(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Jl.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}authorize(e){d(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Zh=new WeakSet;class Xh extends Yh{constructor(e,t){super(t),b(this,Zh),(0,E.A)(this,"address",void 0),a(this,{address:e})}async getAddress(){return this.address}connect(e){return new Xh(this.address,e)}async signTransaction(e){A(Zh,this,$h).call(this,"transactions","signTransaction")}async signMessage(e){A(Zh,this,$h).call(this,"messages","signMessage")}async signTypedData(e,t,n){A(Zh,this,$h).call(this,"typed-data","signTypedData")}}function $h(e,t){d(!1,"VoidSigner cannot sign ".concat(e),"UNSUPPORTED_OPERATION",{operation:t})}var ed=new WeakMap,td=new WeakMap,nd=new WeakMap,rd=new WeakMap,id=new WeakMap,sd=new WeakMap,od=new WeakSet;class ad{constructor(e){b(this,od),v(this,ed,void 0),v(this,td,void 0),v(this,nd,void 0),v(this,rd,void 0),v(this,id,void 0),v(this,sd,void 0),S(ed,this,e),S(td,this,null),S(nd,this,A(od,this,cd).bind(this)),S(rd,this,!1),S(id,this,null),S(sd,this,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){x(rd,this)||(S(rd,this,!0),A(od,this,cd).call(this,-2))}stop(){x(rd,this)&&(S(rd,this,!1),S(sd,this,!0),A(od,this,ld).call(this),x(ed,this).off("block",x(nd,this)))}pause(e){e&&A(od,this,ld).call(this),x(ed,this).off("block",x(nd,this))}resume(){this.start()}}async function cd(e){try{null==x(td,this)&&S(td,this,this._subscribe(x(ed,this)));let e=null;try{e=await x(td,this)}catch(t){if(!l(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return S(td,this,null),void x(ed,this)._recoverSubscriber(this,this._recover(x(ed,this)));const n=await x(ed,this).getNetwork();if(x(id,this)||S(id,this,n),x(id,this).chainId!==n.chainId)throw new Error("chaid changed");if(x(sd,this))return;const r=await x(ed,this).send("eth_getFilterChanges",[e]);await this._emitResults(x(ed,this),r)}catch(t){console.log("@TODO",t)}x(ed,this).once("block",x(nd,this))}function ld(){const e=x(td,this);e&&(S(td,this,null),e.then(e=>{x(ed,this).destroyed||x(ed,this).send("eth_uninstallFilter",[e])}))}var ud=new WeakMap;class hd extends ad{constructor(e,t){var n;super(e),v(this,ud,void 0),S(ud,this,(n=t,JSON.parse(JSON.stringify(n))))}_recover(e){return new uh(e,x(ud,this))}async _subscribe(e){return await e.send("eth_newFilter",[x(ud,this)])}async _emitResults(e,t){for(const n of t)e.emit(x(ud,this),e._wrapLog(n,e._network))}}class dd extends ad{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const fd="bigint,boolean,function,number,string,symbol".split(/,/g);function pd(e){if(null==e||fd.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(pd);if("object"===typeof e)return Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),{});throw new Error("should not happen: ".concat(e," (").concat(typeof e,")"))}function gd(e){return new Promise(t=>{setTimeout(t,e)})}function yd(e){return e?e.toLowerCase():e}function md(e){return e&&"number"===typeof e.pollingInterval}const wd={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class bd extends Yh{constructor(e,t){super(e),(0,E.A)(this,"address",void 0),a(this,{address:t=Jt(t)})}connect(e){d(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=pd(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await Br(r,this.provider);f(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas((0,Ee.A)((0,Ee.A)({},t),{},{from:this.address}))})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await Br(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((e,r)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(a){if(l(a,"CANCELLED")||l(a,"BAD_DATA")||l(a,"NETWORK_ERROR")||l(a,"UNSUPPORTED_OPERATION"))return null==a.info&&(a.info={}),a.info.sendTransactionHash=n,void r(a);if(l(a,"INVALID_ARGUMENT")&&(s++,null==a.info&&(a.info={}),a.info.sendTransactionHash=n,s>10))return void r(a);this.provider.emit("error",h("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout(()=>{o()},i.pop()||4e3)};o()})}async signTransaction(e){const t=pd(e);if(t.from){const n=await Br(t.from,this.provider);f(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?En(e):e;return await this.provider.send("personal_sign",[N(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=pd(n),i=await $r.resolveNames(e,t,r,async e=>{const t=await Br(e);return f(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify($r.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?En(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),N(t)])}}var vd=new WeakMap,Ed=new WeakMap,Ad=new WeakMap,xd=new WeakMap,Sd=new WeakMap,kd=new WeakMap,Id=new WeakMap,Od=new WeakSet;class Pd extends _h{constructor(e,t){super(e,t),b(this,Od),v(this,vd,void 0),v(this,Ed,void 0),v(this,Ad,void 0),v(this,xd,void 0),v(this,Sd,void 0),v(this,kd,void 0),v(this,Id,void 0),S(Ed,this,1),S(vd,this,Object.assign({},wd,t||{})),S(Ad,this,[]),S(xd,this,null),S(kd,this,null),S(Id,this,null);{let e=null;const t=new Promise(t=>{e=t});S(Sd,this,{promise:t,resolve:e})}const n=this._getOption("staticNetwork");"boolean"===typeof n?(f(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&S(kd,this,Lu.from(e))):n&&(f(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),S(kd,this,n))}_getOption(e){return x(vd,this)[e]}get _network(){return d(x(kd,this),"network is not available yet","NETWORK_ERROR"),x(kd,this)}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&q(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(x(kd,this))return x(kd,this)}return x(Id,this)?await x(Id,this):this.ready?(S(Id,this,(async()=>{try{const e=Lu.from(q(await this.send("eth_chainId",[])));return S(Id,this,null),e}catch(e){throw S(Id,this,null),e}})()),await x(Id,this)):(S(Id,this,(async(e,t)=>{const n={id:(S(Ed,this,(e=x(Ed,this),t=e++,e)),t),method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:n});try{r=(await this._send(n))[0],S(Id,this,null)}catch(i){throw S(Id,this,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Lu.from(q(r.result));throw this.getRpcError(n,r)})()),await x(Id,this))}_start(){null!=x(Sd,this)&&null!=x(Sd,this).resolve&&(x(Sd,this).resolve(),S(Sd,this,null),(async()=>{for(;null==x(kd,this)&&!this.destroyed;)try{S(kd,this,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",h("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await gd(1e3)}A(Od,this,Td).call(this)})())}async _waitUntilReady(){if(null!=x(Sd,this))return await x(Sd,this).promise}_getSubscriber(e){return"pending"===e.type?new dd(this):"event"===e.type?this._getOption("polling")?new uh(this,e.filter):new hd(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new gh("orphan"):super._getSubscriber(e)}get ready(){return null==x(Sd,this)}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=Y(q(e[n],"tx.".concat(n)))}),["from","to","data"].forEach(n=>{null!=e[n]&&(t[n]=N(e[n]))}),e.accessList&&(t.accessList=ni(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{const t=mi(e);return{address:t.address,nonce:Y(t.nonce),chainId:Y(t.chainId),yParity:Y(t.signature.yParity),r:Y(t.signature.r),s:Y(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[yd(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[yd(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[yd(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[yd(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(yd):e.filter.address=yd(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return h("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(t.match(/nonce/i)&&t.match(/too low/i))return h("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Bd(r),i=Cr.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return Ld(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return h("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return h("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return h("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return h("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return h("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!i.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?h("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):h("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){var n,r;if(this.destroyed)return Promise.reject(h("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const i=(S(Ed,this,(n=x(Ed,this),r=n++,n)),r),s=new Promise((n,r)=>{x(Ad,this).push({resolve:n,reject:r,payload:{method:e,params:t,id:i,jsonrpc:"2.0"}})});return A(Od,this,Td).call(this),s}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new bd(this,n[e])}const{accounts:n}=await o({network:this.getNetwork(),accounts:t});e=Jt(e);for(const r of n)if(Jt(r)===e)return new bd(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new bd(this,e))}destroy(){x(xd,this)&&(clearTimeout(x(xd,this)),S(xd,this,null));for(const{payload:e,reject:t}of x(Ad,this))t(h("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));S(Ad,this,[]),super.destroy()}}function Td(){if(x(xd,this))return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");S(xd,this,setTimeout(()=>{S(xd,this,null);const e=x(Ad,this);for(S(Ad,this,[]);e.length;){const t=[e.shift()];for(;e.length&&t.length!==x(vd,this).batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map(e=>e.payload));if(n.length>x(vd,this).batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(h("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter(e=>e.id===i.id)[0];if(null==t){const e=h("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e);continue}"error"in t?r(this.getRpcError(i,t)):e(t.result)}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}},e))}var Cd=new WeakMap;class Nd extends Pd{constructor(e,t){super(e,t),v(this,Cd,void 0);let n=this._getOption("pollingInterval");null==n&&(n=wd.pollingInterval),S(Cd,this,n)}_getSubscriber(e){const t=super._getSubscriber(e);return md(t)&&(t.pollingInterval=x(Cd,this)),t}get pollingInterval(){return x(Cd,this)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");S(Cd,this,e),this._forEachSubscriber(e=>{md(e)&&(e.pollingInterval=x(Cd,this))})}}var Rd=new WeakMap;class _d extends Nd{constructor(e,t,n){null==e&&(e="http://localhost:8545"),super(t,n),v(this,Rd,void 0),S(Rd,this,"string"===typeof e?new Gi(e):e.clone())}_getConnection(){return x(Rd,this).clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let r=n.bodyJson;return Array.isArray(r)||(r=[r]),r}}function Bd(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&P(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=Bd(e[t]);if(n)return n}return null}if("string"===typeof e)try{return Bd(JSON.parse(e))}catch(t){}return null}function Ld(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)Ld(e[n],t);if("string"===typeof e)try{return Ld(JSON.parse(e),t)}catch(n){}}}var Ud=new WeakMap,jd=new WeakMap;class Md extends Nd{constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});f(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),v(this,Ud,void 0),v(this,jd,void 0),S(jd,this,null),n&&n.providerInfo&&S(jd,this,n.providerInfo),S(Ud,this,async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(i){const e=new Error(i.message);throw e.code=i.code,e.data=i.data,e.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}})}get providerInfo(){return x(jd,this)}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){f(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await x(Ud,this).call(this,e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message="ethers-user-denied: ".concat(t.error.message);break;case 4200:t.error.message="ethers-unsupported: ".concat(t.error.message)}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await x(Ud,this).call(this,"eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new Md(e.provider);const t=e.window?e.window:"undefined"!==typeof window?window:null;if(null==t)return null;const n=e.anyProvider;if(n&&t.ethereum)return new Md(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const r=e.timeout?e.timeout:300;return 0===r?null:await new Promise((i,s)=>{let o=[];const a=e=>{o.push(e.detail),n&&c()},c=()=>{if(clearTimeout(l),o.length)if(e&&e.filter){const t=e.filter(o.map(e=>Object.assign({},e.info)));if(null==t)i(null);else if(t instanceof Md)i(t);else{let e=null;if(t.uuid){const n=o.filter(e=>t.uuid===e.info.uuid);e=n[0]}if(e){const{provider:t,info:n}=e;i(new Md(t,void 0,{providerInfo:n}))}else s(h("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{const{provider:e,info:t}=o[0];i(new Md(e,void 0,{providerInfo:t}))}else i(null);t.removeEventListener("eip6963:announceProvider",a)},l=setTimeout(()=>{c()},r);t.addEventListener("eip6963:announceProvider",a),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}var Dd=n(7284),Fd=n.n(Dd),zd=n(9827),Hd=n(3901),qd=n(33),Vd=n(9332);class Wd extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(e=>{if(t.cause instanceof Wd){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"===typeof t.cause.details?t.cause.details:null!==(e=t.cause)&&void 0!==e&&e.message?t.cause.message:t.details})(),r=t.cause instanceof Wd&&t.cause.docsPath||t.docsPath,i="".concat("https://oxlib.sh").concat(null!==r&&void 0!==r?r:""),s=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?"Details: ".concat(n):void 0,r?"See: ".concat(i):void 0]:[]].filter(e=>"string"===typeof e).join("\n");super(s,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@".concat("0.1.1")}),this.cause=t.cause,this.details=n,this.docs=i,this.docsPath=r,this.shortMessage=e}walk(e){return Kd(this,e)}}function Kd(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e&&e.cause?Kd(e.cause,t):t?null:e}function Gd(e,t){if(sf(e)>t)throw new uf({givenSize:sf(e),maxSize:t})}function Qd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{dir:n,size:r=32}=t;if(0===r)return e;const i=e.replace("0x","");if(i.length>2*r)throw new df({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return"0x".concat(i["right"===n?"padEnd":"padStart"](2*r,"0"))}const Jd="#__bigint";function Yd(e,t,n){return JSON.stringify(e,(e,n)=>"function"===typeof t?t(e,n):"bigint"===typeof n?n.toString()+Jd:n,n)}const Zd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xd(e){return e instanceof Uint8Array?$d(e):Array.isArray(e)?$d(new Uint8Array(e)):e}function $d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let i=0;i<e.length;i++)n+=Zd[e[i]];const r="0x".concat(n);return"number"===typeof t.size?(Gd(r,t.size),nf(r,t.size)):r}function ef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"===typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"===typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"===typeof e?"n":"";throw new af({max:s?"".concat(s).concat(t):void 0,min:"".concat(o).concat(t),signed:n,size:r,value:"".concat(e).concat(t)})}const a=(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16),c="0x".concat(a);return r?tf(c,r):c}function tf(e,t){return Qd(e,{dir:"left",size:t})}function nf(e,t){return Qd(e,{dir:"right",size:t})}function rf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{strict:i}=r;!function(e,t){if("number"===typeof t&&t>0&&t>sf(e)-1)throw new hf({offset:t,position:"start",size:sf(e)})}(e,t);const s="0x".concat(e.replace("0x","").slice(2*(null!==t&&void 0!==t?t:0),2*(null!==n&&void 0!==n?n:e.length)));return i&&function(e,t,n){if("number"===typeof t&&"number"===typeof n&&sf(e)!==n-t)throw new hf({offset:n,position:"end",size:sf(e)})}(s,t,n),s}function sf(e){return Math.ceil((e.length-2)/2)}function of(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{strict:n=!1}=t;try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{strict:n=!1}=t;if(!e)throw new cf(e);if("string"!==typeof e)throw new cf(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new lf(e);if(!e.startsWith("0x"))throw new lf(e)}(e,{strict:n}),!0}catch(r){return!1}}class af extends Wd{constructor(e){let{max:t,min:n,signed:r,size:i,value:s}=e;super("Number `".concat(s,"` is not in safe").concat(i?" ".concat(8*i,"-bit"):"").concat(r?" signed":" unsigned"," integer range ").concat(t?"(`".concat(n,"` to `").concat(t,"`)"):"(above `".concat(n,"`)"))),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class cf extends Wd{constructor(e){super("Value `".concat("object"===typeof e?Yd(e):e,"` of type `").concat(typeof e,"` is an invalid hex type."),{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class lf extends Wd{constructor(e){super("Value `".concat(e,"` is an invalid hex value."),{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class uf extends Wd{constructor(e){let{givenSize:t,maxSize:n}=e;super("Size cannot exceed `".concat(n,"` bytes. Given size: `").concat(t,"` bytes.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class hf extends Wd{constructor(e){let{offset:t,position:n,size:r}=e;super("Slice ".concat("start"===n?"starting":"ending"," at offset `").concat(t,"` is out-of-bounds (size: `").concat(r,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class df extends Wd{constructor(e){let{size:t,targetSize:n,type:r}=e;super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (`").concat(t,"`) exceeds padding size (`").concat(n,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function ff(e){if(130!==e.length&&132!==e.length)throw new gf({signature:e});const t=BigInt(rf(e,0,32)),n=BigInt(rf(e,32,64)),r=(()=>{const t=Number("0x".concat(e.slice(130)));if(!Number.isNaN(t))try{return pf(t)}catch(n){throw new yf({value:t})}})();return"undefined"===typeof r?{r:t,s:n}:{r:t,s:n,yParity:r}}function pf(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2===0?1:0;throw new mf({value:e})}class gf extends Wd{constructor(e){let{signature:t}=e;super("Value `".concat(t,"` is an invalid signature size."),{metaMessages:["Expected: 64 bytes or 65 bytes.","Received ".concat(sf(Xd(t))," bytes.")]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class yf extends Wd{constructor(e){let{value:t}=e;super("Value `".concat(t,"` is an invalid y-parity value. Y-parity must be 0 or 1.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class mf extends Wd{constructor(e){let{value:t}=e;super("Value `".concat(t,"` is an invalid v value. v must be 27, 28 or >=35.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var wf=n(4726),bf=n(6223),vf=n(1195);const Ef=BigInt(0),Af=BigInt(1);function xf(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Sf(e){if(!xf(e))throw new Error("Uint8Array expected")}function kf(e,t){if("boolean"!==typeof t)throw new Error(e+" boolean expected, got "+t)}function If(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Of(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Ef:BigInt("0x"+e)}const Pf="function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex,Tf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Cf(e){if(Sf(e),Pf)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Tf[e[n]];return t}const Nf=48,Rf=57,_f=65,Bf=70,Lf=97,Uf=102;function jf(e){return e>=Nf&&e<=Rf?e-Nf:e>=_f&&e<=Bf?e-(_f-10):e>=Lf&&e<=Uf?e-(Lf-10):void 0}function Mf(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);if(Pf)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=jf(e.charCodeAt(s)),n=jf(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Df(e){return Of(Cf(e))}function Ff(e){return Sf(e),Of(Cf(Uint8Array.from(e).reverse()))}function zf(e,t){return Mf(e.toString(16).padStart(2*t,"0"))}function Hf(e,t){return zf(e,t).reverse()}function qf(e,t,n){let r;if("string"===typeof t)try{r=Mf(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!xf(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Vf(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Sf(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const Wf=e=>"bigint"===typeof e&&Ef<=e;function Kf(e,t,n){return Wf(e)&&Wf(t)&&Wf(n)&&t<=e&&e<n}function Gf(e,t,n,r){if(!Kf(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Qf=e=>(Af<<BigInt(e))-Af,Jf=e=>new Uint8Array(e),Yf=e=>Uint8Array.from(e);const Zf={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||xf(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Xf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Zf[n];if("function"!==typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function $f(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const ep=BigInt(0),tp=BigInt(1),np=BigInt(2),rp=BigInt(3),ip=BigInt(4),sp=BigInt(5),op=BigInt(8);function ap(e,t){const n=e%t;return n>=ep?n:t+n}function cp(e,t,n){let r=e;for(;t-- >ep;)r*=r,r%=n;return r}function lp(e,t){if(e===ep)throw new Error("invert: expected non-zero number");if(t<=ep)throw new Error("invert: expected positive modulus, got "+t);let n=ap(e,t),r=t,i=ep,s=tp,o=tp,a=ep;for(;n!==ep;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==tp)throw new Error("invert: does not exist");return ap(i,t)}function up(e,t){const n=(e.ORDER+tp)/ip,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function hp(e,t){const n=(e.ORDER-sp)/op,r=e.mul(t,np),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,np),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function dp(e){return e%ip===rp?up:e%op===sp?hp:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-tp,n=0;for(;t%np===ep;)t/=np,n++;let r=np;const i=wp(e);for(;1===yp(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return up;let s=i.pow(r,t);const o=(t+tp)/np;return function(e,r){if(e.is0(r))return r;if(1!==yp(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=tp<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(e)}const fp=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pp(e,t,n){if(n<ep)throw new Error("invalid exponent, negatives unsupported");if(n===ep)return e.ONE;if(n===tp)return t;let r=e.ONE,i=t;for(;n>ep;)n&tp&&(r=e.mul(r,i)),i=e.sqr(i),n>>=tp;return r}function gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function yp(e,t){const n=(e.ORDER-tp)/np,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function mp(e,t){void 0!==t&&(0,vf.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function wp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=ep)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=mp(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Qf(i),ZERO:ep,ONE:tp,create:t=>ap(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ep<=t&&t<e},is0:e=>e===ep,isOdd:e=>(e&tp)===tp,neg:t=>ap(-t,e),eql:(e,t)=>e===t,sqr:t=>ap(t*t,e),add:(t,n)=>ap(t+n,e),sub:(t,n)=>ap(t-n,e),mul:(t,n)=>ap(t*n,e),pow:(e,t)=>pp(a,e,t),div:(t,n)=>ap(t*lp(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>lp(t,e),sqrt:r.sqrt||(t=>(o||(o=dp(e)),o(a,t))),toBytes:e=>n?Hf(e,s):zf(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?Ff(e):Df(e)},invertBatch:e=>gp(a,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(a)}function bp(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function vp(e){const t=bp(e);return t+Math.ceil(t/2)}const Ep=BigInt(0),Ap=BigInt(1);function xp(e,t){const n=t.negate();return e?n:t}function Sp(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function kp(e,t){Sp(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Qf(e),maxNumber:n,shiftBy:BigInt(e)}}function Ip(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=Ap);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!==0,offsetF:l}}function Op(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function Pp(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}const Tp=new WeakMap,Cp=new WeakMap;function Np(e){return Cp.get(e)||1}function Rp(e,t,n,r){Op(n,e),Pp(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=function(e){let t;for(t=0;e>Ef;e>>=Af,t+=1);return t}(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Qf(c),u=new Array(Number(l)+1).fill(o);let h=o;for(let d=Math.floor((t.BITS-1)/c)*c;d>=0;d-=c){u.fill(o);for(let t=0;t<s;t++){const e=r[t],i=Number(e>>BigInt(d)&l);u[i]=u[i].add(n[t])}let e=o;for(let t=u.length-1,n=o;t>0;t--)n=n.add(u[t]),e=e.add(n);if(h=h.add(e),0!==d)for(let t=0;t<c;t++)h=h.double()}return h}function _p(e){return Xf(e.Fp,fp.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Xf(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,Ee.A)((0,Ee.A)((0,Ee.A)({},mp(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function Bp(e){void 0!==e.lowS&&kf("lowS",e.lowS),void 0!==e.prehash&&kf("prehash",e.prehash)}class Lp extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const Up={Err:Lp,_tlv:{encode:(e,t)=>{const{Err:n}=Up;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=If(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?If(i.length/2|128):"";return If(e)+s+i+t},decode(e,t){const{Err:n}=Up;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Up;if(e<Mp)throw new t("integer: negative integers are not allowed");let n=If(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Up;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Df(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Up,i=qf("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Up,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function jp(e,t){return Cf(zf(e,t))}const Mp=BigInt(0),Dp=BigInt(1),Fp=(BigInt(2),BigInt(3)),zp=BigInt(4);function Hp(e){const t=function(e){const t=_p(e);Xf(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze((0,Ee.A)({},t))}(e),{Fp:n}=t,r=wp(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Vf(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}function a(e,t){const r=n.sqr(t),i=o(e);return n.eql(r,i)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Fp),zp),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(xf(e)&&(e=Cf(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:Df(qf("private key",e,r))}catch(a){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(o=ap(o,s)),Gf("private key",o,Dp,s),o}function h(e){if(!(e instanceof p))throw new Error("ProjectivePoint expected")}const d=$f((e,t)=>{const{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),c=n.mul(i,t),l=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),f=$f(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");if(!a(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof p)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?p.ZERO:new p(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=gp(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(p.fromAffine)}static fromHex(e){const t=p.fromAffine(s(qf("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return p.BASE.multiply(u(e))}static msm(e,t){return Rp(p,r,e,t)}_setWindowSize(e){m.setWindowSize(this,e)}assertValidity(){f(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){h(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Fp),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,h=n.mul(s,s),d=n.mul(o,o),f=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,f),l=n.add(c,l),c=n.sub(d,l),l=n.add(d,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),f=n.mul(e,f),g=n.sub(h,f),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,f),h=n.mul(h,g),l=n.add(l,h),f=n.mul(o,a),f=n.add(f,f),h=n.mul(f,g),c=n.sub(c,h),u=n.mul(f,d),u=n.add(u,u),u=n.add(u,u),new p(c,l,u)}add(e){h(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,u=n.ZERO,d=n.ZERO;const f=t.a,g=n.mul(t.b,Fp);let y=n.mul(r,o),m=n.mul(i,a),w=n.mul(s,c),b=n.add(r,i),v=n.add(o,a);b=n.mul(b,v),v=n.add(y,m),b=n.sub(b,v),v=n.add(r,s);let E=n.add(o,c);return v=n.mul(v,E),E=n.add(y,w),v=n.sub(v,E),E=n.add(i,s),l=n.add(a,c),E=n.mul(E,l),l=n.add(m,w),E=n.sub(E,l),d=n.mul(f,v),l=n.mul(g,w),d=n.add(l,d),l=n.sub(m,d),d=n.add(m,d),u=n.mul(l,d),m=n.add(y,y),m=n.add(m,y),w=n.mul(f,w),v=n.mul(g,v),m=n.add(m,w),w=n.sub(y,w),w=n.mul(f,w),v=n.add(v,w),y=n.mul(m,v),u=n.add(u,y),y=n.mul(E,v),l=n.mul(b,l),l=n.sub(l,y),y=n.mul(b,m),d=n.mul(E,d),d=n.add(d,y),new p(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(p.ZERO)}wNAF(e){return m.wNAFCached(this,e,p.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;Gf("scalar",e,Mp,i);const s=p.ZERO;if(e===Mp)return s;if(this.is0()||e===Dp)return this;if(!r||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,e,p.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:l}=r.splitScalar(e),u=s,h=s,d=this;for(;a>Mp||l>Mp;)a&Dp&&(u=u.add(d)),l&Dp&&(h=h.add(d)),d=d.double(),a>>=Dp,l>>=Dp;return o&&(u=u.negate()),c&&(h=h.negate()),h=new p(n.mul(h.px,r.beta),h.py,h.pz),u.add(h)}multiply(e){const{endo:r,n:i}=t;let s,o;if(Gf("scalar",e,Dp,i),r){const{k1neg:t,k1:i,k2neg:a,k2:c}=r.splitScalar(e);let{p:l,f:u}=this.wNAF(i),{p:h,f:d}=this.wNAF(c);l=m.constTimeNegate(t,l),h=m.constTimeNegate(a,h),h=new p(n.mul(h.px,r.beta),h.py,h.pz),s=l.add(h),o=u.add(d)}else{const{p:t,f:n}=this.wNAF(e);s=t,o=n}return p.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=p.BASE,i=(e,t)=>t!==Mp&&t!==Dp&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){return d(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Dp)return!0;if(n)return n(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Dp?this:n?n(p,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return kf("isCompressed",e),this.assertValidity(),i(p,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return kf("isCompressed",e),Cf(this.toRawBytes(e))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:y}=t,m=function(e,t){return{constTimeNegate:xp,hasPrecomputes:e=>1!==Np(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>Ep;)n&Ap&&(r=r.add(i)),i=i.double(),n>>=Ap;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=kp(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=kp(n,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:n,isZero:c,isNeg:l,isNegF:u,offsetF:h}=Ip(i,e,a);i=t,c?o=o.add(xp(u,r[h])):s=s.add(xp(l,r[n]))}return{p:s,f:o}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const o=kp(n,t);for(let e=0;e<o.windows&&i!==Ep;e++){const{nextN:t,offset:n,isZero:a,isNeg:c}=Ip(i,e,o);if(i=t,!a){const e=r[n];s=s.add(c?e.negate():e)}}return s},getPrecomputes(e,t,n){let r=Tp.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Tp.set(t,n(r))),r},wNAFCached(e,t,n){const r=Np(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=Np(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){Sp(n,t),Cp.set(e,n),Tp.delete(e)}}}(p,g?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:function(e){return Kf(e,Dp,t.n)}}}function qp(e){const t=function(e){const t=_p(e);return Xf(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,Ee.A)({lowS:!0},t))}(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(e){return ap(e,r)}function l(e){return lp(e,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:d,isWithinCurveOrder:f}=Hp((0,Ee.A)((0,Ee.A)({},t),{},{toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=Vf;return kf("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===a&&4===r){return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+o+", or uncompressed "+a+", got "+t)}{const e=Df(i);if(!Kf(e,Dp,n.ORDER))throw new Error("Point is not on curve");const t=d(e);let o;try{o=n.sqrt(t)}catch(s){const e=s instanceof Error?": "+s.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&r)!==((o&Dp)===Dp)&&(o=n.neg(o)),{x:e,y:o}}}}));function p(e){return e>r>>Dp}const g=(e,t,n)=>Df(e.slice(t,n));class y{constructor(e,t,n){Gf("r",e,Dp,r),Gf("s",t,Dp,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=i;return e=qf("compactSignature",e,2*t),new y(g(e,0,t),g(e,t,2*t))}static fromDER(e){const{r:t,s:n}=Up.toSig(qf("DER",e));return new y(t,n)}assertValidity(){}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,o=v(qf("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?r+t.n:r;if(a>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",d=u.fromHex(h+jp(a,n.BYTES)),f=l(a),p=c(-o*f),g=c(i*f),y=u.BASE.multiplyAndAddUnsafe(d,p,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Mf(this.toDERHex())}toDERHex(){return Up.hexFromSig(this)}toCompactRawBytes(){return Mf(this.toCompactHex())}toCompactHex(){const e=i;return jp(this.r,e)+jp(this.s,e)}}const m={isValidPrivateKey(e){try{return h(e),!0}catch(t){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const e=vp(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=bp(t),s=vp(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=ap(n?Ff(e):Df(e),t-tp)+tp;return n?Hf(o,i):zf(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function w(e){if("bigint"===typeof e)return!1;if(e instanceof u)return!0;const r=qf("key",e).length,s=n.BYTES,o=s+1,a=2*s+1;return t.allowedPrivateKeyLengths||i===o?void 0:r===o||r===a}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Df(e),n=8*e.length-s;return n>0?t>>BigInt(n):t},v=t.bits2int_modN||function(e){return c(b(e))},E=Qf(s);function A(e){return Gf("num < 2^"+s,e,Mp,E),zf(e,i)}function x(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:a,prehash:d,extraEntropy:g}=i;null==a&&(a=!0),e=qf("msgHash",e),Bp(i),d&&(e=qf("prehashed msgHash",s(e)));const m=v(e),w=h(r),E=[A(w),A(m)];if(null!=g&&!1!==g){const e=!0===g?o(n.BYTES):g;E.push(qf("extraEntropy",e))}const x=Vf(...E),k=m;return{seed:x,k2sig:function(e){const t=b(e);if(!f(t))return;const n=l(t),r=u.BASE.multiply(t).toAffine(),i=c(r.x);if(i===Mp)return;const s=c(n*c(k+i*w));if(s===Mp)return;let o=(r.x===i?0:2)|Number(r.y&Dp),h=s;return a&&p(s)&&(h=function(e){return p(e)?c(-e):e}(s),o^=1),new y(i,h,o)}}}const S={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!0===w(e))throw new Error("first arg must be private key");if(!1===w(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(h(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const{seed:i,k2sig:s}=x(e,n,r),o=t,a=function(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Jf(e),i=Jf(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jf(0);i=a(Yf([0]),e),r=a(),0!==e.length&&(i=a(Yf([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Vf(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}(o.hash.outputLen,o.nByteLength,o.hmac);return a(i,s)},verify:function(e,n,r){var i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;const o=e;n=qf("msgHash",n),r=qf("publicKey",r);const{lowS:a,prehash:h,format:d}=s;if(Bp(s),"strict"in s)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const f="string"===typeof o||xf(o),p=!f&&!d&&"object"===typeof o&&null!==o&&"bigint"===typeof o.r&&"bigint"===typeof o.s;if(!f&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let g,m;try{if(p&&(g=new y(o.r,o.s)),f){try{"compact"!==d&&(g=y.fromDER(o))}catch(O){if(!(O instanceof Up.Err))throw O}g||"der"===d||(g=y.fromCompact(o))}m=u.fromHex(r)}catch(P){return!1}if(!g)return!1;if(a&&g.hasHighS())return!1;h&&(n=t.hash(n));const{r:w,s:b}=g,E=v(n),A=l(b),x=c(E*A),S=c(w*A),I=null===(i=u.BASE.multiplyAndAddUnsafe(m,x,S))||void 0===i?void 0:i.toAffine();return!!I&&c(I.x)===w},ProjectivePoint:u,Signature:y,utils:m}}const Vp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Wp=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Kp=BigInt(0),Gp=BigInt(1),Qp=BigInt(2),Jp=(e,t)=>(e+t/Qp)/t;function Yp(e){const t=Vp,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=cp(u,n,t)*u%t,d=cp(h,n,t)*u%t,f=cp(d,Qp,t)*l%t,p=cp(f,i,t)*f%t,g=cp(p,s,t)*p%t,y=cp(g,a,t)*g%t,m=cp(y,c,t)*y%t,w=cp(m,a,t)*g%t,b=cp(w,n,t)*u%t,v=cp(b,o,t)*p%t,E=cp(v,r,t)*l%t,A=cp(E,Qp,t);if(!Zp.eql(Zp.sqr(A),e))throw new Error("Cannot find square root");return A}const Zp=wp(Vp,void 0,void 0,{sqrt:Yp}),Xp=function(e,t){const n=t=>qp((0,Ee.A)((0,Ee.A)({},e),function(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(0,bf.w)(e,t,(0,vf.Id)(...r))},randomBytes:vf.po}}(t)));return(0,Ee.A)((0,Ee.A)({},n(t)),{},{create:n})}({a:Kp,b:BigInt(7),Fp:Zp,n:Wp,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Wp,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Gp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Jp(s*e,t),c=Jp(-r*e,t);let l=ap(e-a*n-c*i,t),u=ap(-a*r-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},wf.sc);const $p=48,eg=57,tg=65,ng=70,rg=97,ig=102;function sg(e){return e>=$p&&e<=eg?e-$p:e>=tg&&e<=ng?e-(tg-10):e>=rg&&e<=ig?e-(rg-10):void 0}const og=new TextEncoder;function ag(e){return e instanceof Uint8Array?e:"string"===typeof e?cg(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{size:n}=t;let r=e;n&&(Gd(e,n),r=nf(e,n));let i=r.slice(2);i.length%2&&(i="0".concat(i));const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const e=sg(i.charCodeAt(c++)),t=sg(i.charCodeAt(c++));if(void 0===e||void 0===t)throw new Wd('Invalid byte sequence ("'.concat(i[c-2]).concat(i[c-1],'" in "').concat(i,'").'));o[a]=16*e+t}return o}function lg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{size:n}=t,r=og.encode(e);return"number"===typeof n?(function(e,t){if(ug(e)>t)throw new fg({givenSize:ug(e),maxSize:t})}(r,n),function(e,t){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new pg({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const t="right"===n;i[t?s:r-s-1]=e[t?s:e.length-s-1]}return i}(e,{dir:"right",size:t})}(r,n)):r}function ug(e){return e.length}function hg(e){try{return function(e){if(!(e instanceof Uint8Array)){if(!e)throw new dg(e);if("object"!==typeof e)throw new dg(e);if(!("BYTES_PER_ELEMENT"in e))throw new dg(e);if(1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name)throw new dg(e)}}(e),!0}catch(t){return!1}}class dg extends Wd{constructor(e){super("Value `".concat("object"===typeof e?Yd(e):e,"` of type `").concat(typeof e,"` is an invalid Bytes value."),{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class fg extends Wd{constructor(e){let{givenSize:t,maxSize:n}=e;super("Size cannot exceed `".concat(n,"` bytes. Given size: `").concat(t,"` bytes.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class pg extends Wd{constructor(e){let{size:t,targetSize:n,type:r}=e;super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (`").concat(t,"`) exceeds padding size (`").concat(n,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class gg extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const yg={checksum:new gg(8192)},mg=yg.checksum;var wg=n(443);function bg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{as:n=("string"===typeof e?"Hex":"Bytes")}=t,r=(0,wg.lY)(ag(e));return"Bytes"===n?r:$d(r)}function vg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{compressed:n}=t,{prefix:r,x:i,y:s}=e;if(!1===n||"bigint"===typeof i&&"bigint"===typeof s){if(4!==r)throw new kg({prefix:r,cause:new Og})}else{if(!0!==n&&("bigint"!==typeof i||"undefined"!==typeof s))throw new Sg({publicKey:e});if(3!==r&&2!==r)throw new kg({prefix:r,cause:new Ig})}}function Eg(e){const t=(()=>{if(of(e))return Ag(e);if(hg(e))return function(e){return Ag($d(e))}(e);const{prefix:t,x:n,y:r}=e;return"bigint"===typeof n&&"bigint"===typeof r?{prefix:null!==t&&void 0!==t?t:4,x:n,y:r}:{prefix:t,x:n}})();return vg(t),t}function Ag(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new Pg({publicKey:e});if(130===e.length){return{prefix:4,x:BigInt(rf(e,0,32)),y:BigInt(rf(e,32,64))}}if(132===e.length){return{prefix:Number(rf(e,0,1)),x:BigInt(rf(e,1,33)),y:BigInt(rf(e,33,65))}}return{prefix:Number(rf(e,0,1)),x:BigInt(rf(e,1,33))}}function xg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vg(e);const{prefix:n,x:r,y:i}=e,{includePrefix:s=!0}=t,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"0x".concat(t.reduce((e,t)=>e+t.replace("0x",""),""))}(s?ef(n,{size:1}):"0x",ef(r,{size:32}),"bigint"===typeof i?ef(i,{size:32}):"0x");return o}class Sg extends Wd{constructor(e){let{publicKey:t}=e;super("Value `".concat(Yd(t),"` is not a valid public key."),{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class kg extends Wd{constructor(e){let{prefix:t,cause:n}=e;super('Prefix "'.concat(t,'" is invalid.'),{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Ig extends Wd{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Og extends Wd{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class Pg extends Wd{constructor(e){let{publicKey:t}=e;super("Value `".concat(t,"` is an invalid public key size."),{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).","Received ".concat(sf(Xd(t))," bytes.")]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const Tg=/^0x[a-fA-F0-9]{40}$/;function Cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{strict:n=!0}=t;if(!Tg.test(e))throw new _g({address:e,cause:new Bg});if(n){if(e.toLowerCase()===e)return;if(Ng(e)!==e)throw new _g({address:e,cause:new Lg})}}function Ng(e){if(mg.has(e))return mg.get(e);Cg(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=bg(lg(t),{as:"Bytes"}),r=t.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(15&n[s>>1])>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i="0x".concat(r.join(""));return mg.set(e,i),i}function Rg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=bg("0x".concat(xg(e).slice(4))).substring(26);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{checksum:n=!1}=t;return Cg(e),n?Ng(e):e}("0x".concat(n),t)}class _g extends Wd{constructor(e){let{address:t,cause:n}=e;super('Address "'.concat(t,'" is invalid.'),{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Bg extends Wd{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Lg extends Wd{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Ug(e){return Rg(function(e){const{payload:t,signature:n}=e,{r:r,s:i,yParity:s}=n,o=new Xp.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s);return Eg(o.recoverPublicKey(Xd(t).substring(2)))}(e))}var jg=n(1666),Mg=n(4017),Dg=n(5311),Fg=n(5771),zg=n(883),Hg=n(8019),qg=n(1757),Vg=n(5094),Wg=n(2308),Kg=n.n(Wg),Gg=n(8661);const Qg=1024e3;var Jg=Object.defineProperty,Yg=(e,t,n)=>((e,t,n)=>t in e?Jg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Zg{constructor(e){Yg(this,"nodeValue"),Yg(this,"sizeInBytes"),Yg(this,"next"),this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Xg{constructor(e){Yg(this,"lengthInNodes"),Yg(this,"sizeInBytes"),Yg(this,"head"),Yg(this,"tail"),Yg(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new Zg(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}var $g=Object.defineProperty,ey=(e,t,n)=>((e,t,n)=>t in e?$g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ty{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qg;ey(this,"logs"),ey(this,"level"),ey(this,"levelValue"),ey(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=null!==e&&void 0!==e?e:"error",this.levelValue=Wg.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Xg(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===Wg.levels.values.error?console.error(e):t===Wg.levels.values.warn?console.warn(e):t===Wg.levels.values.debug?console.debug(e):t===Wg.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,Gg.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Xg(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,Gg.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var ny=Object.defineProperty,ry=(e,t,n)=>((e,t,n)=>t in e?ny(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class iy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qg;ry(this,"baseChunkLogger"),this.baseChunkLogger=new ty(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}var sy=Object.defineProperty,oy=(e,t,n)=>((e,t,n)=>t in e?sy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ay{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qg;oy(this,"baseChunkLogger"),this.baseChunkLogger=new ty(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var cy=Object.defineProperty,ly=Object.defineProperties,uy=Object.getOwnPropertyDescriptors,hy=Object.getOwnPropertySymbols,dy=Object.prototype.hasOwnProperty,fy=Object.prototype.propertyIsEnumerable,py=(e,t,n)=>t in e?cy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gy=(e,t)=>{for(var n in t||(t={}))dy.call(t,n)&&py(e,n,t[n]);if(hy)for(var n of hy(t))fy.call(t,n)&&py(e,n,t[n]);return e},yy=(e,t)=>ly(e,uy(t));function my(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new iy(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Kg()(yy(gy({},e.opts),{level:"trace",browser:yy(gy({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new ay(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Kg()(yy(gy({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}const wy=":";function by(e){const[t,n]=e.split(wy);return{namespace:t,reference:n}}function vy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)}),n}function Ey(e,t){return e.includes(":")?[e]:t.chains||[]}var Ay=Object.defineProperty,xy=Object.defineProperties,Sy=Object.getOwnPropertyDescriptors,ky=Object.getOwnPropertySymbols,Iy=Object.prototype.hasOwnProperty,Oy=Object.prototype.propertyIsEnumerable,Py=(e,t,n)=>t in e?Ay(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ty=(e,t)=>{for(var n in t||(t={}))Iy.call(t,n)&&Py(e,n,t[n]);if(ky)for(var n of ky(t))Oy.call(t,n)&&Py(e,n,t[n]);return e},Cy=(e,t,n)=>Py(e,"symbol"!=typeof t?t+"":t,n);const Ny="react-native",Ry="node",_y="browser",By="unknown",Ly="js";function Uy(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function jy(){return!(0,qd.getDocument)()&&!!(0,qd.getNavigator)()&&"ReactNative"===navigator.product}function My(){return!Uy()&&!!(0,qd.getNavigator)()&&!!(0,qd.getDocument)()}function Dy(){return jy()?Ny:Uy()?Ry:My()?_y:By}function Fy(){var e;try{return jy()&&typeof global<"u"&&typeof(null==global?void 0:global.Application)<"u"?null==(e=global.Application)?void 0:e.applicationId:void 0}catch(t){return}}function zy(e){var t,n;const r=Hy();try{return null!=e&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn("The configured WalletConnect 'metadata.url':".concat(e.url," differs from the actual page url:").concat(r.url,". This is probably unintended and can lead to issues.")),e.url=r.url),null!=(t=null===e||void 0===e?void 0:e.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),((e,t)=>xy(e,Sy(t)))(Ty(Ty({},r),e),{url:(null===e||void 0===e?void 0:e.url)||r.url,name:(null===e||void 0===e?void 0:e.name)||r.name,description:(null===e||void 0===e?void 0:e.description)||r.description,icons:null!=(n=null===e||void 0===e?void 0:e.icons)&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),e||r}}function Hy(){return(0,Vd.g)()||{name:"",description:"",url:"",icons:[""]}}function qy(e,t,n){const r=function(){if(Dy()===Ny&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:e,Version:t}=global.Platform;return[e,t].join("-")}const e=(0,zd.o0)();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;const t=Dy();return t===_y?[t,(null==(e=(0,qd.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[Ly,n].join("-"),r,i].join("/")}function Vy(e){let{protocol:t,version:n,relayUrl:r,sdkVersion:i,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c,packageName:l}=e;const u=r.split("?"),h={auth:s,ua:qy(t,n,i),projectId:o,useOnCloseEvent:a||void 0,packageName:l||void 0,bundleId:c||void 0},d=function(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).forEach(e=>{let[t,r]=e;null!=r&&n.set(t,String(r))}),n.toString()}(u[1]||"",h);return u[0]+"?"+d}function Wy(e,t){return e.filter(e=>t.includes(e)).length===e.length}function Ky(e){return Object.fromEntries(e.entries())}function Gy(e){return new Map(Object.entries(e))}function Qy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hd.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const n=(0,Hd.toMiliseconds)(e||Hd.FIVE_MINUTES);let r,i,s,o;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise((e,a)=>{if(o)return e(o);s=setTimeout(()=>{const e=new Error(t);o=Promise.reject(e),a(e)},n),r=e,i=a})}}function Jy(e,t,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),t);try{r(await e)}catch(Qg){i(Qg)}clearTimeout(s)})}function Yy(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function Zy(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(t,":").concat(n));r.id=Number(n)}return r}function Xy(e,t){return(0,Hd.fromMiliseconds)((t||Date.now())+(0,Hd.toMiliseconds)(e))}function $y(e){return Date.now()>=(0,Hd.toMiliseconds)(e)}function em(e,t){return"".concat(e).concat(t?":".concat(t):"")}function tm(){return[...new Set([...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])]}async function nm(e){let{id:t,topic:n,wcDeepLink:r}=e;var i;try{if(!r)return;const e="string"==typeof r?JSON.parse(r):r,s=null===e||void 0===e?void 0:e.href;if("string"!=typeof s)return;const o=function(e,t,n){const r="requestId=".concat(t,"&sessionTopic=").concat(n);e.endsWith("/")&&(e=e.slice(0,-1));let i="".concat(e);if(e.startsWith("https://t.me")){const t=e.includes("?")?"&startapp=":"?startapp=";i="".concat(i).concat(t).concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0))}else i="".concat(i,"/wc?").concat(r);return i}(s,t,n),a=Dy();if(a===_y){if(null==(i=(0,qd.getDocument)())||!i.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch(e){return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(o)}else a===Ny&&typeof(null==global?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function rm(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function im(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function sm(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MARKETPLACE_ADDRESS:"0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43",REACT_APP_NFT_COLLECTION_ADDRESS:"0x6f2835F12EcD1e60655f219Be6Fcb1dC50A9e972",REACT_APP_ROYALTY_SPLITTER_FACTORY_ADDRESS:"0x70E1c43fDc72a35fF5671a1e40f2673ED16fdB40",REACT_APP_CHAIN_ID:"80002",REACT_APP_NETWORK_NAME:"Polygon Amoy",REACT_APP_RPC_URL:"https://rpc-amoy.polygon.technology",REACT_APP_IPFS_GATEWAY:"https://ipfs.io/ipfs/",REACT_APP_WALLETCONNECT_PROJECT_ID:"5e467db3e55d357493c846de13b399fc"}.IS_VITEST}function om(e){return Buffer.from(e,"base64").toString("utf-8")}class am{constructor(e){let{limit:t}=e;Cy(this,"limit"),Cy(this,"set"),this.limit=t,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}const cm=BigInt(2**32-1),lm=BigInt(32);function um(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&cm),l:Number(e>>lm&cm)}:{h:0|Number(e>>lm&cm),l:0|Number(e&cm)}}function hm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=um(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const dm=(e,t,n)=>e>>>n,fm=(e,t,n)=>e<<32-n|t>>>n,pm=(e,t,n)=>e>>>n|t<<32-n,gm=(e,t,n)=>e<<32-n|t>>>n,ym=(e,t,n)=>e<<64-n|t>>>n-32,mm=(e,t,n)=>e>>>n-32|t<<64-n,wm=(e,t)=>t,bm=(e,t)=>e;function vm(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const Em=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Am=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,xm=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Sm=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,km=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Im=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Om="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Pm(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Tm(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Cm(e){if(!Pm(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function Nm(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");Tm(e.outputLen),Tm(e.blockLen)}function Rm(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _m(e,t){Cm(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Bm(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Lm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}function Um(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function jm(e,t){return e<<32-t|e>>>t}const Mm=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Dm(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Fm=Mm?e=>e:e=>Dm(e);const zm=Mm?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Dm(e[t]);return e},Hm="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,qm=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Vm(e){if(Cm(e),Hm)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=qm[e[n]];return t}const Wm=48,Km=57,Gm=65,Qm=70,Jm=97,Ym=102;function Zm(e){return e>=Wm&&e<=Km?e-Wm:e>=Gm&&e<=Qm?e-(Gm-10):e>=Jm&&e<=Ym?e-(Jm-10):void 0}function Xm(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Hm)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=Zm(e.charCodeAt(s)),n=Zm(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function $m(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function ew(e){return"string"==typeof e&&(e=$m(e)),Cm(e),e}function tw(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Cm(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class nw{}function rw(e){const t=t=>e().update(ew(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function iw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Om&&"function"==typeof Om.getRandomValues)return Om.getRandomValues(new Uint8Array(e));if(Om&&"function"==typeof Om.randomBytes)return Uint8Array.from(Om.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const sw=BigInt(0),ow=BigInt(1),aw=BigInt(2),cw=BigInt(7),lw=BigInt(256),uw=BigInt(113),hw=[],dw=[],fw=[];for(let n=0,aU=ow,cU=1,lU=0;n<24;n++){[cU,lU]=[lU,(2*cU+3*lU)%5],hw.push(2*(5*lU+cU)),dw.push((n+1)*(n+2)/2%64);let e=sw;for(let t=0;t<7;t++)aU=(aU<<ow^(aU>>cw)*uw)%lw,aU&aw&&(e^=ow<<(ow<<BigInt(t))-ow);fw.push(e)}const pw=hm(fw,!0),gw=pw[0],yw=pw[1],mw=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),ww=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class bw extends nw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,Tm(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Bm(this.state)}clone(){return this._cloneInto()}keccak(){zm(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=mw(s,o,1)^n[t],c=ww(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=dw[n],s=mw(t,i,r),o=ww(t,i,r),a=hw[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=gw[r],e[1]^=yw[r]}Lm(n)}(this.state32,this.rounds),zm(this.state32),this.posOut=0,this.pos=0}update(e){Rm(this),Cm(e=ew(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Rm(this,!1),Cm(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Tm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(_m(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Lm(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new bw(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const vw=((e,t,n)=>rw(()=>new bw(t,e,n)))(1,136,32);function Ew(e,t,n){return e&t^~e&n}function Aw(e,t,n){return e&t^e&n^t&n}class xw extends nw{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=Um(this.buffer)}update(e){Rm(this),Cm(e=ew(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=Um(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rm(this),_m(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,Lm(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Um(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Sw=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kw=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Iw=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ow=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pw=new Uint32Array(64);class Tw extends xw{constructor(){super(64,arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,8,!1),this.A=0|Sw[0],this.B=0|Sw[1],this.C=0|Sw[2],this.D=0|Sw[3],this.E=0|Sw[4],this.F=0|Sw[5],this.G=0|Sw[6],this.H=0|Sw[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)Pw[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Pw[u-15],t=Pw[u-2],n=jm(e,7)^jm(e,18)^e>>>3,r=jm(t,17)^jm(t,19)^t>>>10;Pw[u]=r+Pw[u-7]+n+Pw[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(jm(o,6)^jm(o,11)^jm(o,25))+Ew(o,a,c)+Ow[u]+Pw[u]|0,t=(jm(n,2)^jm(n,13)^jm(n,22))+Aw(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){Lm(Pw)}destroy(){this.set(0,0,0,0,0,0,0,0),Lm(this.buffer)}}const Cw=hm(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Nw=Cw[0],Rw=Cw[1],_w=new Uint32Array(80),Bw=new Uint32Array(80);class Lw extends xw{constructor(){super(128,arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,16,!1),this.Ah=0|Iw[0],this.Al=0|Iw[1],this.Bh=0|Iw[2],this.Bl=0|Iw[3],this.Ch=0|Iw[4],this.Cl=0|Iw[5],this.Dh=0|Iw[6],this.Dl=0|Iw[7],this.Eh=0|Iw[8],this.El=0|Iw[9],this.Fh=0|Iw[10],this.Fl=0|Iw[11],this.Gh=0|Iw[12],this.Gl=0|Iw[13],this.Hh=0|Iw[14],this.Hl=0|Iw[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)_w[w]=e.getUint32(t),Bw[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|_w[w-15],t=0|Bw[w-15],n=pm(e,t,1)^pm(e,t,8)^dm(e,0,7),r=gm(e,t,1)^gm(e,t,8)^fm(e,t,7),i=0|_w[w-2],s=0|Bw[w-2],o=pm(i,s,19)^ym(i,s,61)^dm(i,0,6),a=gm(i,s,19)^mm(i,s,61)^fm(i,s,6),c=xm(r,a,Bw[w-7],Bw[w-16]),l=Sm(c,n,o,_w[w-7],_w[w-16]);_w[w]=0|l,Bw[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const e=pm(u,h,14)^pm(u,h,18)^ym(u,h,41),t=gm(u,h,14)^gm(u,h,18)^mm(u,h,41),b=u&d^~u&p,v=km(m,t,h&f^~h&g,Rw[w],Bw[w]),E=Im(v,y,e,b,Nw[w],_w[w]),A=0|v,x=pm(n,r,28)^ym(n,r,34)^ym(n,r,39),S=gm(n,r,28)^mm(n,r,34)^mm(n,r,39),k=n&i^n&o^i&o,I=r&s^r&a^s&a;y=0|p,m=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=vm(0|c,0|l,0|E,0|A)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const O=Em(A,S,I);n=Am(O,E,x,k),r=0|O}({h:n,l:r}=vm(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=vm(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=vm(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=vm(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=vm(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=vm(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=vm(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=vm(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,y,m)}roundClean(){Lm(_w,Bw)}destroy(){Lm(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Uw extends Lw{constructor(){super(48),this.Ah=0|kw[0],this.Al=0|kw[1],this.Bh=0|kw[2],this.Bl=0|kw[3],this.Ch=0|kw[4],this.Cl=0|kw[5],this.Dh=0|kw[6],this.Dl=0|kw[7],this.Eh=0|kw[8],this.El=0|kw[9],this.Fh=0|kw[10],this.Fl=0|kw[11],this.Gh=0|kw[12],this.Gl=0|kw[13],this.Hh=0|kw[14],this.Hl=0|kw[15]}}const jw=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Mw extends Lw{constructor(){super(32),this.Ah=0|jw[0],this.Al=0|jw[1],this.Bh=0|jw[2],this.Bl=0|jw[3],this.Ch=0|jw[4],this.Cl=0|jw[5],this.Dh=0|jw[6],this.Dl=0|jw[7],this.Eh=0|jw[8],this.El=0|jw[9],this.Fh=0|jw[10],this.Fl=0|jw[11],this.Gh=0|jw[12],this.Gl=0|jw[13],this.Hh=0|jw[14],this.Hl=0|jw[15]}}const Dw=rw(()=>new Tw),Fw=rw(()=>new Lw),zw=rw(()=>new Uw),Hw=rw(()=>new Mw),qw=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Vw=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ww=new Uint32Array(32);function Kw(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=Ww[2*e],l=Ww[2*e+1],u=Ww[2*t],h=Ww[2*t+1],d=Ww[2*n],f=Ww[2*n+1],p=Ww[2*r],g=Ww[2*r+1],y=Em(c,u,o);l=Am(y,l,h,a),c=0|y,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:wm(0,p),Dl:bm(g)}),({h:f,l:d}=vm(f,d,g,p)),({Bh:h,Bl:u}={Bh:h^f,Bl:u^d}),({Bh:h,Bl:u}={Bh:pm(h,u,24),Bl:gm(h,u,24)}),Ww[2*e]=c,Ww[2*e+1]=l,Ww[2*t]=u,Ww[2*t+1]=h,Ww[2*n]=d,Ww[2*n+1]=f,Ww[2*r]=p,Ww[2*r+1]=g}function Gw(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=Ww[2*e],l=Ww[2*e+1],u=Ww[2*t],h=Ww[2*t+1],d=Ww[2*n],f=Ww[2*n+1],p=Ww[2*r],g=Ww[2*r+1],y=Em(c,u,o);l=Am(y,l,h,a),c=0|y,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:pm(g,p,16),Dl:gm(g,p,16)}),({h:f,l:d}=vm(f,d,g,p)),({Bh:h,Bl:u}={Bh:h^f,Bl:u^d}),({Bh:h,Bl:u}={Bh:ym(h,u,63),Bl:mm(h,u,63)}),Ww[2*e]=c,Ww[2*e+1]=l,Ww[2*t]=u,Ww[2*t+1]=h,Ww[2*n]=d,Ww[2*n+1]=f,Ww[2*r]=p,Ww[2*r+1]=g}class Qw extends nw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Tm(e),Tm(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=Bm(this.buffer)}update(e){Rm(this),Cm(e=ew(e));const{blockLen:t,buffer:n,buffer32:r}=this,i=e.length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(zm(r),this.compress(r,0,!1),zm(r),this.pos=0);const c=Math.min(t-this.pos,i-a),l=s+a;if(c===t&&!(l%4)&&a+c<i){const e=new Uint32Array(o,l,Math.floor((i-a)/4));zm(e);for(let n=0;a+t<i;n+=r.length,a+=t)this.length+=t,this.compress(e,n,!1);zm(e);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){Rm(this),_m(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,Lm(this.buffer.subarray(t)),zm(n),this.compress(n,0,!0),zm(n);const r=Bm(e);this.get().forEach((e,t)=>r[t]=Fm(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:r,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=r,e.length=n,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}class Jw extends Qw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|Vw[0],this.v0h=0|Vw[1],this.v1l=0|Vw[2],this.v1h=0|Vw[3],this.v2l=0|Vw[4],this.v2h=0|Vw[5],this.v3l=0|Vw[6],this.v3h=0|Vw[7],this.v4l=0|Vw[8],this.v4h=0|Vw[9],this.v5l=0|Vw[10],this.v5h=0|Vw[11],this.v6l=0|Vw[12],this.v6h=0|Vw[13],this.v7l=0|Vw[14],this.v7h=0|Vw[15],function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(Tm(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=t;if(void 0!==s&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==o&&o.length!==r)throw new Error("salt must be undefined or "+r);if(void 0!==a&&a.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:n,personalization:r,salt:i}=e,s=0;if(void 0!==n&&(n=ew(n),s=n.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=ew(i);const e=Bm(i);this.v4l^=Fm(e[0]),this.v4h^=Fm(e[1]),this.v5l^=Fm(e[2]),this.v5h^=Fm(e[3])}if(void 0!==r){r=ew(r);const e=Bm(r);this.v6l^=Fm(e[0]),this.v6h^=Fm(e[1]),this.v7l^=Fm(e[2]),this.v7h^=Fm(e[3])}if(void 0!==n){const e=new Uint8Array(this.blockLen);e.set(n),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:r,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:l,v5l:u,v5h:h,v6l:d,v6h:f,v7l:p,v7h:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|n,this.v1h=0|r,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|h,this.v6l=0|d,this.v6h=0|f,this.v7l=0|p,this.v7h=0|g}compress(e,t,n){this.get().forEach((e,t)=>Ww[t]=e),Ww.set(Vw,16);let{h:r,l:i}=um(BigInt(this.length));Ww[24]=Vw[8]^i,Ww[25]=Vw[9]^r,n&&(Ww[28]=~Ww[28],Ww[29]=~Ww[29]);let s=0;const o=qw;for(let a=0;a<12;a++)Kw(0,4,8,12,e,t+2*o[s++]),Gw(0,4,8,12,e,t+2*o[s++]),Kw(1,5,9,13,e,t+2*o[s++]),Gw(1,5,9,13,e,t+2*o[s++]),Kw(2,6,10,14,e,t+2*o[s++]),Gw(2,6,10,14,e,t+2*o[s++]),Kw(3,7,11,15,e,t+2*o[s++]),Gw(3,7,11,15,e,t+2*o[s++]),Kw(0,5,10,15,e,t+2*o[s++]),Gw(0,5,10,15,e,t+2*o[s++]),Kw(1,6,11,12,e,t+2*o[s++]),Gw(1,6,11,12,e,t+2*o[s++]),Kw(2,7,8,13,e,t+2*o[s++]),Gw(2,7,8,13,e,t+2*o[s++]),Kw(3,4,9,14,e,t+2*o[s++]),Gw(3,4,9,14,e,t+2*o[s++]);this.v0l^=Ww[0]^Ww[16],this.v0h^=Ww[1]^Ww[17],this.v1l^=Ww[2]^Ww[18],this.v1h^=Ww[3]^Ww[19],this.v2l^=Ww[4]^Ww[20],this.v2h^=Ww[5]^Ww[21],this.v3l^=Ww[6]^Ww[22],this.v3h^=Ww[7]^Ww[23],this.v4l^=Ww[8]^Ww[24],this.v4h^=Ww[9]^Ww[25],this.v5l^=Ww[10]^Ww[26],this.v5h^=Ww[11]^Ww[27],this.v6l^=Ww[12]^Ww[28],this.v6h^=Ww[13]^Ww[29],this.v7l^=Ww[14]^Ww[30],this.v7h^=Ww[15]^Ww[31],Lm(Ww)}destroy(){this.destroyed=!0,Lm(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Yw=function(e){const t=(t,n)=>e(n).update(ew(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new Jw(e)),Zw="https://rpc.walletconnect.org/v1";function Xw(e){const t="\x19Ethereum Signed Message:\n".concat(e.length),n=(new TextEncoder).encode(t+e);return"0x"+Buffer.from(vw(n)).toString("hex")}async function $w(e,t,n,r,i,s){switch(n.t){case"eip191":return await function(e,t,n){const r=ff(n);return Ug({payload:Xw(t),signature:r}).toLowerCase()===e.toLowerCase()}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,s){const o=by(r);if(!o.namespace||!o.reference)throw new Error("isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ".concat(r));try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),l=(c.length/2).toString(16).padStart(64,"0"),u=o+(t.startsWith("0x")?t:Xw(t)).substring(2)+a+l+c,h=await fetch("".concat(s||Zw,"/?chainId=").concat(r,"&projectId=").concat(i),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:eb(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:d}=await h.json();return!!d&&d.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}(e,t,n.s,r,i,s);default:throw new Error("verifySignature failed: Attempted to verify CacaoSignature with unknown type: ".concat(n.t))}}function eb(){return Date.now()+Math.floor(1e3*Math.random())}function tb(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=Yw(r,{dkLen:32});return jg.A.encode(i)}function nb(e){const t=new Uint8Array(Dw(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return jg.A.encode(t)}function rb(e){const t=Buffer.from(e,"base64"),n=(0,Mg.D)(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=(0,Dg.l)(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=Hw(s);return Fg.RG.encode(o).replace(/=+$/,"")}function ib(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function sb(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(ib(t.length)),i.push(t),i.push(Buffer.from([18])),i.push(ib(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(ib(r.length)),i.push(r);const s=Buffer.concat(i),o=Dw(s);return Buffer.from(o).toString("hex").toUpperCase()}var ob=Object.defineProperty,ab=Object.defineProperties,cb=Object.getOwnPropertyDescriptors,lb=Object.getOwnPropertySymbols,ub=Object.prototype.hasOwnProperty,hb=Object.prototype.propertyIsEnumerable,db=(e,t,n)=>t in e?ob(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fb=(e,t)=>{for(var n in t||(t={}))ub.call(t,n)&&db(e,n,t[n]);if(lb)for(var n of lb(t))hb.call(t,n)&&db(e,n,t[n]);return e},pb=(e,t)=>ab(e,cb(t));const gb=e=>null===e||void 0===e?void 0:e.split(":"),yb=e=>{const t=e&&gb(e);if(t)return t[2]+":"+t[3]},mb=e=>{const t=e&&gb(e);if(t)return t.pop()};async function wb(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=bb(i,i.iss),o=mb(i.iss);return await $w(o,s,r,yb(i.iss),n)}const bb=(e,t)=>{const n="".concat(e.domain," wants you to sign in with your Ethereum account:"),r=mb(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s="URI: ".concat(e.aud||e.uri),o="Version: ".concat(e.version),a="Chain ID: ".concat((e=>{const t=e&&gb(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)),c="Nonce: ".concat(e.nonce),l="Issued At: ".concat(e.iat),u=e.exp?"Expiration Time: ".concat(e.exp):void 0,h=e.nbf?"Not Before: ".concat(e.nbf):void 0,d=e.requestId?"Request ID: ".concat(e.requestId):void 0,f=e.resources?"Resources:".concat(e.resources.map(e=>"\n- ".concat(e)).join("")):void 0,p=Cb(e.resources);if(p){i=Ob(i,xb(p))}return[n,r,"",i,"",s,o,a,c,l,u,h,d,f].filter(e=>null!=e).join("\n")};function vb(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach(t=>{const n=e.att[t];if(Array.isArray(n))throw new Error("Resource must be an object: ".concat(t));if("object"!=typeof n)throw new Error("Resource must be an object: ".concat(t));if(!Object.keys(n).length)throw new Error("Resource object is empty: ".concat(t));Object.keys(n).forEach(e=>{const t=n[e];if(!Array.isArray(t))throw new Error("Ability limits ".concat(e," must be an array of objects, found: ").concat(t));if(!t.length)throw new Error("Value of ".concat(e," is empty array, must be an array with objects"));t.forEach(t=>{if("object"!=typeof t)throw new Error("Ability limits (".concat(e,") must be an array of objects, found: ").concat(t))})})})}function Eb(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=null===(n=t)||void 0===n?void 0:n.sort((e,t)=>e.localeCompare(t));const i=t.map(t=>({["".concat(e,"/").concat(t)]:[r]}));return Object.assign({},...i)}function Ab(e){return vb(e),"urn:recap:".concat(function(e){return Buffer.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,""))}function xb(e){const t=function(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return vb(t),t}function Sb(e,t,n){const r=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==n&&void 0!==n&&n.sort((e,t)=>e.localeCompare(t)),{att:{[e]:Eb(t,n,r)}}}(e,t,n);return Ab(r)}function kb(e){return e&&e.includes("urn:recap:")}function Ib(e,t){const n=function(e,t){vb(e),vb(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),r={att:{}};return n.forEach(n=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[n])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,o;r.att[n]=pb(fb({},r.att[n]),{[i]:(null==(s=e.att[n])?void 0:s[i])||(null==(o=t.att[n])?void 0:o[i])})})}),r}(xb(e),xb(t));return Ab(n)}function Ob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;vb(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach(e=>{const n=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));n.sort((e,t)=>e.action.localeCompare(t.action));const s={};n.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});const o=Object.keys(s).map(t=>(i++,"(".concat(i,") '").concat(t,"': '").concat(s[t].join("', '"),"' for '").concat(e,"'.")));r.push(o.join(", ").replace(".,","."))});const s=r.join(" "),o="".concat(n).concat(s);return"".concat(e?e+" ":"").concat(o)}function Pb(e){var t;const n=xb(e);vb(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map(e=>e.split("/")[1]):[]}function Tb(e){const t=xb(e);vb(t);const n=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=null===e||void 0===e?void 0:e[0])&&t.chains&&n.push(e[0].chains)})}),[...new Set(n.flat())]}function Cb(e){if(!e)return;const t=null===e||void 0===e?void 0:e[e.length-1];return kb(t)?t:void 0}function Nb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Rb(e){if("boolean"!=typeof e)throw new Error("boolean expected, not ".concat(e))}function _b(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Bb(e){if(!Nb(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function Lb(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ub(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function jb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}const Mb=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Db(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Nb(e))throw new Error("Uint8Array expected, got "+typeof e);e=qb(e)}return e}function Fb(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4===0}(t))throw new Error("invalid output, must be aligned");return t}function zb(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function Hb(e,t,n){Rb(n);const r=new Uint8Array(16),i=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(r);return zb(i,0,BigInt(t),n),zb(i,8,BigInt(e),n),r}function qb(e){return Uint8Array.from(e)}const Vb=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),Wb=Vb("expand 16-byte k"),Kb=Vb("expand 32-byte k"),Gb=Ub(Wb),Qb=Ub(Kb);function Jb(e,t){return e<<t|e>>>32-t}function Yb(e){return e.byteOffset%4===0}const Zb=2**32-1,Xb=new Uint32Array;const $b=(e,t)=>255&e[t++]|(255&e[t++])<<8;class ev{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Bb(e=Db(e),32);const t=$b(e,0),n=$b(e,2),r=$b(e,4),i=$b(e,6),s=$b(e,8),o=$b(e,10),a=$b(e,12),c=$b(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let l=0;l<8;l++)this.pad[l]=$b(e,16+2*l)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],h=i[6],d=i[7],f=i[8],p=i[9],g=$b(e,t+0),y=$b(e,t+2),m=$b(e,t+4),w=$b(e,t+6),b=$b(e,t+8),v=$b(e,t+10),E=$b(e,t+12),A=$b(e,t+14);let x=r[0]+(8191&g),S=r[1]+(8191&(g>>>13|y<<3)),k=r[2]+(8191&(y>>>10|m<<6)),I=r[3]+(8191&(m>>>7|w<<9)),O=r[4]+(8191&(w>>>4|b<<12)),P=r[5]+(b>>>1&8191),T=r[6]+(8191&(b>>>14|v<<2)),C=r[7]+(8191&(v>>>11|E<<5)),N=r[8]+(8191&(E>>>8|A<<8)),R=r[9]+(A>>>5|n),_=0,B=_+x*s+S*(5*p)+k*(5*f)+I*(5*d)+O*(5*h);_=B>>>13,B&=8191,B+=P*(5*u)+T*(5*l)+C*(5*c)+N*(5*a)+R*(5*o),_+=B>>>13,B&=8191;let L=_+x*o+S*s+k*(5*p)+I*(5*f)+O*(5*d);_=L>>>13,L&=8191,L+=P*(5*h)+T*(5*u)+C*(5*l)+N*(5*c)+R*(5*a),_+=L>>>13,L&=8191;let U=_+x*a+S*o+k*s+I*(5*p)+O*(5*f);_=U>>>13,U&=8191,U+=P*(5*d)+T*(5*h)+C*(5*u)+N*(5*l)+R*(5*c),_+=U>>>13,U&=8191;let j=_+x*c+S*a+k*o+I*s+O*(5*p);_=j>>>13,j&=8191,j+=P*(5*f)+T*(5*d)+C*(5*h)+N*(5*u)+R*(5*l),_+=j>>>13,j&=8191;let M=_+x*l+S*c+k*a+I*o+O*s;_=M>>>13,M&=8191,M+=P*(5*p)+T*(5*f)+C*(5*d)+N*(5*h)+R*(5*u),_+=M>>>13,M&=8191;let D=_+x*u+S*l+k*c+I*a+O*o;_=D>>>13,D&=8191,D+=P*s+T*(5*p)+C*(5*f)+N*(5*d)+R*(5*h),_+=D>>>13,D&=8191;let F=_+x*h+S*u+k*l+I*c+O*a;_=F>>>13,F&=8191,F+=P*o+T*s+C*(5*p)+N*(5*f)+R*(5*d),_+=F>>>13,F&=8191;let z=_+x*d+S*h+k*u+I*l+O*c;_=z>>>13,z&=8191,z+=P*a+T*o+C*s+N*(5*p)+R*(5*f),_+=z>>>13,z&=8191;let H=_+x*f+S*d+k*h+I*u+O*l;_=H>>>13,H&=8191,H+=P*c+T*a+C*o+N*s+R*(5*p),_+=H>>>13,H&=8191;let q=_+x*p+S*f+k*d+I*h+O*u;_=q>>>13,q&=8191,q+=P*l+T*c+C*a+N*o+R*s,_+=q>>>13,q&=8191,_=(_<<2)+_|0,_=_+B|0,B=8191&_,_>>>=13,L+=_,r[0]=B,r[1]=L,r[2]=U,r[3]=j,r[4]=M,r[5]=D,r[6]=F,r[7]=z,r[8]=H,r[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=r,r=e[o]>>>13,e[o]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+r,r=n[o]>>>13,n[o]&=8191;n[9]-=8192;let i=(1^r)-1;for(let o=0;o<10;o++)n[o]&=i;i=~i;for(let o=0;o<10;o++)e[o]=e[o]&i|n[o];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let o=1;o<8;o++)s=(e[o]+t[o]|0)+(s>>>16)|0,e[o]=65535&s;jb(n)}update(e){Lb(this),Bb(e=Db(e));const{buffer:t,blockLen:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(n-this.pos,r-i);if(s!==n)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){jb(this.h,this.r,this.buffer,this.pad)}digestInto(e){Lb(this),function(e,t){Bb(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const tv=function(e){const t=(t,n)=>e(n).update(Db(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new ev(e));const nv=function(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return _b(i),_b(o),Rb(s),Rb(n),function(t,a,c,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Bb(t),Bb(a),Bb(c);const h=c.length;if(void 0===l&&(l=new Uint8Array(h)),Bb(l),_b(u),u<0||u>=Zb)throw new Error("arx: counter overflow");if(l.length<h)throw new Error("arx: output (".concat(l.length,") is shorter than data (").concat(h,")"));const d=[];let f,p,g=t.length;if(32===g)d.push(f=qb(t)),p=Qb;else{if(16!==g||!n)throw new Error("arx: invalid 32-byte key, got length=".concat(g));f=new Uint8Array(32),f.set(t),f.set(t,16),p=Gb,d.push(f)}Yb(a)||d.push(a=qb(a));const y=Ub(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,y,Ub(a.subarray(0,16)),y),a=a.subarray(16)}const m=16-i;if(m!==a.length)throw new Error("arx: nonce must be ".concat(m," or 16 bytes"));if(12!==m){const e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,d.push(a)}const w=Ub(a);return function(e,t,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(64),u=Ub(l),h=Yb(i)&&Yb(s),d=h?Ub(i):Xb,f=h?Ub(s):Xb;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=Zb)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(h&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=d[t]^u[n];p+=64;continue}for(let e,t=0;t<g;t++)e=p+t,s[e]=i[e]^l[t];p+=g}}(e,p,y,w,c,l,u,o),jb(...d),l}}(function(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],h=t[1],d=t[2],f=t[3],p=t[4],g=t[5],y=t[6],m=t[7],w=i,b=n[0],v=n[1],E=n[2],A=o,x=a,S=c,k=l,I=u,O=h,P=d,T=f,C=p,N=g,R=y,_=m,B=w,L=b,U=v,j=E;for(let D=0;D<s;D+=2)A=A+I|0,B=Jb(B^A,16),C=C+B|0,I=Jb(I^C,12),A=A+I|0,B=Jb(B^A,8),C=C+B|0,I=Jb(I^C,7),x=x+O|0,L=Jb(L^x,16),N=N+L|0,O=Jb(O^N,12),x=x+O|0,L=Jb(L^x,8),N=N+L|0,O=Jb(O^N,7),S=S+P|0,U=Jb(U^S,16),R=R+U|0,P=Jb(P^R,12),S=S+P|0,U=Jb(U^S,8),R=R+U|0,P=Jb(P^R,7),k=k+T|0,j=Jb(j^k,16),_=_+j|0,T=Jb(T^_,12),k=k+T|0,j=Jb(j^k,8),_=_+j|0,T=Jb(T^_,7),A=A+O|0,j=Jb(j^A,16),R=R+j|0,O=Jb(O^R,12),A=A+O|0,j=Jb(j^A,8),R=R+j|0,O=Jb(O^R,7),x=x+P|0,B=Jb(B^x,16),_=_+B|0,P=Jb(P^_,12),x=x+P|0,B=Jb(B^x,8),_=_+B|0,P=Jb(P^_,7),S=S+T|0,L=Jb(L^S,16),C=C+L|0,T=Jb(T^C,12),S=S+T|0,L=Jb(L^S,8),C=C+L|0,T=Jb(T^C,7),k=k+I|0,U=Jb(U^k,16),N=N+U|0,I=Jb(I^N,12),k=k+I|0,U=Jb(U^k,8),N=N+U|0,I=Jb(I^N,7);let M=0;r[M++]=o+A|0,r[M++]=a+x|0,r[M++]=c+S|0,r[M++]=l+k|0,r[M++]=u+I|0,r[M++]=h+O|0,r[M++]=d+P|0,r[M++]=f+T|0,r[M++]=p+C|0,r[M++]=g+N|0,r[M++]=y+R|0,r[M++]=m+_|0,r[M++]=w+B|0,r[M++]=b+L|0,r[M++]=v+U|0,r[M++]=E+j|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),rv=new Uint8Array(16),iv=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(rv.subarray(n))},sv=new Uint8Array(32);function ov(e,t,n,r,i){const s=e(t,n,sv),o=tv.create(s);i&&iv(o,i),iv(o,r);const a=Hb(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return jb(s,a),c}const av=((e,t)=>{function n(n){if(Bb(n),!Mb)throw new Error("Non little-endian hardware is not yet supported");for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(void 0!==e.nonceLength){const t=i[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?Bb(t):Bb(t,e.nonceLength)}const o=e.tagLength;o&&void 0!==i[1]&&Bb(i[1]);const a=t(n,...i),c=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");Bb(t)}};let l=!1;return{encrypt(e,t){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Bb(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(Bb(e),o&&e.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(cv=nv,(e,t,n)=>({encrypt(r,i){const s=r.length;(i=Fb(s+16,i,!1)).set(r);const o=i.subarray(0,-16);cv(e,t,o,o,1);const a=ov(cv,e,t,o,n);return i.set(a,s),jb(a),i},decrypt(r,i){i=Fb(r.length-16,i,!1);const s=r.subarray(0,-16),o=r.subarray(-16),a=ov(cv,e,t,s,n);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(o,a))throw new Error("invalid tag");return i.set(r.subarray(0,-16)),cv(e,t,i,i,1),jb(a),i}})));var cv;class lv extends nw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Nm(e);const n=ew(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),Lm(i)}update(e){return Rm(this),this.iHash.update(e),this}digestInto(e){Rm(this),Cm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uv=(e,t,n)=>new lv(e,t).update(n).digest();uv.create=(e,t)=>new lv(e,t);const hv=Uint8Array.from([0]),dv=Uint8Array.of();const fv=(e,t,n,r,i)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;Nm(e),Tm(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);void 0===n&&(n=dv);const o=new Uint8Array(s*i),a=uv.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)hv[0]=u+1,c.update(0===u?dv:l).update(n).update(hv).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),Lm(l,hv),o.slice(0,r)}(e,function(e,t,n){return Nm(e),void 0===n&&(n=new Uint8Array(e.outputLen)),uv(e,ew(n),ew(t))}(e,t,n),r,i),pv=Dw,gv=BigInt(0),yv=BigInt(1);function mv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("boolean"!=typeof e){const n=t&&'"'.concat(t,'"');throw new Error(n+"expected boolean, got type="+typeof e)}return e}function wv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=Pm(e),i=null===e||void 0===e?void 0:e.length,s=void 0!==t;if(!r||s&&i!==t){const o=n&&'"'.concat(n,'" '),a=s?" of length ".concat(t):"",c=r?"length=".concat(i):"type=".concat(typeof e);throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function bv(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function vv(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?gv:BigInt("0x"+e)}function Ev(e){return vv(Vm(e))}function Av(e){return Cm(e),vv(Vm(Uint8Array.from(e).reverse()))}function xv(e,t){return Xm(e.toString(16).padStart(2*t,"0"))}function Sv(e,t){return xv(e,t).reverse()}function kv(e,t,n){let r;if("string"==typeof t)try{r=Xm(t)}catch(Yg){throw new Error(e+" must be hex string or Uint8Array, cause: "+Yg)}else{if(!Pm(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const Iv=e=>"bigint"==typeof e&&gv<=e;function Ov(e,t,n,r){if(!function(e,t,n){return Iv(e)&&Iv(t)&&Iv(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Pv(e){let t;for(t=0;e>gv;e>>=yv,t+=1);return t}const Tv=e=>(yv<<BigInt(e))-yv;function Cv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const s=typeof i;if(s!==n||null===i)throw new Error('param "'.concat(t,'" is invalid: expected ').concat(n,", got ").concat(s))}Object.entries(t).forEach(e=>{let[t,n]=e;return r(t,n,!1)}),Object.entries(n).forEach(e=>{let[t,n]=e;return r(t,n,!0)})}function Nv(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const Rv=BigInt(0),_v=BigInt(1),Bv=BigInt(2),Lv=BigInt(3),Uv=BigInt(4),jv=BigInt(5),Mv=BigInt(7),Dv=BigInt(8),Fv=BigInt(9),zv=BigInt(16);function Hv(e,t){const n=e%t;return n>=Rv?n:t+n}function qv(e,t,n){let r=e;for(;t-- >Rv;)r*=r,r%=n;return r}function Vv(e,t){if(e===Rv)throw new Error("invert: expected non-zero number");if(t<=Rv)throw new Error("invert: expected positive modulus, got "+t);let n=Hv(e,t),r=t,i=Rv,s=_v;for(;n!==Rv;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==_v)throw new Error("invert: does not exist");return Hv(i,t)}function Wv(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function Kv(e,t){const n=(e.ORDER+_v)/Uv,r=e.pow(t,n);return Wv(e,r,t),r}function Gv(e,t){const n=(e.ORDER-jv)/Dv,r=e.mul(t,Bv),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Bv),i),a=e.mul(s,e.sub(o,e.ONE));return Wv(e,a,t),a}function Qv(e){if(e<Lv)throw new Error("sqrt is not defined for small field");let t=e-_v,n=0;for(;t%Bv===Rv;)t/=Bv,n++;let r=Bv;const i=eE(e);for(;1===Xv(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return Kv;let s=i.pow(r,t);const o=(t+_v)/Bv;return function(e,r){if(e.is0(r))return r;if(1!==Xv(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=_v<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}function Jv(e){return e%Uv===Lv?Kv:e%Dv===jv?Gv:e%zv===Fv?function(e){const t=eE(e),n=Qv(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+Mv)/zv;return(e,t)=>{let n=e.pow(t,o),a=e.mul(n,r);const c=e.mul(n,i),l=e.mul(n,s),u=e.eql(e.sqr(a),t),h=e.eql(e.sqr(c),t);n=e.cmov(n,a,u),a=e.cmov(l,c,h);const d=e.eql(e.sqr(a),t),f=e.cmov(n,a,d);return Wv(e,f,t),f}}(e):Qv(e)}const Yv=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function Xv(e,t){const n=(e.ORDER-_v)/Bv,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function $v(e,t){void 0!==t&&Tm(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function eE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Rv)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=$v(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const h=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:Tv(c),ZERO:Rv,ONE:_v,allowedLengths:o,create:t=>Hv(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Rv<=t&&t<e},is0:e=>e===Rv,isValidNot0:e=>!h.is0(e)&&h.isValid(e),isOdd:e=>(e&_v)===_v,neg:t=>Hv(-t,e),eql:(e,t)=>e===t,sqr:t=>Hv(t*t,e),add:(t,n)=>Hv(t+n,e),sub:(t,n)=>Hv(t-n,e),mul:(t,n)=>Hv(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Rv)throw new Error("invalid exponent, negatives unsupported");if(n===Rv)return e.ONE;if(n===_v)return t;let r=e.ONE,i=t;for(;n>Rv;)n&_v&&(r=e.mul(r,i)),i=e.sqr(i),n>>=_v;return r}(h,e,t),div:(t,n)=>Hv(t*Vv(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Vv(t,e),sqrt:s||(t=>(u||(u=Jv(e)),u(h,t))),toBytes:e=>n?Sv(e,l):xv(e,l),fromBytes:function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o){if(!o.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=n?Av(t):Ev(t);if(a&&(i=Hv(i,e)),!r&&!h.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>Zv(h,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(h)}function tE(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function nE(e){const t=tE(e);return t+Math.ceil(t/2)}const rE=BigInt(0),iE=BigInt(1);function sE(e,t){const n=t.negate();return e?n:t}function oE(e,t){const n=Zv(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function aE(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function cE(e,t){aE(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Tv(e),maxNumber:n,shiftBy:BigInt(e)}}function lE(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=iE);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!==0,offsetF:l}}const uE=new WeakMap,hE=new WeakMap;function dE(e){return hE.get(e)||1}function fE(e){if(e!==rE)throw new Error("invalid wNAF")}class pE{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.ZERO,r=e;for(;t>rE;)t&iE&&(n=n.add(r)),r=r.double(),t>>=iE;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=cE(t,this.bits),i=[];let s=e,o=s;for(let a=0;a<n;a++){o=s,i.push(o);for(let e=1;e<r;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const s=cE(e,this.bits);for(let o=0;o<s.windows;o++){const{nextN:e,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:h}=lE(n,o,s);n=e,c?i=i.add(sE(u,t[h])):r=r.add(sE(l,t[a]))}return fE(n),{p:r,f:i}}wNAFUnsafe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.ZERO;const i=cE(e,this.bits);for(let s=0;s<i.windows&&n!==rE;s++){const{nextN:e,offset:o,isZero:a,isNeg:c}=lE(n,s,i);if(n=e,!a){const e=t[o];r=r.add(c?e.negate():e)}}return fE(n),r}getPrecomputes(e,t,n){let r=uE.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),uE.set(t,r))),r}cached(e,t,n){const r=dE(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=dE(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){aE(t,this.bits),hE.set(e,t),uE.delete(e)}hasCache(e){return 1!==dE(e)}}function gE(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Pv(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Tv(c),u=new Array(Number(l)+1).fill(o);let h=o;for(let d=Math.floor((t.BITS-1)/c)*c;d>=0;d-=c){u.fill(o);for(let t=0;t<s;t++){const e=r[t],i=Number(e>>BigInt(d)&l);u[i]=u[i].add(n[t])}let e=o;for(let t=u.length-1,n=o;t>0;t--)n=n.add(u[t]),e=e.add(n);if(h=h.add(e),0!==d)for(let t=0;t<c;t++)h=h.double()}return h}function yE(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){Cv(e,Yv.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return eE(e,{isLE:n})}BigInt(0),BigInt(1),BigInt(2),BigInt(8),$m("HashToScalar-");const mE=BigInt(0),wE=BigInt(1),bE=BigInt(2);function vE(e){const t=function(e){return Cv(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze((0,Ee.A)({},e))}(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=t,a="x25519"===r;if(!a&&"x448"!==r)throw new Error("invalid type");const c=o||iw,l=a?255:448,u=a?32:56,h=BigInt(a?9:5),d=BigInt(a?121665:39081),f=a?bE**BigInt(254):bE**BigInt(447),p=a?BigInt(8)*bE**BigInt(251)-wE:BigInt(4)*bE**BigInt(445)-wE,g=f+p+wE,y=e=>Hv(e,n),m=w(h);function w(e){return Sv(y(e),u)}function b(e,t){const r=function(e,t){Ov("u",e,mE,n),Ov("scalar",t,f,g);const r=t,i=e;let o=wE,a=mE,c=e,u=wE,h=mE;for(let n=BigInt(l-1);n>=mE;n--){const e=r>>n&wE;h^=e,({x_2:o,x_3:c}=E(h,o,c)),({x_2:a,x_3:u}=E(h,a,u)),h=e;const t=o+a,s=y(t*t),l=o-a,f=y(l*l),p=s-f,g=c+u,m=y((c-u)*t),w=y(g*l),b=m+w,v=m-w;c=y(b*b),u=y(i*y(v*v)),o=y(s*f),a=y(p*(s+y(d*p)))}({x_2:o,x_3:c}=E(h,o,c)),({x_2:a,x_3:u}=E(h,a,u));const p=s(a);return y(o*p)}(function(e){const t=kv("u coordinate",e,u);return a&&(t[31]&=127),y(Av(t))}(t),function(e){return Av(i(kv("scalar",e,u)))}(e));if(r===mE)throw new Error("invalid private or public key received");return w(r)}function v(e){return b(e,m)}function E(e,t,n){const r=y(e*(t-n));return{x_2:t=y(t-r),x_3:n=y(n+r)}}const A={secretKey:u,publicKey:u,seed:u},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(u);return Cm(e,A.seed),e};return{keygen:function(e){const t=x(e);return{secretKey:t,publicKey:v(t)}},getSharedSecret:(e,t)=>b(e,t),getPublicKey:e=>v(e),scalarMult:b,scalarMultBase:v,utils:{randomSecretKey:x,randomPrivateKey:x},GuBytes:m.slice(),lengths:A}}const EE=BigInt(1),AE=BigInt(2),xE=BigInt(3),SE=BigInt(5),kE=BigInt(8),IE=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed");function OE(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const PE=eE({p:IE,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:kE,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}.p,{isLE:!0}),TE=(()=>{const e=PE.ORDER;return vE({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=IE,o=e*e%s*e%s,a=qv(o,AE,s)*o%s,c=qv(a,EE,s)*e%s,l=qv(c,SE,s)*c%s,u=qv(l,t,s)*l%s,h=qv(u,n,s)*u%s,d=qv(h,r,s)*h%s,f=qv(d,i,s)*d%s,p=qv(f,i,s)*d%s,g=qv(p,t,s)*l%s;return{pow_p_5_8:qv(g,AE,s)*e%s,b2:o}}(t);return Hv(qv(n,xE,e)*r,e)},adjustScalarBytes:OE})})(),CE=(e,t)=>(e+(e>=0?t:-t)/jE)/t;function NE(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function RE(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return mv(n.lowS,"lowS"),mv(n.prehash,"prehash"),void 0!==n.format&&NE(n.format),n}class _E extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const BE={Err:_E,_tlv:{encode:(e,t)=>{const{Err:n}=BE;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=bv(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?bv(i.length/2|128):"";return bv(e)+s+i+t},decode(e,t){const{Err:n}=BE;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=BE;if(e<LE)throw new t("integer: negative integers are not allowed");let n=bv(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=BE;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Ev(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=BE,i=kv("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=BE,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},LE=BigInt(0),UE=BigInt(1),jE=BigInt(2),ME=BigInt(3),DE=BigInt(4);function FE(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let s=kv("private key",t);try{r=e.fromBytes(s)}catch(i){throw new Error("invalid private key: expected ui8a of size ".concat(n,", got ").concat(typeof t))}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function zE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error("expected valid ".concat(e," CURVE object"));for(const a of["p","n","h"]){const e=t[a];if(!("bigint"==typeof e&&e>rE))throw new Error("CURVE.".concat(a," must be positive bigint"))}const i=yE(t.p,n.Fp,r),s=yE(t.n,n.Fn,r),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const a of o)if(!i.isValid(t[a]))throw new Error("CURVE.".concat(a," must be valid field element of CURVE.Fp"));return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;Cv(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=qE(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const h=t.toBytes||function(e,t,n){const{x:i,y:s}=t.toAffine(),o=r.toBytes(i);if(mv(n,"isCompressed"),n){u();return tw(HE(!r.isOdd(s)),o)}return tw(Uint8Array.of(4),o,r.toBytes(s))},d=t.fromBytes||function(e){wv(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=l,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===n&&4===s){const e=r.BYTES,t=r.fromBytes(o.subarray(0,e)),n=r.fromBytes(o.subarray(e,2*e));if(!p(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error("bad point: got length ".concat(i,", expected compressed=").concat(t," or uncompressed=").concat(n))}{const e=r.fromBytes(o);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let n;try{n=r.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}u();return 1===(1&s)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function f(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,s.a)),s.b)}function p(e,t){const n=r.sqr(t),i=f(e);return r.eql(n,i)}if(!p(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(s.a,ME),DE),y=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(g,y)))throw new Error("bad curve params: a or b");function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r.isValid(t)||n&&r.is0(t))throw new Error("bad point coordinate ".concat(e));return t}function w(e){if(!(e instanceof x))throw new Error("ProjectivePoint expected")}function b(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[s,o]]=t,a=CE(o*e,n),c=CE(-i*e,n);let l=e-a*r-c*s,u=-a*i-c*o;const h=l<LE,d=u<LE;h&&(l=-l),d&&(u=-u);const f=Tv(Math.ceil(Pv(n)/2))+UE;if(l<LE||l>=f||u<LE||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}(e,c.basises,i.ORDER)}const v=Nv((e,t)=>{const{X:n,Y:i,Z:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),E=Nv(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function A(e,t,n,i,s){return n=new x(r.mul(n.X,e),n.Y,n.Z),t=sE(i,t),n=sE(s,n),t.add(n)}class x{constructor(e,t,n){this.X=m("x",e),this.Y=m("y",t,!0),this.Z=m("z",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof x)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?x.ZERO:new x(t,n,r.ONE)}static fromBytes(e){const t=x.fromAffine(d(wv(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return x.fromBytes(kv("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return k.createCache(this,e),t||this.multiply(ME),this}assertValidity(){E(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){w(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new x(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,n=r.mul(t,ME),{X:i,Y:o,Z:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,h=r.mul(i,i),d=r.mul(o,o),f=r.mul(a,a),p=r.mul(i,o);return p=r.add(p,p),u=r.mul(i,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,f),l=r.add(c,l),c=r.sub(d,l),l=r.add(d,l),l=r.mul(c,l),c=r.mul(p,c),u=r.mul(n,u),f=r.mul(e,f),p=r.sub(h,f),p=r.mul(e,p),p=r.add(p,u),u=r.add(h,h),h=r.add(u,h),h=r.add(h,f),h=r.mul(h,p),l=r.add(l,h),f=r.mul(o,a),f=r.add(f,f),h=r.mul(f,p),c=r.sub(c,h),u=r.mul(f,d),u=r.add(u,u),u=r.add(u,u),new x(c,l,u)}add(e){w(e);const{X:t,Y:n,Z:i}=this,{X:o,Y:a,Z:c}=e;let l=r.ZERO,u=r.ZERO,h=r.ZERO;const d=s.a,f=r.mul(s.b,ME);let p=r.mul(t,o),g=r.mul(n,a),y=r.mul(i,c),m=r.add(t,n),b=r.add(o,a);m=r.mul(m,b),b=r.add(p,g),m=r.sub(m,b),b=r.add(t,i);let v=r.add(o,c);return b=r.mul(b,v),v=r.add(p,y),b=r.sub(b,v),v=r.add(n,i),l=r.add(a,c),v=r.mul(v,l),l=r.add(g,y),v=r.sub(v,l),h=r.mul(d,b),l=r.mul(f,y),h=r.add(l,h),l=r.sub(g,h),h=r.add(g,h),u=r.mul(l,h),g=r.add(p,p),g=r.add(g,p),y=r.mul(d,y),b=r.mul(f,b),g=r.add(g,y),y=r.sub(p,y),y=r.mul(d,y),b=r.add(b,y),p=r.mul(g,b),u=r.add(u,p),p=r.mul(v,b),l=r.mul(m,l),l=r.sub(l,p),p=r.mul(m,g),h=r.mul(v,h),h=r.add(h,p),new x(l,u,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(x.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,s;const o=e=>k.cached(this,e,e=>oE(x,e));if(n){const{k1neg:t,k1:i,k2neg:a,k2:c}=b(e),{p:l,f:u}=o(i),{p:h,f:d}=o(c);s=u.add(d),r=A(n.beta,l,h,t,a)}else{const{p:t,f:n}=o(e);r=t,s=n}return oE(x,[r,s])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===LE||r.is0())return x.ZERO;if(e===UE)return r;if(k.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:s,k2:o}=b(e),{p1:a,p2:c}=function(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>rE||r>rE;)n&iE&&(s=s.add(i)),r&iE&&(o=o.add(i)),i=i.double(),n>>=iE,r>>=iE;return{p1:s,p2:o}}(x,r,i,o);return A(n.beta,a,c,t,s)}return k.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===UE||(e?e(x,this):k.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===UE?this:e?e(x,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return mv(e,"isCompressed"),this.assertValidity(),h(x,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Vm(this.toBytes(e))}toString(){return"<Point ".concat(this.is0()?"ZERO":this.toHex(),">")}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return oE(x,e)}static msm(e,t){return gE(x,i,e,t)}static fromPrivateKey(e){return x.BASE.multiply(FE(i,e))}}x.BASE=new x(s.Gx,s.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO),x.Fp=r,x.Fn=i;const S=i.BITS,k=new pE(x,t.endo?Math.ceil(S/2):S);return x.BASE.precompute(8),x}function HE(e){return Uint8Array.of(e?2:3)}function qE(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function VE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{Fn:n}=e,r=t.randomBytes||iw,i=Object.assign(qE(e.Fp,n),{seed:nE(n.ORDER)});function s(e){try{return!!FE(n,e)}catch(t){return!1}}function o(){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=tE(t),s=nE(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=Hv(n?Av(e):Ev(e),t-_v)+_v;return n?Sv(o,i):xv(o,i)}(wv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(i.seed),i.seed,"seed"),n.ORDER)}function a(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.BASE.multiply(FE(n,t)).toBytes(r)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:s,publicKeyUncompressed:o}=i;if(n.allowedLengths||r===s)return;const a=kv("key",t).length;return a===s||a===o}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(r))throw new Error("second arg must be public key");const s=FE(n,t);return e.fromHex(r).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:s}=i;try{const i=t.length;return!(!0===n&&i!==r||!1===n&&i!==s)&&!!e.fromBytes(t)}catch(o){return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>FE(n,e),precompute(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.BASE).precompute(t,!1)}},lengths:i})}function WE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Nm(t),Cv(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||iw,i=n.hmac||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return uv(t,e,tw(...r))},{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:f}=VE(e,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},g="compact";function y(e){return e>a>>UE}function m(e,t){if(!o.isValidNot0(t))throw new Error("invalid signature ".concat(e,": out of range 1..Point.Fn.ORDER"));return t}class w{constructor(e,t,n){this.r=m("r",e),this.s=m("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;if(function(e,t){NE(t);const n=f.signature;wv(e,"compact"===t?n:"recovered"===t?n+1:void 0,"".concat(t," signature"))}(e,n),"der"===n){const{r:t,s:n}=BE.toSig(wv(e));return new w(t,n)}"recovered"===n&&(t=e[0],n="compact",e=e.subarray(1));const r=o.BYTES,i=e.subarray(0,r),s=e.subarray(r,2*r);return new w(o.fromBytes(i),o.fromBytes(s),t)}static fromHex(e,t){return this.fromBytes(Xm(e),t)}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(t){const n=s.ORDER,{r:r,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*jE<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?r+a:r;if(!s.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=s.toBytes(l),h=e.fromBytes(tw(HE(0===(1&c)),u)),d=o.inv(l),f=v(kv("msgHash",t)),p=o.create(-f*d),g=o.create(i*d),y=e.BASE.multiplyUnsafe(p).add(h.multiplyUnsafe(g));if(y.is0())throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return y(this.s)}toBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;if(NE(e),"der"===e)return Xm(BE.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return tw(Uint8Array.of(this.recovery),t,n)}return tw(t,n)}toHex(e){return Vm(this.toBytes(e))}assertValidity(){}static fromCompact(e){return w.fromBytes(kv("sig",e),"compact")}static fromDER(e){return w.fromBytes(kv("sig",e),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Vm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Vm(this.toBytes("compact"))}}const b=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Ev(e),n=8*e.length-c;return n>0?t>>BigInt(n):t},v=n.bits2int_modN||function(e){return o.create(b(e))},E=Tv(c);function A(e){return Ov("num < 2^"+c,e,LE,E),o.toBytes(e)}function x(e,n){return wv(e,void 0,"message"),n?wv(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:f,Point:e,sign:function(n,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=kv("message",n);const{seed:c,k2sig:l}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:c}=RE(i,p);t=x(t,a);const l=v(t),u=FE(o,n),h=[A(u),A(l)];if(null!=c&&!1!==c){const e=!0===c?r(f.secretKey):c;h.push(kv("extraEntropy",e))}const d=tw(...h),g=l;return{seed:d,k2sig:function(t){const n=b(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),a=o.create(i.x);if(a===LE)return;const c=o.create(r*o.create(g+a*u));if(c===LE)return;let l=(i.x===a?0:2)|Number(i.y&UE),h=c;return s&&y(c)&&(h=o.neg(c),l^=1),new w(a,h,l)}}}(n,s,a);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=r(e),o=r(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(o,s,...t)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(0);o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=l();const t=s.slice();n.push(t),e+=s.length}return tw(...n)};return(e,t)=>{let n;for(c(),u(e);!(n=t(h()));)u();return c(),n}}(t.outputLen,o.BYTES,i)(c,l)},verify:function(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{lowS:s,prehash:a,format:c}=RE(i,p);if(r=kv("publicKey",r),n=x(kv("message",n),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const n="string"==typeof e||Pm(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new w(e.r,e.s);else if(n){try{t=w.fromBytes(kv("sig",e),"der")}catch(s){if(!(s instanceof BE.Err))throw s}if(!t)try{t=w.fromBytes(kv("sig",e),"compact")}catch(i){return!1}}return t||!1}(t):w.fromBytes(kv("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(r);if(s&&l.hasHighS())return!1;const{r:i,s:a}=l,c=v(n),u=o.inv(a),h=o.create(c*u),d=o.create(i*u),f=e.BASE.multiplyUnsafe(h).add(t.multiplyUnsafe(d));return!f.is0()&&o.create(f.x)===i}catch(u){return!1}},recoverPublicKey:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{prehash:r}=RE(n,p);return t=x(t,r),w.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:w,hash:t})}function KE(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:eE(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function GE(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=KE(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,$v(n.Fn.ORDER,n.Fn.BITS))})}(e,WE(zE(t,n),r,i))}function QE(e,t){const n=t=>GE((0,Ee.A)((0,Ee.A)({},e),{},{hash:t}));return(0,Ee.A)((0,Ee.A)({},n(t)),{},{create:n})}const JE={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},YE={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},ZE={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},XE=eE(JE.p),$E=eE(YE.p),eA=eE(ZE.p),tA=QE((0,Ee.A)((0,Ee.A)({},JE),{},{Fp:XE,lowS:!1}),Dw);QE((0,Ee.A)((0,Ee.A)({},YE),{},{Fp:$E,lowS:!1}),zw),QE((0,Ee.A)((0,Ee.A)({},ZE),{},{Fp:eA,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),Fw);const nA=tA,rA="base10",iA="base16",sA="base64pad",oA="base64url",aA="utf8";function cA(){const e=iw(32);return(0,Hg.dI)(e,iA)}function lA(e){const t=pv((0,Hg.sH)(e,iA));return(0,Hg.dI)(t,iA)}function uA(e){const t=pv((0,Hg.sH)(e,aA));return(0,Hg.dI)(t,iA)}function hA(e){return(0,Hg.sH)("".concat(e),rA)}function dA(e){return Number((0,Hg.dI)(e,rA))}function fA(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function pA(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function gA(e){if(2===dA(e.type))return(0,Hg.dI)((0,Hg.xW)([e.type,e.sealed]),sA);if(1===dA(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,Hg.dI)((0,Hg.xW)([e.type,e.senderPublicKey,e.iv,e.sealed]),sA)}return(0,Hg.dI)((0,Hg.xW)([e.type,e.iv,e.sealed]),sA)}function yA(e){const t=(e.encoding||sA)===oA?pA(e.encoded):e.encoded,n=(0,Hg.sH)(t,sA),r=n.slice(0,1);if(1===dA(r)){const e=33,t=e+12,i=n.slice(1,e),s=n.slice(e,t);return{type:r,sealed:n.slice(t),iv:s,senderPublicKey:i}}if(2===dA(r)){return{type:r,sealed:n.slice(1),iv:iw(12)}}const i=n.slice(1,13);return{type:r,sealed:n.slice(13),iv:i}}function mA(e){const t=(null===e||void 0===e?void 0:e.type)||0;if(1===t){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function wA(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function bA(e){return 2===e.type}function vA(e,t){const[n,r,i]=e.split("."),s=Buffer.from(pA(i),"base64");if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c="".concat(n,".").concat(r),l=pv(c),u=function(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return(0,Hg.xW)([new Uint8Array([4]),t,n])}(t);if(!nA.verify((0,Hg.xW)([o,a]),l,u))throw new Error("Invalid signature");return(0,zg.Cq)(e).payload}function EA(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:"irn"}}function AA(e){const t=qg.CG[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}var xA=Object.defineProperty,SA=Object.defineProperties,kA=Object.getOwnPropertyDescriptors,IA=Object.getOwnPropertySymbols,OA=Object.prototype.hasOwnProperty,PA=Object.prototype.propertyIsEnumerable,TA=(e,t,n)=>t in e?xA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CA=(e,t)=>{for(var n in t||(t={}))OA.call(t,n)&&TA(e,n,t[n]);if(IA)for(var n of IA(t))PA.call(t,n)&&TA(e,n,t[n]);return e};function NA(e){const t={},n="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach(r=>{if(r.startsWith(n)){const i=r.replace(n,""),s=e[r];t[i]=s}}),t}function RA(e){if(!e.includes("wc:")){const t=om(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:_A(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:NA(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function _A(e){return e.startsWith("//")?e.substring(2):e}function BA(e){const t=new URLSearchParams,n=CA(CA(((e,t)=>SA(e,kA(t)))(CA({},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const n={};return Object.keys(e).forEach(r=>{const i=r,s="relay"+t+i;e[i]&&(n[s]=e[i])}),n}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).forEach(e=>{let[n,r]=e;void 0!==r&&t.append(n,String(r))}),"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?").concat(t)}function LA(e,t,n){return"".concat(e,"?wc_ev=").concat(n,"&topic=").concat(t)}var UA=Object.defineProperty,jA=Object.defineProperties,MA=Object.getOwnPropertyDescriptors,DA=Object.getOwnPropertySymbols,FA=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable,HA=(e,t,n)=>t in e?UA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qA=(e,t)=>{for(var n in t||(t={}))FA.call(t,n)&&HA(e,n,t[n]);if(DA)for(var n of DA(t))zA.call(t,n)&&HA(e,n,t[n]);return e},VA=(e,t)=>jA(e,MA(t));function WA(e){const t=[];return e.forEach(e=>{const[n,r]=e.split(":");t.push("".concat(n,":").concat(r))}),t}function KA(e){return e.includes(":")}function GA(e){return KA(e)?e.split(":")[0]:e}function QA(e){var t,n,r;const i={};if(!tx(e))return i;for(const[s,o]of Object.entries(e)){const e=KA(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],l=GA(s);i[l]=VA(qA({},i[l]),{chains:tm(e,null==(t=i[l])?void 0:t.chains),methods:tm(a,null==(n=i[l])?void 0:n.methods),events:tm(c,null==(r=i[l])?void 0:r.events)})}return i}function JA(e,t){const n=function(e){const t={};return null!==e&&void 0!==e&&e.forEach(e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push("".concat(r,":").concat(i))}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(const[r,i]of Object.entries(n))i.methods?i.methods=tm(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}const YA={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ZA={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function XA(e,t){const{message:n,code:r}=ZA[e];return{message:t?"".concat(n," ").concat(t):n,code:r}}function $A(e,t){const{message:n,code:r}=YA[e];return{message:t?"".concat(n," ").concat(t):n,code:r}}function ex(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function tx(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function nx(e){return typeof e>"u"}function rx(e,t){return!(!t||!nx(e))||"string"==typeof e&&!!e.trim().length}function ix(e,t){return!(!t||!nx(e))||"number"==typeof e&&!isNaN(e)}function sx(e){return!(!rx(e,!1)||!e.includes(":"))&&2===e.split(":").length}function ox(e){let t=!0;return ex(e)?e.length&&(t=e.every(e=>rx(e,!1))):t=!1,t}function ax(e,t,n){let r=null;return Object.entries(e).forEach(e=>{let[i,s]=e;if(r)return;const o=function(e,t,n){let r=null;return ex(t)&&t.length?t.forEach(e=>{r||sx(e)||(r=$A("UNSUPPORTED_CHAINS","".concat(n,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))}):sx(e)||(r=$A("UNSUPPORTED_CHAINS","".concat(n,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),r}(i,Ey(i,s),"".concat(t," ").concat(n));o&&(r=o)}),r}function cx(e,t){let n=null;return ex(e)?e.forEach(e=>{n||function(e){if(rx(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&sx(e)}}return!1}(e)||(n=$A("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))}):n=$A("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),n}function lx(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return ox(null===e||void 0===e?void 0:e.methods)?ox(null===e||void 0===e?void 0:e.events)||(n=$A("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):n=$A("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),n}(e,"".concat(t,", namespace"));r&&(n=r)}),n}function ux(e,t){let n=null;if(e&&tx(e)){const r=lx(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=cx(null===e||void 0===e?void 0:e.accounts,"".concat(t," namespace"));r&&(n=r)}),n}(e,t);i&&(n=i)}else n=XA("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return n}function hx(e){return rx(e.protocol,!0)}function dx(e){return typeof e<"u"&&null!==typeof e}function fx(e,t){return!(!sx(t)||!function(e){const t=[];return Object.values(e).forEach(e=>{t.push(...WA(e.accounts))}),t}(e).includes(t))}function px(e,t,n){return!!rx(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{WA(e.accounts).includes(t)&&n.push(...e.methods)}),n}(e,t).includes(n)}function gx(e,t,n){return!!rx(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{WA(e.accounts).includes(t)&&n.push(...e.events)}),n}(e,t).includes(n)}function yx(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach(r=>{t[r]={methods:e[n].methods,events:e[n].events}})}),t}(e),s=function(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=WA(e[n].accounts);null===r||void 0===r||r.forEach(r=>{t[r]={accounts:e[n].accounts.filter(e=>e.includes("".concat(r,":"))),methods:e[n].methods,events:e[n].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),c=mx(Object.keys(e)),l=mx(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(r=XA("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(u.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),Wy(o,a)||(r=XA("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(o.toString(),"\n      Approved: ").concat(a.toString()))),Object.keys(t).forEach(e=>{if(!e.includes(":")||r)return;const i=WA(t[e].accounts);i.includes(e)||(r=XA("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(i.toString())))}),o.forEach(e=>{r||(Wy(i[e].methods,s[e].methods)?Wy(i[e].events,s[e].events)||(r=XA("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(e))):r=XA("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(e)))}),r}function mx(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function wx(){const e=Dy();return new Promise(t=>{switch(e){case _y:t(function(){var e;return My()&&(null===(e=navigator)||void 0===e?void 0:e.onLine)}());break;case Ny:t(async function(){if(jy()&&typeof global<"u"&&null!=global&&global.NetInfo){const e=await(null==global?void 0:global.NetInfo.fetch());return null===e||void 0===e?void 0:e.isConnected}return!0}());break;default:t(!0)}})}function bx(e){switch(Dy()){case _y:!function(e){!jy()&&My()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}(e);break;case Ny:!function(e){var t;jy()&&typeof global<"u"&&null!=global&&global.NetInfo&&(null===(t=global)||void 0===t||t.NetInfo.addEventListener(t=>e(null===t||void 0===t?void 0:t.isConnected)))}(e)}}const vx={};class Ex{static get(e){return vx[e]}static set(e,t){vx[e]=t}static delete(e){delete vx[e]}}function Ax(e){let{publicKey:t,signature:n,payload:r}=e;var i;const s=xx(r.method),o=128|parseInt((null==(i=r.version)?void 0:i.toString())||"4"),a=function(e){const t=jg.A.decode(e)[0];return 42===t?0:60===t?2:1}(r.address),c="00"===r.era?new Uint8Array([0]):xx(r.era);if(1!==c.length&&2!==c.length)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),u=new Uint8Array([255&l,l>>8&255]),h=BigInt("0x".concat(function(e){return e.startsWith("0x")?e.slice(2):e}(r.tip))),d=function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw new Error("BigInt compact encoding not supported > 2^30")}(h),f=new Uint8Array([0,...t,a,...n,...c,...u,...d,...s]),p=function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1<<30){const t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw new Error("Compact encoding > 2^30 not supported")}(f.length+1);return new Uint8Array([...p,o,...f])}function xx(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Sx(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=function(e){const t=jg.A.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),r=Ax({publicKey:n,signature:t,payload:e.transaction});return function(e){const t=xx(e),n=(0,Vg.blake2b)(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}(Buffer.from(r).toString("hex"))}function kx(e){let{logger:t,name:n}=e;const r="string"==typeof t?my({opts:{level:t,name:n}}).logger:t;return r.level="string"==typeof t?t:t.level,r}var Ix=n(917),Ox=n(3826),Px=n(752),Tx=n.n(Px);const Cx="info",Nx="custom_context",Rx=1024e3;var _x=Object.defineProperty,Bx=(e,t,n)=>((e,t,n)=>t in e?_x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Lx{constructor(e){Bx(this,"nodeValue"),Bx(this,"sizeInBytes"),Bx(this,"next"),this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Ux{constructor(e){Bx(this,"lengthInNodes"),Bx(this,"sizeInBytes"),Bx(this,"head"),Bx(this,"tail"),Bx(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new Lx(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}var jx=Object.defineProperty,Mx=(e,t,n)=>((e,t,n)=>t in e?jx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Dx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rx;Mx(this,"logs"),Mx(this,"level"),Mx(this,"levelValue"),Mx(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=null!==e&&void 0!==e?e:"error",this.levelValue=Px.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Ux(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===Px.levels.values.error?console.error(e):t===Px.levels.values.warn?console.warn(e):t===Px.levels.values.debug?console.debug(e):t===Px.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,Gg.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Ux(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,Gg.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var Fx=Object.defineProperty,zx=(e,t,n)=>((e,t,n)=>t in e?Fx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Hx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rx;zx(this,"baseChunkLogger"),this.baseChunkLogger=new Dx(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}var qx=Object.defineProperty,Vx=(e,t,n)=>((e,t,n)=>t in e?qx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Wx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rx;Vx(this,"baseChunkLogger"),this.baseChunkLogger=new Dx(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var Kx=Object.defineProperty,Gx=Object.defineProperties,Qx=Object.getOwnPropertyDescriptors,Jx=Object.getOwnPropertySymbols,Yx=Object.prototype.hasOwnProperty,Zx=Object.prototype.propertyIsEnumerable,Xx=(e,t,n)=>t in e?Kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$x=(e,t)=>{for(var n in t||(t={}))Yx.call(t,n)&&Xx(e,n,t[n]);if(Jx)for(var n of Jx(t))Zx.call(t,n)&&Xx(e,n,t[n]);return e},eS=(e,t)=>Gx(e,Qx(t));function tS(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nx]||""}function nS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nx;const r=function(e,t){const n=tS(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nx);return n.trim()?"".concat(n,"/").concat(t):t}(e,t,n);return function(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nx]=t,e}(e.child({context:r}),r,n)}function rS(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new Hx(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Tx()(eS($x({},e.opts),{level:"trace",browser:eS($x({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new Wx(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Tx()(eS($x({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}var iS=n(1775),sS=Object.defineProperty,oS=(e,t,n)=>((e,t,n)=>t in e?sS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class aS extends iS.H{constructor(e){super(),this.opts=e,oS(this,"protocol","wc"),oS(this,"version",2)}}var cS=Object.defineProperty,lS=(e,t,n)=>((e,t,n)=>t in e?cS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class uS extends iS.H{constructor(e,t){super(),this.core=e,this.logger=t,lS(this,"records",new Map)}}class hS{constructor(e,t){this.logger=e,this.core=t}}class dS extends iS.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class fS extends iS.H{constructor(e){super()}}class pS{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class gS extends iS.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class yS extends iS.H{constructor(e,t){super(),this.core=e,this.logger=t}}class mS{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class wS{constructor(e,t){this.projectId=e,this.logger=t}}class bS{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var vS=Object.defineProperty,ES=(e,t,n)=>((e,t,n)=>t in e?vS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);Fd();class AS{constructor(e){this.opts=e,ES(this,"protocol","wc"),ES(this,"version",2)}}Dd.EventEmitter;class xS{constructor(e){this.client=e}}var SS=n(7312),kS=n(632),IS=n(2636);const OS="core",PS="".concat("wc","@2:").concat(OS,":"),TS="error",CS={database:":memory:"},NS="client_ed25519_seed",RS=Hd.ONE_DAY,_S=Hd.SIX_HOURS,BS="wss://relay.walletconnect.org",LS="relayer_message",US="relayer_message_ack",jS="relayer_connect",MS="relayer_disconnect",DS="relayer_error",FS="relayer_connection_stalled",zS="relayer_publish",HS="payload",qS="connect",VS="disconnect",WS="error",KS="2.22.4",GS={link_mode:"link_mode",relay:"relay"},QS="inbound",JS="outbound",YS="WALLETCONNECT_LINK_MODE_APPS",ZS="subscription_created",XS="subscription_deleted",$S="subscription_sync",ek="subscription_resubscribed",tk=(Hd.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:Hd.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Hd.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Hd.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Hd.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Hd.ONE_DAY,prompt:!1,tag:0},res:{ttl:Hd.ONE_DAY,prompt:!1,tag:0}}}),nk="pairing_create",rk="pairing_expire",ik="pairing_delete",sk="pairing_ping",ok="history_created",ak="history_updated",ck="history_deleted",lk="history_sync",uk="expirer_created",hk="expirer_deleted",dk="expirer_expired",fk="expirer_sync",pk="https://verify.walletconnect.org",gk=pk,yk="".concat(gk,"/v3"),mk=["https://verify.walletconnect.com",pk],wk="pairing_started",bk="pairing_uri_validation_success",vk="pairing_uri_not_expired",Ek="store_new_pairing",Ak="subscribing_pairing_topic",xk="subscribe_pairing_topic_success",Sk="existing_pairing",kk="pairing_not_expired",Ik="emit_inactive_pairing",Ok="emit_session_proposal",Pk="no_internet_connection",Tk="malformed_pairing_uri",Ck="active_pairing_already_exists",Nk="subscribe_pairing_topic_failure",Rk="pairing_expired",_k="proposal_listener_not_found",Bk="session_approve_started",Lk="session_namespaces_validation_success",Uk="subscribing_session_topic",jk="subscribe_session_topic_success",Mk="session_approve_publish_success",Dk="store_session",Fk="session_request_response_started",zk="session_request_response_validation_success",Hk="session_request_response_publish_started",qk="no_internet_connection",Vk="proposal_expired",Wk="subscribe_session_topic_failure",Kk="session_approve_namespace_validation_failure",Gk="proposal_not_found",Qk="session_request_response_validation_failure",Jk="session_request_response_publish_failure",Yk="authenticated_session_approve_started",Zk="create_authenticated_session_topic",Xk="cacaos_verified",$k="store_authenticated_session",eI="subscribing_authenticated_session_topic",tI="subscribe_authenticated_session_topic_success",nI="publishing_authenticated_session_approve",rI="no_internet_connection",iI="invalid_cacao",sI="subscribe_authenticated_session_topic_failure",oI="authenticated_session_approve_publish_failure",aI="authenticated_session_pending_request_not_found";var cI=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},lI=cI;const uI=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class hI{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class dI{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return pI(this,e)}}class fI{constructor(e){this.decoders=e}or(e){return pI(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const pI=(e,t)=>new fI((0,Ee.A)((0,Ee.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class gI{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new hI(e,t,n),this.decoder=new dI(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const yI=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new gI(t,n,r,i)},mI=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=lI(r,n);return yI({prefix:t,name:n,encode:i,decode:e=>uI(s(e))})},wI=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return yI({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},bI=yI({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var vI=Object.freeze({__proto__:null,identity:bI});const EI=wI({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var AI=Object.freeze({__proto__:null,base2:EI});const xI=wI({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var SI=Object.freeze({__proto__:null,base8:xI});const kI=mI({prefix:"9",name:"base10",alphabet:"0123456789"});var II=Object.freeze({__proto__:null,base10:kI});const OI=wI({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),PI=wI({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var TI=Object.freeze({__proto__:null,base16:OI,base16upper:PI});const CI=wI({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),NI=wI({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),RI=wI({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_I=wI({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),BI=wI({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),LI=wI({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),UI=wI({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jI=wI({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),MI=wI({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var DI=Object.freeze({__proto__:null,base32:CI,base32upper:NI,base32pad:RI,base32padupper:_I,base32hex:BI,base32hexupper:LI,base32hexpad:UI,base32hexpadupper:jI,base32z:MI});const FI=mI({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),zI=mI({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var HI=Object.freeze({__proto__:null,base36:FI,base36upper:zI});const qI=mI({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),VI=mI({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var WI=Object.freeze({__proto__:null,base58btc:qI,base58flickr:VI});const KI=wI({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),GI=wI({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),QI=wI({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),JI=wI({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var YI=Object.freeze({__proto__:null,base64:KI,base64pad:GI,base64url:QI,base64urlpad:JI});const ZI=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),XI=ZI.reduce((e,t,n)=>(e[n]=t,e),[]),$I=ZI.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const eO=yI({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=XI[t],"")},decode:function(e){const t=[];for(const n of e){const e=$I[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var tO=Object.freeze({__proto__:null,base256emoji:eO}),nO=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=sO;)n[r++]=255&t|rO,t/=128;for(;t&iO;)n[r++]=255&t|rO,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},rO=128,iO=-128,sO=Math.pow(2,31);var oO=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&cO)<<s:(r&cO)*Math.pow(2,s),s+=7}while(r>=aO);return e.bytes=o-n,i},aO=128,cO=127;var lO=Math.pow(2,7),uO=Math.pow(2,14),hO=Math.pow(2,21),dO=Math.pow(2,28),fO=Math.pow(2,35),pO=Math.pow(2,42),gO=Math.pow(2,49),yO=Math.pow(2,56),mO=Math.pow(2,63),wO={encode:nO,decode:oO,encodingLength:function(e){return e<lO?1:e<uO?2:e<hO?3:e<dO?4:e<fO?5:e<pO?6:e<gO?7:e<yO?8:e<mO?9:10}};const bO=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return wO.encode(e,t,n),t},vO=e=>wO.encodingLength(e),EO=(e,t)=>{const n=t.byteLength,r=vO(e),i=r+vO(n),s=new Uint8Array(i+n);return bO(e,s,0),bO(n,s,r),s.set(t,i),new AO(e,n,t,s)};class AO{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const xO=e=>{let{name:t,code:n,encode:r}=e;return new SO(t,n,r)};class SO{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?EO(this.code,t):t.then(e=>EO(this.code,e))}throw Error("Unknown type, must be binary type")}}const kO=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),IO=xO({name:"sha2-256",code:18,encode:kO("SHA-256")}),OO=xO({name:"sha2-512",code:19,encode:kO("SHA-512")});var PO=Object.freeze({__proto__:null,sha256:IO,sha512:OO});const TO=uI,CO={code:0,name:"identity",encode:TO,digest:e=>EO(0,TO(e))};var NO=Object.freeze({__proto__:null,identity:CO});new TextEncoder,new TextDecoder;const RO=(0,Ee.A)((0,Ee.A)((0,Ee.A)((0,Ee.A)((0,Ee.A)((0,Ee.A)((0,Ee.A)((0,Ee.A)((0,Ee.A)((0,Ee.A)({},vI),AI),SI),II),TI),DI),HI),WI),YI),tO);function _O(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function BO(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,Ee.A)((0,Ee.A)({},PO),NO);const LO=BO("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),UO=BO("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?_O(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),jO=(0,Ee.A)({utf8:LO,"utf-8":LO,hex:RO.base16,latin1:UO,ascii:UO,binary:UO},RO);var MO=Object.defineProperty,DO=(e,t,n)=>((e,t,n)=>t in e?MO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class FO{constructor(e,t){this.core=e,this.logger=t,DO(this,"keychain",new Map),DO(this,"name","keychain"),DO(this,"version","0.3"),DO(this,"initialized",!1),DO(this,"storagePrefix",PS),DO(this,"init",async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}}),DO(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),DO(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),DO(this,"get",e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=XA("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}),DO(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=nS(t,this.name)}get context(){return tS(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Ky(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Gy(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var zO=Object.defineProperty,HO=(e,t,n)=>((e,t,n)=>t in e?zO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class qO{constructor(e,t,n){this.core=e,this.logger=t,HO(this,"name","crypto"),HO(this,"keychain"),HO(this,"randomSessionIdentifier",cA()),HO(this,"initialized",!1),HO(this,"clientId"),HO(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),HO(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),HO(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const e=await this.getClientSeed(),t=zg.TZ(e),n=zg.UF(t.publicKey);return this.clientId=n,n}),HO(this,"generateKeyPair",()=>{this.isInitialized();const e=function(){const e=TE.utils.randomPrivateKey(),t=TE.getPublicKey(e);return{privateKey:(0,Hg.dI)(e,iA),publicKey:(0,Hg.dI)(t,iA)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),HO(this,"signJWT",async e=>{this.isInitialized();const t=await this.getClientSeed(),n=zg.TZ(t),r=this.randomSessionIdentifier,i=RS;return await zg.FA(r,e,i,n)}),HO(this,"generateSharedKey",(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=TE.getSharedSecret((0,Hg.sH)(e,iA),(0,Hg.sH)(t,iA)),r=fv(pv,n,void 0,void 0,32);return(0,Hg.dI)(r,iA)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)}),HO(this,"setSymKey",async(e,t)=>{this.isInitialized();const n=t||lA(e);return await this.keychain.set(n,e),n}),HO(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),HO(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),HO(this,"encode",async(e,t,n)=>{this.isInitialized();const r=mA(n),i=(0,Gg.h)(t);if(bA(r))return function(e,t){const n=hA(2),r=iw(12),i=gA({type:n,sealed:(0,Hg.sH)(e,aA),iv:r});return t===oA?fA(i):i}(i,null===n||void 0===n?void 0:n.encoding);if(wA(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return function(e){const t=hA(typeof e.type<"u"?e.type:0);if(1===dA(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,Hg.sH)(e.senderPublicKey,iA):void 0,r=typeof e.iv<"u"?(0,Hg.sH)(e.iv,iA):iw(12),i=(0,Hg.sH)(e.symKey,iA),s=gA({type:t,sealed:av(i,r).encrypt((0,Hg.sH)(e.message,aA)),iv:r,senderPublicKey:n});return e.encoding===oA?fA(s):s}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:null===n||void 0===n?void 0:n.encoding})}),HO(this,"decode",async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=yA({encoded:e,encoding:null===t||void 0===t?void 0:t.encoding});return mA({type:dA(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,Hg.dI)(n.senderPublicKey,iA):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}(t,n);if(bA(r)){const e=function(e,t){const{sealed:n}=yA({encoded:e,encoding:t});return(0,Hg.dI)(n,aA)}(t,null===n||void 0===n?void 0:n.encoding);return(0,Gg.j)(e)}if(wA(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=function(e){const t=(0,Hg.sH)(e.symKey,iA),{sealed:n,iv:r}=yA({encoded:e.encoded,encoding:e.encoding}),i=av(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return(0,Hg.dI)(i,aA)}({symKey:this.getSymKey(e),encoded:t,encoding:null===n||void 0===n?void 0:n.encoding});return(0,Gg.j)(r)}catch(i){this.logger.error("Failed to decode message from topic: '".concat(e,"', clientId: '").concat(await this.getClientId(),"'")),this.logger.error(i)}}),HO(this,"getPayloadType",function(e){return dA(yA({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:sA}).type)}),HO(this,"getPayloadSenderPublicKey",function(e){const t=yA({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:sA});return t.senderPublicKey?(0,Hg.dI)(t.senderPublicKey,iA):void 0}),this.core=e,this.logger=nS(t,this.name),this.keychain=n||new FO(this.core,this.logger)}get context(){return tS(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(NS)}catch(t){e=cA(),await this.keychain.set(NS,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=jO[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):_O(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var VO=Object.defineProperty,WO=Object.defineProperties,KO=Object.getOwnPropertyDescriptors,GO=Object.getOwnPropertySymbols,QO=Object.prototype.hasOwnProperty,JO=Object.prototype.propertyIsEnumerable,YO=(e,t,n)=>t in e?VO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZO=(e,t,n)=>YO(e,"symbol"!=typeof t?t+"":t,n);class XO extends hS{constructor(e,t){super(e,t),this.logger=e,this.core=t,ZO(this,"messages",new Map),ZO(this,"messagesWithoutClientAck",new Map),ZO(this,"name","messages"),ZO(this,"version","0.3"),ZO(this,"initialized",!1),ZO(this,"storagePrefix",PS),ZO(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(Qg){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(Qg)}finally{this.initialized=!0}}}),ZO(this,"set",async(e,t,n)=>{this.isInitialized();const r=uA(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===QS){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>WO(e,KO(t)))(((e,t)=>{for(var n in t||(t={}))QO.call(t,n)&&YO(e,n,t[n]);if(GO)for(var n of GO(t))JO.call(t,n)&&YO(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r}),ZO(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),ZO(this,"getWithoutAck",e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t}),ZO(this,"has",(e,t)=>{this.isInitialized();return typeof this.get(e)[uA(t)]<"u"}),ZO(this,"ack",async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);if(typeof n>"u")return;delete n[uA(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist()}),ZO(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=nS(e,this.name),this.core=t}get context(){return tS(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Ky(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Ky(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Gy(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Gy(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var $O=Object.defineProperty,eP=Object.defineProperties,tP=Object.getOwnPropertyDescriptors,nP=Object.getOwnPropertySymbols,rP=Object.prototype.hasOwnProperty,iP=Object.prototype.propertyIsEnumerable,sP=(e,t,n)=>t in e?$O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oP=(e,t)=>{for(var n in t||(t={}))rP.call(t,n)&&sP(e,n,t[n]);if(nP)for(var n of nP(t))iP.call(t,n)&&sP(e,n,t[n]);return e},aP=(e,t)=>eP(e,tP(t)),cP=(e,t,n)=>sP(e,"symbol"!=typeof t?t+"":t,n);class lP extends dS{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,cP(this,"events",new Dd.EventEmitter),cP(this,"name","publisher"),cP(this,"queue",new Map),cP(this,"publishTimeout",(0,Hd.toMiliseconds)(Hd.ONE_MINUTE)),cP(this,"initialPublishTimeout",(0,Hd.toMiliseconds)(15*Hd.ONE_SECOND)),cP(this,"needsTransportRestart",!1),cP(this,"publish",async(e,t,n)=>{var r,i,s,o,a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const c=(null===n||void 0===n?void 0:n.ttl)||_S,l=(null===n||void 0===n?void 0:n.prompt)||!1,u=(null===n||void 0===n?void 0:n.tag)||0,h=(null===n||void 0===n?void 0:n.id)||(0,kS.getBigIntRpcId)().toString(),d=AA(EA().protocol),f={id:h,method:(null===n||void 0===n?void 0:n.publishMethod)||d.publish,params:oP({topic:e,message:t,ttl:c,prompt:l,tag:u,attestation:null===n||void 0===n?void 0:n.attestation},null===n||void 0===n?void 0:n.tvf)},p="Failed to publish payload, please try again. id:".concat(h," tag:").concat(u);try{nx(null==(r=f.params)?void 0:r.prompt)&&(null==(i=f.params)||delete i.prompt),nx(null==(s=f.params)?void 0:s.tag)&&(null==(o=f.params)||delete o.tag);const a=new Promise(async e=>{const t=n=>{let{id:r}=n;var i;(null==(i=f.id)?void 0:i.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(zS,t),e())};this.relayer.events.on(zS,t);const r=Jy(new Promise((e,t)=>{this.rpcPublish(f,n).then(e).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})}),this.initialPublishTimeout,"Failed initial publish, retrying.... id:".concat(h," tag:").concat(u));try{await r,this.events.removeListener(zS,t)}catch(i){this.queue.set(h,{request:f,opts:n,attempt:1}),this.logger.warn(i,null===i||void 0===i?void 0:i.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:e,message:t,opts:n}}),await Jy(a,this.publishTimeout,p)}catch(iy){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(iy),null!=(a=null===n||void 0===n?void 0:n.internal)&&a.throwOnFailedPublish)throw iy}finally{this.queue.delete(h)}}),cP(this,"publishCustom",async e=>{var t,n,r,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});const{payload:o,opts:a={}}=e,{attestation:c,tvf:l,publishMethod:u,prompt:h,tag:d,ttl:f=Hd.FIVE_MINUTES}=a,p=a.id||(0,kS.getBigIntRpcId)().toString(),g=AA(EA().protocol),y=u||g.publish,m={id:p,method:y,params:oP(aP(oP({},o),{ttl:f,prompt:h,tag:d,attestation:c}),l)},w="Failed to publish custom payload, please try again. id:".concat(p," tag:").concat(d);try{nx(null==(t=m.params)?void 0:t.prompt)&&(null==(n=m.params)||delete n.prompt),nx(null==(r=m.params)?void 0:r.tag)&&(null==(i=m.params)||delete i.tag);const e=new Promise(async e=>{const t=n=>{let{id:r}=n;var i;(null==(i=m.id)?void 0:i.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(zS,t),e())};this.relayer.events.on(zS,t);const n=Jy(new Promise((e,t)=>{this.rpcPublish(m,a).then(e).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})}),this.initialPublishTimeout,"Failed initial custom payload publish, retrying.... method:".concat(y," id:").concat(p," tag:").concat(d));try{await n,this.events.removeListener(zS,t)}catch(yC){this.queue.set(p,{request:m,opts:a,attempt:1}),this.logger.warn(yC,null===yC||void 0===yC?void 0:yC.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,payload:o,opts:a}}),await Jy(e,this.publishTimeout,w)}catch(b){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(b),null!=(s=null===a||void 0===a?void 0:a.internal)&&s.throwOnFailedPublish)throw b}finally{this.queue.delete(p)}}),cP(this,"on",(e,t)=>{this.events.on(e,t)}),cP(this,"once",(e,t)=>{this.events.once(e,t)}),cP(this,"off",(e,t)=>{this.events.off(e,t)}),cP(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=nS(t,this.name),this.registerEventListeners()}get context(){return tS(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(zS,oP(oP({},e),t)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var n;const r=e.attempt+1;this.queue.set(t,aP(oP({},e),{attempt:r})),this.logger.warn({},"Publisher: queue->publishing: ".concat(e.request.id,", tag: ").concat(null==(n=e.request.params)?void 0:n.tag,", attempt: ").concat(r)),await this.rpcPublish(e.request,e.opts),this.logger.warn({},"Publisher: queue->published: ".concat(e.request.id))})}registerEventListeners(){this.relayer.core.heartbeat.on(Ix.li.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(FS);this.checkQueue()}),this.relayer.on(US,e=>{this.removeRequestFromQueue(e.id.toString())})}}var uP=Object.defineProperty,hP=(e,t,n)=>((e,t,n)=>t in e?uP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class dP{constructor(){hP(this,"map",new Map),hP(this,"set",(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])}),hP(this,"get",e=>this.map.get(e)||[]),hP(this,"exists",(e,t)=>this.get(e).includes(t)),hP(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter(e=>e!==t);r.length?this.map.set(e,r):this.map.delete(e)}),hP(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var fP=Object.defineProperty,pP=Object.defineProperties,gP=Object.getOwnPropertyDescriptors,yP=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,wP=Object.prototype.propertyIsEnumerable,bP=(e,t,n)=>t in e?fP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vP=(e,t)=>{for(var n in t||(t={}))mP.call(t,n)&&bP(e,n,t[n]);if(yP)for(var n of yP(t))wP.call(t,n)&&bP(e,n,t[n]);return e},EP=(e,t)=>pP(e,gP(t)),AP=(e,t,n)=>bP(e,"symbol"!=typeof t?t+"":t,n);class xP extends gS{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,AP(this,"subscriptions",new Map),AP(this,"topicMap",new dP),AP(this,"events",new Dd.EventEmitter),AP(this,"name","subscription"),AP(this,"version","0.3"),AP(this,"pending",new Map),AP(this,"cached",[]),AP(this,"initialized",!1),AP(this,"storagePrefix",PS),AP(this,"subscribeTimeout",(0,Hd.toMiliseconds)(Hd.ONE_MINUTE)),AP(this,"initialSubscribeTimeout",(0,Hd.toMiliseconds)(15*Hd.ONE_SECOND)),AP(this,"clientId"),AP(this,"batchSubscribeTopicsLimit",500),AP(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),AP(this,"subscribe",async(e,t)=>{var n;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=EA(t),i={topic:e,relay:r,transportType:null===t||void 0===t?void 0:t.transportType};null!=(n=null===t||void 0===t?void 0:t.internal)&&n.skipSubscribe||this.pending.set(e,i);const s=await this.rpcSubscribe(e,r,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(r){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(r),r}}),AP(this,"unsubscribe",async(e,t)=>{this.isInitialized(),typeof(null===t||void 0===t?void 0:t.id)<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),AP(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),AP(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),AP(this,"on",(e,t)=>{this.events.on(e,t)}),AP(this,"once",(e,t)=>{this.events.once(e,t)}),AP(this,"off",(e,t)=>{this.events.off(e,t)}),AP(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),AP(this,"start",async()=>{await this.onConnect()}),AP(this,"stop",async()=>{await this.onDisconnect()}),AP(this,"restart",async()=>{await this.restore(),await this.onRestart()}),AP(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),AP(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ix.li.pulse,async()=>{await this.checkPending()}),this.events.on(ZS,async e=>{const t=ZS;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(XS,async e=>{const t=XS;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=nS(t,this.name),this.clientId=""}get context(){return tS(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch(r){}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=EA(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=$A("USER_DISCONNECTED","".concat(this.name,", ").concat(e));await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(Yg){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Yg),Yg}}async rpcSubscribe(e,t,n){var r,i;const s=await this.getSubscriptionId(e);if(null!=(r=null===n||void 0===n?void 0:n.internal)&&r.skipSubscribe)return s;(!n||(null===n||void 0===n?void 0:n.transportType)===GS.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const o={method:AA(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const a=null==(i=null===n||void 0===n?void 0:n.internal)?void 0:i.throwOnFailedPublish;try{if((null===n||void 0===n?void 0:n.transportType)===GS.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(e=>this.logger.warn(e))},(0,Hd.toMiliseconds)(Hd.ONE_SECOND)),s;const t=new Promise(async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(ZS,n),t(r.id))};this.events.on(ZS,n);try{const r=await Jy(new Promise((e,t)=>{this.relayer.request(o).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)}).then(e)}),this.initialSubscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));this.events.removeListener(ZS,n),t(r)}catch(r){}}),r=await Jy(t,this.subscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));if(!r&&a)throw new Error("Subscribing to ".concat(e," failed, please try again"));return r?s:null}catch(yy){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(FS),a)throw yy}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:AA(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await Jy(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch(n){this.relayer.events.emit(FS)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:AA(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};let n;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{n=await await Jy(new Promise((e,n)=>{this.relayer.request(t).catch(e=>{this.logger.warn(e),n(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch(r){this.relayer.events.emit(FS)}return n}rpcUnsubscribe(e,t,n){const r={method:AA(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,EP(vP({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,vP({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,vP({},t)),this.topicMap.set(t.topic,e),this.events.emit(ZS,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=XA("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(XS,EP(vP({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($S)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(ek)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){const{message:e}=XA("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>EP(vP({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace("Fetching batch messages for ".concat(e.length," subscriptions"));const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise(t=>setTimeout(t,e))}((0,Hd.toMiliseconds)(Hd.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return uA(e+await this.getClientId())}}var SP=Object.defineProperty,kP=Object.getOwnPropertySymbols,IP=Object.prototype.hasOwnProperty,OP=Object.prototype.propertyIsEnumerable,PP=(e,t,n)=>t in e?SP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TP=(e,t)=>{for(var n in t||(t={}))IP.call(t,n)&&PP(e,n,t[n]);if(kP)for(var n of kP(t))OP.call(t,n)&&PP(e,n,t[n]);return e},CP=(e,t,n)=>PP(e,"symbol"!=typeof t?t+"":t,n);class NP extends fS{constructor(e){var t;super(e),CP(this,"protocol","wc"),CP(this,"version",2),CP(this,"core"),CP(this,"logger"),CP(this,"events",new Dd.EventEmitter),CP(this,"provider"),CP(this,"messages"),CP(this,"subscriber"),CP(this,"publisher"),CP(this,"name","relayer"),CP(this,"transportExplicitlyClosed",!1),CP(this,"initialized",!1),CP(this,"connectionAttemptInProgress",!1),CP(this,"relayUrl"),CP(this,"projectId"),CP(this,"packageName"),CP(this,"bundleId"),CP(this,"hasExperiencedNetworkDisruption",!1),CP(this,"pingTimeout"),CP(this,"heartBeatTimeout",(0,Hd.toMiliseconds)(Hd.THIRTY_SECONDS+Hd.FIVE_SECONDS)),CP(this,"reconnectTimeout"),CP(this,"connectPromise"),CP(this,"reconnectInProgress",!1),CP(this,"requestsInFlight",[]),CP(this,"connectTimeout",(0,Hd.toMiliseconds)(15*Hd.ONE_SECOND)),CP(this,"request",async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||(0,kS.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i="".concat(r,":").concat((null==(n=e.params)?void 0:n.tag)||"");this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(ey){throw this.logger.debug("Failed to Publish Request: ".concat(r)),ey}}),CP(this,"resetPingTimeout",()=>{Uy()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(ey){this.logger.warn(ey,null===ey||void 0===ey?void 0:ey.message)}},this.heartBeatTimeout))}),CP(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),CP(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \ud83d\udedc"),this.startPingTimeout(),this.events.emit(jS)}),CP(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \ud83d\uded1"),this.requestsInFlight=[],this.onProviderDisconnect()}),CP(this,"onProviderErrorHandler",e=>{this.logger.fatal("Fatal socket error: ".concat(e.message)),this.events.emit(DS,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),CP(this,"registerProviderListeners",()=>{this.provider.on(HS,this.onPayloadHandler),this.provider.on(qS,this.onConnectHandler),this.provider.on(VS,this.onDisconnectHandler),this.provider.on(WS,this.onProviderErrorHandler)}),this.core=e.core,this.logger=kx({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new XO(this.logger,e.core),this.subscriber=new xP(this,this.logger),this.publisher=new lP(this,this.logger),this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||BS,jy()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"android"===(null==global?void 0:global.Platform.OS)?this.packageName=Fy():jy()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"ios"===(null==global?void 0:global.Platform.OS)&&(this.bundleId=Fy()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,null===e||void 0===e?void 0:e.message))}get context(){return tS(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:GS.relay},JS)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===(null===t||void 0===t?void 0:t.transportType))&&await this.toEstablishConnection();const s=typeof(null==(n=null===t||void 0===t?void 0:t.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=null===t||void 0===t?void 0:t.internal)?void 0:r.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(ZS,c),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(ZS,c)}),new Promise(async(n,r)=>{a=await this.subscriber.subscribe(e,TP({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&r(e)})||a,n()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Jy(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,n)=>{await this.connect(e).then(t).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error("Couldn't establish socket connection to the relay server: ".concat(this.relayUrl))}else this.logger.info("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await wx())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===(null===e||void 0===e?void 0:e.length))return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort((e,t)=>e.publishedAt-t.publishedAt);this.logger.debug("Batch of ".concat(t.length," message events sorted"));for(const n of t)try{await this.onMessageEvent(n)}catch(Yg){this.logger.warn(Yg,"Error while processing batch message event: "+(null===Yg||void 0===Yg?void 0:Yg.message))}this.logger.trace("Batch of ".concat(t.length," message events processed"))}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:Xy(Hd.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(LS,e),await this.recordMessageEvent(e,QS)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},"Connecting to ".concat(this.relayUrl,", attempt: ").concat(t,"...")),await this.createProvider(),await new Promise(async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to connect"))};this.provider.once(VS,n),await Jy(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,"Socket stalled when trying to connect to ".concat(this.relayUrl)).catch(e=>{t(e)}).finally(()=>{this.provider.off(VS,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,n)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(VS,r),await this.subscriber.start().then(e).catch(n).finally(()=>{this.provider.off(VS,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(Qg){await this.subscriber.stop();const t=Qg;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},"Connected to ".concat(this.relayUrl," successfully on attempt: ").concat(t));break}await new Promise(e=>setTimeout(e,(0,Hd.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,n,r,i;if(Uy())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,null===s||void 0===s?void 0:s.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new SS.F(new IS.A(Vy({sdkVersion:KS,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn("Ignoring invalid/empty message: ".concat(n)),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn("Ignoring message for unknown topic ".concat(t)),!0;const r=this.messages.has(t,n);return r&&this.logger.warn("Ignoring duplicate message: ".concat(n)),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,kS.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:s}=t.data,o={topic:n,message:r,publishedAt:i,transportType:GS.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(TP({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,kS.isJsonRpcResponse)(e)&&this.events.emit(US,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,QS),this.events.emit(LS,e))}async acknowledgePayload(e){const t=(0,kS.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(HS,this.onPayloadHandler),this.provider.off(qS,this.onConnectHandler),this.provider.off(VS,this.onDisconnectHandler),this.provider.off(WS,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await wx();bx(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,null===e||void 0===e?void 0:e.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ix.li.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&function(){var e;return!My()||!(0,qd.getDocument)()||"visible"===(null==(e=(0,qd.getDocument)())?void 0:e.visibilityState)}())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(cv){this.logger.warn(cv,null===cv||void 0===cv?void 0:cv.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(MS),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,null===e||void 0===e?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,Hd.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function RP(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function _P(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const BP="[object Arguments]",LP="[object Object]";function UP(){}function jP(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function MP(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return DP(e,t,s,o)}return DP(e,t,s,o)}function DP(e,t,n,r){if(Object.is(e,t))return!0;let i=_P(e),s=_P(t);if(i===BP&&(i=LP),s===BP&&(s=LP),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(n=null!==n&&void 0!==n?n:new Map).get(e),a=n.get(t);if(null!=o&&null!=a)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!MP(s,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],c=s.findIndex(i=>MP(a,i,void 0,e,t,n,r));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!MP(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&DP(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&DP(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case LP:{if(!(DP(e.constructor,t.constructor,n,r)||jP(e)&&jP(t)))return!1;const i=[...Object.keys(e),...RP(e)],s=[...Object.keys(t),...RP(t)];if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++){const s=i[o],a=e[s];if(!Object.hasOwn(t,s))return!1;if(!MP(a,t[s],s,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function FP(e,t){return function(e,t,n){return MP(e,t,void 0,void 0,void 0,void 0,n)}(e,t,UP)}var zP=Object.defineProperty,HP=Object.getOwnPropertySymbols,qP=Object.prototype.hasOwnProperty,VP=Object.prototype.propertyIsEnumerable,WP=(e,t,n)=>t in e?zP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KP=(e,t)=>{for(var n in t||(t={}))qP.call(t,n)&&WP(e,n,t[n]);if(HP)for(var n of HP(t))VP.call(t,n)&&WP(e,n,t[n]);return e},GP=(e,t,n)=>WP(e,"symbol"!=typeof t?t+"":t,n);class QP extends pS{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:PS,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,n,r),this.core=e,this.logger=t,this.name=n,GP(this,"map",new Map),GP(this,"version","0.3"),GP(this,"cached",[]),GP(this,"initialized",!1),GP(this,"getKey"),GP(this,"storagePrefix",PS),GP(this,"recentlyDeleted",[]),GP(this,"recentlyDeletedLimit",200),GP(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!nx(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return null===e||void 0===e?void 0:e.topic}(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),GP(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),GP(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),GP(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(n=>FP(t[n],e[n]))):this.values)),GP(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=KP(KP({},this.getData(e)),t);this.map.set(e,n),await this.persist()}),GP(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=nS(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return tS(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=XA("MISSING_OR_INVALID","Record was recently deleted - ".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}const{message:t}=XA("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=XA("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var JP=Object.defineProperty,YP=(e,t,n)=>((e,t,n)=>t in e?JP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ZP{constructor(e,t){this.core=e,this.logger=t,YP(this,"name","pairing"),YP(this,"version","0.3"),YP(this,"events",new Dd),YP(this,"pairings"),YP(this,"initialized",!1),YP(this,"storagePrefix",PS),YP(this,"ignoredPayloadTypes",[1]),YP(this,"registeredMethods",[]),YP(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),YP(this,"register",e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]}),YP(this,"create",async e=>{this.isInitialized();const t=cA(),n=await this.core.crypto.setSymKey(t),r=Xy(Hd.FIVE_MINUTES),i={protocol:"irn"},s={topic:n,expiry:r,relay:i,active:!1,methods:null===e||void 0===e?void 0:e.methods},o=BA({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:null===e||void 0===e?void 0:e.methods});return this.events.emit(nk,s),this.core.expirer.set(n,r),await this.pairings.set(n,s),await this.core.relayer.subscribe(n,{transportType:null===e||void 0===e?void 0:e.transportType,internal:null===e||void 0===e?void 0:e.internal}),{topic:n,uri:o}}),YP(this,"pair",async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:null===e||void 0===e?void 0:e.uri,trace:[wk]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:s,methods:o}=RA(e.uri);let a;if(t.props.properties.topic=n,t.addTrace(bk),t.addTrace(vk),this.pairings.keys.includes(n)){if(a=this.pairings.get(n),t.addTrace(Sk),a.active)throw t.setError(Ck),new Error("Pairing already exists: ".concat(n,". Please try again with a new connection URI."));t.addTrace(kk)}const c=s||Xy(Hd.FIVE_MINUTES),l={topic:n,relay:i,expiry:c,active:!1,methods:o};this.core.expirer.set(n,c),await this.pairings.set(n,l),t.addTrace(Ek),e.activatePairing&&await this.activate({topic:n}),this.events.emit(nk,l),t.addTrace(Ik),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace(Ak);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(u){t.setError(Pk)}try{await this.core.relayer.subscribe(n,{relay:i})}catch($g){throw t.setError(Nk),$g}return t.addTrace(xk),l}),YP(this,"activate",async e=>{let{topic:t}=e;this.isInitialized();const n=Xy(Hd.FIVE_MINUTES);this.core.expirer.set(t,n),await this.pairings.update(t,{active:!0,expiry:n})}),YP(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=Qy();this.events.once(em("pairing_ping",e),e=>{let{error:t}=e;t?i(t):r()}),await n()}}),YP(this,"updateExpiry",async e=>{let{topic:t,expiry:n}=e;this.isInitialized(),await this.pairings.update(t,{expiry:n})}),YP(this,"updateMetadata",async e=>{let{topic:t,metadata:n}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:n})}),YP(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),YP(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",$A("USER_DISCONNECTED")),await this.deletePairing(t))}),YP(this,"formatUriFromPairing",e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,s=this.core.crypto.keychain.get(t);return BA({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:n,expiryTimestamp:r,methods:i})}),YP(this,"sendRequest",async(e,t,n)=>{const r=(0,kS.formatJsonRpcRequest)(t,n),i=await this.core.crypto.encode(e,r),s=tk[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id}),YP(this,"sendResult",async(e,t,n)=>{const r=(0,kS.formatJsonRpcResult)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=tk[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),YP(this,"sendError",async(e,t,n)=>{const r=(0,kS.formatJsonRpcError)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=tk[s]?tk[s].res:tk.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),YP(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,$A("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),YP(this,"cleanup",async()=>{const e=this.pairings.getAll().filter(e=>$y(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),YP(this,"onRelayEventRequest",async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}}),YP(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)}),YP(this,"onPairingPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit(sk,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}}),YP(this,"onPairingPingResponse",(e,t)=>{const{id:n}=t;setTimeout(()=>{(0,kS.isJsonRpcResult)(t)?this.events.emit(em("pairing_ping",n),{}):(0,kS.isJsonRpcError)(t)&&this.events.emit(em("pairing_ping",n),{error:t.error})},500)}),YP(this,"onPairingDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(ik,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}}),YP(this,"onUnknownRpcMethodRequest",async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=$A("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(ey){await this.sendError(n,e,ey),this.logger.error(ey)}}),YP(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error($A("WC_METHOD_UNSUPPORTED",e))}),YP(this,"isValidPair",(e,t)=>{var n;if(!dx(e)){const{message:n}=XA("MISSING_OR_INVALID","pair() params: ".concat(e));throw t.setError(Tk),new Error(n)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch(t){return!1}}try{if(rx(e,!1))return!!t(e)||t(om(e))}catch(n){}return!1}(e.uri)){const{message:n}=XA("MISSING_OR_INVALID","pair() uri: ".concat(e.uri));throw t.setError(Tk),new Error(n)}const r=RA(null===e||void 0===e?void 0:e.uri);if(null==(n=null===r||void 0===r?void 0:r.relay)||!n.protocol){const{message:e}=XA("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(Tk),new Error(e)}if(null==r||!r.symKey){const{message:e}=XA("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(Tk),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,Hd.toMiliseconds)(null===r||void 0===r?void 0:r.expiryTimestamp)<Date.now()){t.setError(Rk);const{message:e}=XA("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}}),YP(this,"isValidPing",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),YP(this,"isValidDisconnect",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),YP(this,"isValidPairingTopic",async e=>{if(!rx(e,!1)){const{message:t}=XA("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=XA("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if($y(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=XA("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}}),this.core=e,this.logger=nS(t,this.name),this.pairings=new QP(this.core,this.logger,this.name,this.storagePrefix)}get context(){return tS(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(LS,async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==GS.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);(0,kS.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,kS.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(dk,async e=>{const{topic:t}=Zy(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(rk,{topic:t}))})}}var XP=Object.defineProperty,$P=(e,t,n)=>((e,t,n)=>t in e?XP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class eT extends uS{constructor(e,t){super(e,t),this.core=e,this.logger=t,$P(this,"records",new Map),$P(this,"events",new Dd.EventEmitter),$P(this,"name","history"),$P(this,"version","0.3"),$P(this,"cached",[]),$P(this,"initialized",!1),$P(this,"storagePrefix",PS),$P(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),$P(this,"set",(e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:Xy(Hd.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit(ok,r)}),$P(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,kS.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(ak,t))}),$P(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),$P(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(ck,n)}}),this.persist()}),$P(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),$P(this,"on",(e,t)=>{this.events.on(e,t)}),$P(this,"once",(e,t)=>{this.events.once(e,t)}),$P(this,"off",(e,t)=>{this.events.off(e,t)}),$P(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=nS(t,this.name)}get context(){return tS(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:(0,kS.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=XA("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(lk)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=XA("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e)}}registerEventListeners(){this.events.on(ok,e=>{const t=ok;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(ak,e=>{const t=ak;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(ck,e=>{const t=ck;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Ix.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,Hd.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info("Deleting expired history log: ".concat(t.id)),this.records.delete(t.id),this.events.emit(ck,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var tT=Object.defineProperty,nT=(e,t,n)=>((e,t,n)=>t in e?tT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class rT extends yS{constructor(e,t){super(e,t),this.core=e,this.logger=t,nT(this,"expirations",new Map),nT(this,"events",new Dd.EventEmitter),nT(this,"name","expirer"),nT(this,"version","0.3"),nT(this,"cached",[]),nT(this,"initialized",!1),nT(this,"storagePrefix",PS),nT(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),nT(this,"has",e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch(t){return!1}}),nT(this,"set",(e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(uk,{target:n,expiration:r})}),nT(this,"get",e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)}),nT(this,"del",e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(hk,{target:t,expiration:n})}}),nT(this,"on",(e,t)=>{this.events.on(e,t)}),nT(this,"once",(e,t)=>{this.events.once(e,t)}),nT(this,"off",(e,t)=>{this.events.off(e,t)}),nT(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=nS(t,this.name)}get context(){return tS(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return Yy("topic",e)}(e);if("number"==typeof e)return function(e){return Yy("id",e)}(e);const{message:t}=XA("UNKNOWN_TYPE","Target type: ".concat(typeof e));throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(fk)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=XA("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=XA("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,Hd.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(dk,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Ix.li.pulse,()=>this.checkExpirations()),this.events.on(uk,e=>{const t=uk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(dk,e=>{const t=dk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(hk,e=>{const t=hk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var iT=Object.defineProperty,sT=(e,t,n)=>((e,t,n)=>t in e?iT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class oT extends mS{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,sT(this,"name","verify-api"),sT(this,"abortController"),sT(this,"isDevEnv"),sT(this,"verifyUrlV3",yk),sT(this,"storagePrefix",PS),sT(this,"version",2),sT(this,"publicKey"),sT(this,"fetchPromise"),sT(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,Hd.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),sT(this,"register",async e=>{if(!My()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i="".concat(this.verifyUrlV3,"/attestation?projectId=").concat(this.core.projectId,"&origin=").concat(t,"&id=").concat(n,"&decryptedId=").concat(r);try{const e=(0,qd.getDocument)(),t=this.startAbortTimer(5*Hd.ONE_SECOND),r=await new Promise((r,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,zg.Cq)(s.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),r(null===s.attestation?"":s.attestation)}}catch(iy){this.logger.warn(iy)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug(r,"jwt attestation"),r}catch(yy){this.logger.warn(yy)}return""}),sT(this,"resolve",async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,zg.Cq)(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(null===e||void 0===e?void 0:e.verifyUrl);return this.fetchAttestation(n,i)}),sT(this,"fetchAttestation",async(e,t)=>{this.logger.debug("resolving attestation: ".concat(e," from url: ").concat(t));const n=this.startAbortTimer(5*Hd.ONE_SECOND),r=await fetch("".concat(t,"/attestation/").concat(e,"?v2Supported=true"),{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0}),sT(this,"getVerifyUrl",e=>{let t=e||gk;return mk.includes(t)||(this.logger.info("verify url: ".concat(t,", not included in trusted list, assigning default: ").concat(gk)),t=gk),t}),sT(this,"fetchPublicKey",async()=>{try{this.logger.debug("fetching public key from: ".concat(this.verifyUrlV3));const e=this.startAbortTimer(Hd.FIVE_SECONDS),t=await fetch("".concat(this.verifyUrlV3,"/public-key"),{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(Yg){this.logger.warn(Yg)}}),sT(this,"persistPublicKey",async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e}),sT(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),sT(this,"isValidJwtAttestation",async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(ey){this.logger.error(ey),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(ey){this.logger.error(ey),this.logger.warn("error validating attestation")}}),sT(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),sT(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});const e=await this.fetchPromise;return this.fetchPromise=void 0,e}),sT(this,"validateAttestation",(e,t)=>{const n=vA(e,t.publicKey),r={hasExpired:(0,Hd.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}}),this.logger=nS(t,this.name),this.abortController=new AbortController,this.isDevEnv=sm(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return tS(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Hd.toMiliseconds)(e))}}var aT=Object.defineProperty,cT=(e,t,n)=>((e,t,n)=>t in e?aT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class lT extends wS{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,cT(this,"context","echo"),cT(this,"registerDeviceToken",async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,s="".concat("https://echo.walletconnect.com","/").concat(this.projectId,"/clients");await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})}),this.logger=nS(t,this.context)}}var uT=Object.defineProperty,hT=Object.getOwnPropertySymbols,dT=Object.prototype.hasOwnProperty,fT=Object.prototype.propertyIsEnumerable,pT=(e,t,n)=>t in e?uT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gT=(e,t)=>{for(var n in t||(t={}))dT.call(t,n)&&pT(e,n,t[n]);if(hT)for(var n of hT(t))fT.call(t,n)&&pT(e,n,t[n]);return e},yT=(e,t,n)=>pT(e,"symbol"!=typeof t?t+"":t,n);class mT extends bS{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,n),this.core=e,this.logger=t,yT(this,"context","event-client"),yT(this,"storagePrefix",PS),yT(this,"storageVersion",.1),yT(this,"events",new Map),yT(this,"shouldPersist",!1),yT(this,"init",async()=>{if(!sm())try{const e={eventId:im(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:qy(this.core.relayer.protocol,this.core.relayer.version,KS)}}};await this.sendEvent([e])}catch(Yg){this.logger.warn(Yg)}}),yT(this,"createEvent",e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,s=im(),o=this.core.projectId||"",a=Date.now(),c=gT({eventId:s,timestamp:a,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c}),yT(this,"getEvent",e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find(e=>e.props.properties.topic===n);return r?gT(gT({},r),this.setMethods(r.eventId)):void 0}),yT(this,"deleteEvent",e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),yT(this,"setEventListeners",()=>{this.core.heartbeat.on(Ix.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,Hd.fromMiliseconds)(Date.now())-(0,Hd.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),yT(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),yT(this,"addTrace",(e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)}),yT(this,"setError",(e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)}),yT(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),yT(this,"restore",async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,gT(gT({},e),this.setMethods(e.eventId)))})}catch(Yg){this.logger.warn(Yg)}}),yT(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[n,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(t){this.logger.warn(t)}}),yT(this,"sendEvent",async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch("".concat("https://pulse.walletconnect.org/batch","?projectId=").concat(this.core.projectId,"&st=events_sdk&sv=js-").concat(KS).concat(t),{method:"POST",body:JSON.stringify(e)})}),yT(this,"getAppDomain",()=>Hy().url),this.logger=nS(t,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var wT=Object.defineProperty,bT=Object.getOwnPropertySymbols,vT=Object.prototype.hasOwnProperty,ET=Object.prototype.propertyIsEnumerable,AT=(e,t,n)=>t in e?wT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xT=(e,t)=>{for(var n in t||(t={}))vT.call(t,n)&&AT(e,n,t[n]);if(bT)for(var n of bT(t))ET.call(t,n)&&AT(e,n,t[n]);return e},ST=(e,t,n)=>AT(e,"symbol"!=typeof t?t+"":t,n);class kT extends aS{constructor(e){var t;super(e),ST(this,"protocol","wc"),ST(this,"version",2),ST(this,"name",OS),ST(this,"relayUrl"),ST(this,"projectId"),ST(this,"customStoragePrefix"),ST(this,"events",new Dd.EventEmitter),ST(this,"logger"),ST(this,"heartbeat"),ST(this,"relayer"),ST(this,"crypto"),ST(this,"storage"),ST(this,"history"),ST(this,"expirer"),ST(this,"pairing"),ST(this,"verify"),ST(this,"echoClient"),ST(this,"linkModeSupportedApps"),ST(this,"eventClient"),ST(this,"initialized",!1),ST(this,"logChunkController"),ST(this,"on",(e,t)=>this.events.on(e,t)),ST(this,"once",(e,t)=>this.events.once(e,t)),ST(this,"off",(e,t)=>this.events.off(e,t)),ST(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),ST(this,"dispatchEnvelope",e=>{let{topic:t,message:n,sessionExists:r}=e;if(!t||!n)return;const i={topic:t,message:n,publishedAt:Date.now(),transportType:GS.link_mode};this.relayer.onLinkMessageEvent(i,{sessionExists:r})});const n=this.getGlobalCore(null===e||void 0===e?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(ey){console.warn("Failed to copy global core",ey)}this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||BS,this.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";const r=(o={level:"string"==typeof(null===e||void 0===e?void 0:e.logger)&&e.logger?e.logger:TS,name:OS},eS($x({},o),{level:(null===o||void 0===o?void 0:o.level)||Cx})),{logger:i,chunkLoggerController:s}=rS({opts:r,maxSizeInBytes:null===e||void 0===e?void 0:e.maxLogBlobSizeInBytes,loggerOverride:null===e||void 0===e?void 0:e.logger});var o;this.logChunkController=s,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=nS(i,this.name),this.heartbeat=new Ix.VH,this.crypto=new qO(this,this.logger,null===e||void 0===e?void 0:e.keychain),this.history=new eT(this,this.logger),this.expirer=new rT(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new Ox.A(xT(xT({},CS),null===e||void 0===e?void 0:e.storageOptions)),this.relayer=new NP({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ZP(this,this.logger),this.verify=new oT(this,this.logger,this.storage),this.echoClient=new lT(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new mT(this,this.logger,null===e||void 0===e?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new kT(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return tS(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(YS,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(YS)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,"Core Initialization Failure at epoch ".concat(Date.now())),this.logger.error(e.message),e}}getGlobalCore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if(this.isGlobalCoreDisabled())return;const t="_walletConnectCore_".concat(e),n="".concat(t,"_count");return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn("WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ".concat(globalThis[n]," times.")),globalThis[t]}catch(cv){return void console.warn("Failed to get global WalletConnect core",cv)}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const n="_walletConnectCore_".concat((null==(t=e.opts)?void 0:t.customStoragePrefix)||"");globalThis[n]=e}catch(Qg){console.warn("Failed to set global WalletConnect core",Qg)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MARKETPLACE_ADDRESS:"0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43",REACT_APP_NFT_COLLECTION_ADDRESS:"0x6f2835F12EcD1e60655f219Be6Fcb1dC50A9e972",REACT_APP_ROYALTY_SPLITTER_FACTORY_ADDRESS:"0x70E1c43fDc72a35fF5671a1e40f2673ED16fdB40",REACT_APP_CHAIN_ID:"80002",REACT_APP_NETWORK_NAME:"Polygon Amoy",REACT_APP_RPC_URL:"https://rpc-amoy.polygon.technology",REACT_APP_IPFS_GATEWAY:"https://ipfs.io/ipfs/",REACT_APP_WALLETCONNECT_PROJECT_ID:"5e467db3e55d357493c846de13b399fc"}.DISABLE_GLOBAL_CORE}catch(e){return!0}}}const IT=kT;n(8878);const OT="custom_context";Object.defineProperty;Symbol.iterator;Object.defineProperty;Object.defineProperty;Object.defineProperty;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function PT(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:OT]||""}const TT="client",CT="".concat("wc","@").concat(2,":").concat(TT,":"),NT=TT,RT="error",_T="WALLETCONNECT_DEEPLINK_CHOICE",BT="Proposal expired",LT=Hd.SEVEN_DAYS,UT={wc_sessionPropose:{req:{ttl:Hd.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Hd.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Hd.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Hd.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Hd.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Hd.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Hd.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Hd.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Hd.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Hd.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Hd.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Hd.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Hd.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Hd.FIVE_MINUTES,prompt:!1,tag:1119}}},jT={min:Hd.FIVE_MINUTES,max:Hd.SEVEN_DAYS},MT="IDLE",DT="ACTIVE",FT={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},zT=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],HT="".concat("wc","@",1.5,":").concat("auth",":"),qT="".concat(HT,":PUB_KEY");var VT=Object.defineProperty,WT=Object.defineProperties,KT=Object.getOwnPropertyDescriptors,GT=Object.getOwnPropertySymbols,QT=Object.prototype.hasOwnProperty,JT=Object.prototype.propertyIsEnumerable,YT=(e,t,n)=>t in e?VT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZT=(e,t)=>{for(var n in t||(t={}))QT.call(t,n)&&YT(e,n,t[n]);if(GT)for(var n of GT(t))JT.call(t,n)&&YT(e,n,t[n]);return e},XT=(e,t)=>WT(e,KT(t)),$T=(e,t,n)=>YT(e,"symbol"!=typeof t?t+"":t,n);class eC extends xS{constructor(e){var t;super(e),t=this,$T(this,"name","engine"),$T(this,"events",new Dd),$T(this,"initialized",!1),$T(this,"requestQueue",{state:MT,queue:[]}),$T(this,"sessionRequestQueue",{state:MT,queue:[]}),$T(this,"emittedSessionRequests",new am({limit:500})),$T(this,"requestQueueDelay",Hd.ONE_SECOND),$T(this,"expectedPairingMethodMap",new Map),$T(this,"recentlyDeletedMap",new Map),$T(this,"recentlyDeletedLimit",200),$T(this,"relayMessageCache",[]),$T(this,"pendingSessions",new Map),$T(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(UT)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Hd.toMiliseconds)(this.requestQueueDelay)))}),$T(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=XT(ZT({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var n,r,i,s,o,a;const c=QA(e),l=QA(t),u={},h=Object.keys(c).concat(Object.keys(l));for(const d of h)u[d]={chains:tm(null==(n=c[d])?void 0:n.chains,null==(r=l[d])?void 0:r.chains),methods:tm(null==(i=c[d])?void 0:i.methods,null==(s=l[d])?void 0:s.methods),events:tm(null==(o=c[d])?void 0:o.events,null==(a=l[d])?void 0:a.events)};return u}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:a}=t;let c,l=n,u=!1;try{if(l){const e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(v){throw this.client.logger.error("connect() -> pairing.get(".concat(l,") failed")),v}if(!l||!u){const{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});l=e,c=t}if(!l){const{message:e}=XA("NO_MATCHING_KEY","connect() pairing topic: ".concat(l));throw new Error(e)}const h=await this.client.core.crypto.generateKeyPair(),d=UT.wc_sessionPropose.req.ttl||Hd.FIVE_MINUTES,f=Xy(d),p=XT(ZT(ZT({requiredNamespaces:r,optionalNamespaces:i,relays:null!==a&&void 0!==a?a:[{protocol:"irn"}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:(0,kS.payloadId)()}),g=em("session_connect",p.id),{reject:y,resolve:m,done:w}=Qy(d,BT),b=e=>{let{id:t}=e;t===p.id&&(this.client.events.off("proposal_expire",b),this.pendingSessions.delete(p.id),this.events.emit(g,{error:{message:BT,code:0}}))};return this.client.events.on("proposal_expire",b),this.events.once(g,e=>{let{error:t,session:n}=e;this.client.events.off("proposal_expire",b),t?y(t):n&&m(n)}),await this.sendProposeSession({proposal:p,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:p.id}}}),await this.setProposal(p.id,p),{uri:c,approval:w}}),$T(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error("pair() failed"),t}}),$T(this,"approve",async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=null===e||void 0===e?void 0:e.id)?void 0:t.toString(),trace:[Bk]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(oy){throw i.setError(qk),oy}try{await this.isValidProposalId(null===e||void 0===e?void 0:e.id)}catch(oy){throw this.client.logger.error("approve() -> proposal.get(".concat(null===e||void 0===e?void 0:e.id,") failed")),i.setError(Gk),oy}try{await this.isValidApprove(e)}catch(oy){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(Kk),oy}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:u}=e,h=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:d,proposer:f,requiredNamespaces:p,optionalNamespaces:g}=h;let y=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:d});y||(y=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:Bk,properties:{topic:d,trace:[Bk,Lk]}}));const m=await this.client.core.crypto.generateKeyPair(),w=f.publicKey,b=await this.client.core.crypto.generateSharedKey(m,w),v=ZT(ZT(ZT({relay:{protocol:null!==o&&void 0!==o?o:"irn"},namespaces:a,controller:{publicKey:m,metadata:this.client.metadata},expiry:Xy(LT)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),E=GS.relay;y.addTrace(Uk);try{await this.client.core.relayer.subscribe(b,{transportType:E,internal:{skipSubscribe:!0}})}catch(oy){throw y.setError(Wk),oy}y.addTrace(jk);const A=XT(ZT({},v),{topic:b,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:d,acknowledged:!1,self:v.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:m,transportType:GS.relay});await this.client.session.set(b,A),y.addTrace(Dk);try{await this.sendApproveSession({sessionTopic:b,proposal:h,pairingProposalResponse:{relay:{protocol:null!==o&&void 0!==o?o:"irn"},responderPublicKey:m},sessionSettleRequest:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),y.addTrace(Mk)}catch(oy){throw this.client.logger.error(oy),this.client.session.delete(b,$A("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),oy}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:d,metadata:f.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:d}),await this.setExpiry(b,Xy(LT)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}}),$T(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(i){throw this.client.logger.error("reject() -> isValidReject() failed"),i}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(i){throw this.client.logger.error("reject() -> proposal.get(".concat(t,") failed")),i}r&&await this.sendError({id:t,topic:r,error:n,rpcOpts:UT.wc_sessionPropose.reject}),await this.deleteProposal(t)}),$T(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(yy){throw this.client.logger.error("update() -> isValidUpdate() failed"),yy}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:s}=Qy(),o=(0,kS.payloadId)(),a=(0,kS.getBigIntRpcId)().toString(),c=this.client.session.get(t).namespaces;return this.events.once(em("session_update",o),e=>{let{error:t}=e;t?s(t):i()}),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)}),{acknowledged:r}}),$T(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(ey){throw this.client.logger.error("extend() -> isValidExtend() failed"),ey}const{topic:t}=e,n=(0,kS.payloadId)(),{done:r,resolve:i,reject:s}=Qy();return this.events.once(em("session_extend",n),e=>{let{error:t}=e;t?s(t):i()}),await this.setExpiry(t,Xy(LT)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:r}}),$T(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(p){throw this.client.logger.error("request() -> isValidRequest() failed"),p}const{chainId:t,request:n,topic:r,expiry:i=UT.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(r);(null===s||void 0===s?void 0:s.transportType)===GS.relay&&await this.confirmOnlineStateOrThrow();const o=(0,kS.payloadId)(),a=(0,kS.getBigIntRpcId)().toString(),{done:c,resolve:l,reject:u}=Qy(i,"Request expired. Please try again.");this.events.once(em("session_request",o),e=>{let{error:t,result:n}=e;t?u(t):l(n)});const h="wc_sessionRequest",d=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(d)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:{request:XT(ZT({},n),{expiryTimestamp:Xy(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:d}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),await c();const f={request:XT(ZT({},n),{expiryTimestamp:Xy(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:f,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,f)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let n="";try{if(My()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(i){console.error(i)}return n}(this.client.core.storage,_T);await nm({id:o,topic:r,wcDeepLink:e})}e()}),c()]).then(e=>e[2])}),$T(this,"respond",async e=>{var t,n;this.isInitialized();const r=this.client.core.eventClient.createEvent({properties:{topic:(null===e||void 0===e?void 0:e.topic)||(null==(n=null==(t=null===e||void 0===e?void 0:e.response)?void 0:t.id)?void 0:n.toString()),trace:[Fk]}});try{await this.isValidRespond(e)}catch(yy){throw r.addTrace(null===yy||void 0===yy?void 0:yy.message),r.setError(Qk),yy}r.addTrace(zk);const{topic:i,response:s}=e,{id:o}=s,a=this.client.session.get(i);a.transportType===GS.relay&&await this.confirmOnlineStateOrThrow();const c=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);try{r.addTrace(Hk),(0,kS.isJsonRpcResult)(s)?await this.sendResult({id:o,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:c}):(0,kS.isJsonRpcError)(s)&&await this.sendError({id:o,topic:i,error:s.error,appLink:c}),this.cleanupAfterResponse(e)}catch(yy){throw r.addTrace(null===yy||void 0===yy?void 0:yy.message),r.setError(Jk),yy}}),$T(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(Yg){throw this.client.logger.error("ping() -> isValidPing() failed"),Yg}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=(0,kS.payloadId)(),n=(0,kS.getBigIntRpcId)().toString(),{done:r,resolve:i,reject:s}=Qy();this.events.once(em("session_ping",e),e=>{let{error:t}=e;t?s(t):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),$T(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=(0,kS.getBigIntRpcId)().toString(),s=(0,kS.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),$T(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:$A("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=XA("MISMATCHED_TOPIC","Session or pairing topic not found: ".concat(t));throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}}),$T(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!Wy(i,r)&&(r.forEach(t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=WA(r),c=n[t];(!Wy(Ey(t,c),a)||!Wy(c.methods,i)||!Wy(c.events,o))&&(s=!1)}),s)}(t,e)))),$T(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),$T(this,"authenticate",async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?GS.link_mode:GS.relay;i===GS.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:u,exp:h,nbf:d,methods:f=[],expiry:p}=e,g=[...e.resources||[]],{topic:y,uri:m}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:m}});const w=await this.client.core.crypto.generateKeyPair(),b=lA(w);if(await Promise.all([this.client.auth.authKeys.set(qT,{responseTopic:b,publicKey:w}),this.client.auth.pairingTopics.set(b,{topic:b,pairingTopic:y})]),await this.client.core.relayer.subscribe(b,{transportType:i}),this.client.logger.info("sending request to new pairing topic: ".concat(y)),f.length>0){const{namespace:e}=by(s[0]);let t=Sb(e,"request",f);Cb(g)&&(t=Ib(t,g.pop())),g.push(t)}const v=p&&p>UT.wc_sessionAuthenticate.req.ttl?p:UT.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:null!==u&&void 0!==u?u:"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:h,nbf:d,resources:g},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Xy(v)},A={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...f])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Xy(UT.wc_sessionPropose.req.ttl),id:(0,kS.payloadId)()},{done:x,resolve:S,reject:k}=Qy(v,"Request expired"),I=(0,kS.payloadId)(),O=em("session_connect",A.id),P=em("session_request",I),T=async e=>{let{error:t,session:n}=e;this.events.off(P,C),t?k(t):n&&S({session:n})},C=async e=>{var n,r,s;if(await this.deletePendingAuthRequest(I,{message:"fulfilled",code:0}),e.error){const t=$A("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(O,T),k(e.error.message))}await this.deleteProposal(A.id),this.events.off(O,T);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const t of o){await wb({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),k($A("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,n=Cb(e.resources),r=[yb(e.iss)],i=mb(e.iss);if(n){const e=Pb(n),t=Tb(n);c.push(...e),r.push(...t)}for(const t of r)l.push("".concat(t,":").concat(i))}const u=await this.client.core.crypto.generateSharedKey(w,a.publicKey);let h;c.length>0&&(h={topic:u,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:Xy(LT),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:JA([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,h),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:a.metadata}),h=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=a.metadata.redirect)&&r.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:GS.link_mode})),S({auths:o,session:h})};let N;this.events.once(O,T),this.events.once(P,C);try{if(r){const e=(0,kS.formatJsonRpcRequest)("wc_sessionAuthenticate",E,I);this.client.core.history.set(y,e);const n=await this.client.core.crypto.encode("",e,{type:2,encoding:oA});N=LA(t,y,n)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:E,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:I}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:A,expiry:UT.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(sy){throw this.events.off(O,T),this.events.off(P,C),sy}return await this.setProposal(A.id,A),await this.setAuthRequest(I,{request:XT(ZT({},E),{verifyContext:{}}),pairingTopic:y,transportType:i}),{uri:null!==N&&void 0!==N?N:m,response:x}}),$T(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[Yk]}});try{this.isInitialized()}catch(p){throw r.setError(rI),p}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError(aI),new Error("Could not find pending auth request with id ".concat(t));const s=i.transportType||GS.relay;s===GS.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=lA(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],h=[];for(const g of n){if(!await wb({cacao:g,projectId:this.client.core.projectId})){r.setError(iI);const e=$A("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}r.addTrace(Xk);const{p:e}=g,n=Cb(e.resources),i=[yb(e.iss)],s=mb(e.iss);if(n){const e=Pb(n),t=Tb(n);u.push(...e),i.push(...t)}for(const t of i)h.push("".concat(t,":").concat(s))}const d=await this.client.core.crypto.generateSharedKey(a,o);let f;if(r.addTrace(Zk),(null===u||void 0===u?void 0:u.length)>0){f={topic:d,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:Xy(LT),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:JA([...new Set(u)],[...new Set(h)]),transportType:s},r.addTrace(eI);try{await this.client.core.relayer.subscribe(d,{transportType:s})}catch(p){throw r.setError(sI),p}r.addTrace(tI),await this.client.session.set(d,f),r.addTrace($k),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace(nI);try{await this.sendResult({topic:c,id:t,result:{cacaos:n,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(p){throw r.setError(oI),p}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:f}}),$T(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error("Could not find pending auth request with id ".concat(t));r.transportType===GS.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=lA(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:n,encodeOpts:a,rpcOpts:UT.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),$T(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:n}=e;return bb(t,n)}),$T(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(cv){this.client.logger.error(cv)}},50)}),$T(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic});if(0===n.length)return;this.client.logger.info("Cleaning up ".concat(n.length," duplicate pairing(s)")),await Promise.all(n.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}}),$T(this,"deleteSession",async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,$A("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(_T).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===n&&this.deletePendingSessionRequest(e.id,$A("USER_DISCONNECTED"))}),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=MT),i&&this.client.events.emit("session_delete",{id:s,topic:n})}),$T(this,"deleteProposal",async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});null===n||void 0===n||n.setError(Vk)}catch(n){}await Promise.all([this.client.proposal.delete(e,$A("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),$T(this,"deletePendingSessionRequest",async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.pendingRequest.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)]),t.addToRecentlyDeleted(e,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(t.sessionRequestQueue.state=MT,t.client.events.emit("session_request_expire",{id:e}))}),$T(this,"deletePendingAuthRequest",async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.auth.requests.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)])}),$T(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),$T(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,Xy(UT.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),$T(this,"setAuthRequest",async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=GS.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})}),$T(this,"setPendingSessionRequest",async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,s=r.request.expiryTimestamp||Xy(UT.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})}),$T(this,"sendRequest",async e=>{const{topic:t,method:n,params:r,expiry:i,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a,appLink:c,tvf:l,publishOpts:u={}}=e,h=(0,kS.formatJsonRpcRequest)(n,r,o);let d;const f=!!c;try{const e=f?oA:sA;d=await this.client.core.crypto.encode(t,h,{encoding:e})}catch($g){throw await this.cleanup(),this.client.logger.error("sendRequest() -> core.crypto.encode() for topic ".concat(t," failed")),$g}let p;if(zT.includes(n)){const e=uA(JSON.stringify(h)),t=uA(d);p=await this.client.core.verify.register({id:t,decryptedId:e})}const g=ZT(ZT({},UT[n].req),u);if(g.attestation=p,i&&(g.ttl=i),s&&(g.id=s),this.client.core.history.set(t,h),f){const e=LA(c,t,d);await global.Linking.openURL(e,this.client.name)}else g.tvf=XT(ZT({},l),{correlationId:h.id}),a?(g.internal=XT(ZT({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,d,g)):this.client.core.relayer.publish(t,d,g).catch(e=>this.client.logger.error(e));return h.id}),$T(this,"sendProposeSession",async e=>{const{proposal:t,publishOpts:n}=e,r=(0,kS.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,r);const i=await this.client.core.crypto.encode(t.pairingTopic,r,{encoding:sA}),s=uA(JSON.stringify(r)),o=uA(i),a=await this.client.core.verify.register({id:o,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:XT(ZT({},n),{publishMethod:"wc_proposeSession",attestation:a})})}),$T(this,"sendApproveSession",async e=>{const{sessionTopic:t,pairingProposalResponse:n,proposal:r,sessionSettleRequest:i,publishOpts:s}=e,o=(0,kS.formatJsonRpcResult)(r.id,n),a=await this.client.core.crypto.encode(r.pairingTopic,o,{encoding:sA}),c=(0,kS.formatJsonRpcRequest)("wc_sessionSettle",i,null===s||void 0===s?void 0:s.id),l=await this.client.core.crypto.encode(t,c,{encoding:sA});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:r.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:l},opts:XT(ZT({},s),{publishMethod:"wc_approveSession"})})}),$T(this,"sendResult",async e=>{const{id:t,topic:n,result:r,throwOnFailedPublish:i,encodeOpts:s,appLink:o}=e,a=(0,kS.formatJsonRpcResult)(t,r);let c;const l=o&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?oA:sA;c=await this.client.core.crypto.encode(n,a,XT(ZT({},s||{}),{encoding:e}))}catch(d){throw await this.cleanup(),this.client.logger.error("sendResult() -> core.crypto.encode() for topic ".concat(n," failed")),d}let u,h;try{u=await this.client.core.history.get(n,t);const e=u.request;try{h=this.getTVFParams(t,e.params,r)}catch(f){this.client.logger.warn("sendResult() -> getTVFParams() failed: ".concat(null===f||void 0===f?void 0:f.message))}}catch(d){throw this.client.logger.error("sendResult() -> history.get(".concat(n,", ").concat(t,") failed")),d}if(l){const e=LA(o,n,c);await global.Linking.openURL(e,this.client.name)}else{const e=u.request.method,r=UT[e].res;r.tvf=XT(ZT({},h),{correlationId:t}),i?(r.internal=XT(ZT({},r.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,c,r)):this.client.core.relayer.publish(n,c,r).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(a)}),$T(this,"sendError",async e=>{const{id:t,topic:n,error:r,encodeOpts:i,rpcOpts:s,appLink:o}=e,a=(0,kS.formatJsonRpcError)(t,r);let c;const l=o&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?oA:sA;c=await this.client.core.crypto.encode(n,a,XT(ZT({},i||{}),{encoding:e}))}catch(h){throw await this.cleanup(),this.client.logger.error("sendError() -> core.crypto.encode() for topic ".concat(n," failed")),h}let u;try{u=await this.client.core.history.get(n,t)}catch(h){throw this.client.logger.error("sendError() -> history.get(".concat(n,", ").concat(t,") failed")),h}if(l){const e=LA(o,n,c);await global.Linking.openURL(e,this.client.name)}else{const e=u.request.method,t=s||UT[e].res;this.client.core.relayer.publish(n,c,t)}await this.client.core.history.resolve(a)}),$T(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(t=>{let n=!1;$y(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{$y(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),$T(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),$T(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),$T(this,"processRequestsQueue",async()=>{if(this.requestQueue.state!==DT){for(this.client.logger.info("Request queue starting with ".concat(this.requestQueue.queue.length," requests"));this.requestQueue.queue.length>0;){this.requestQueue.state=DT;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=MT}else this.client.logger.info("Request queue already active, skipping...")}),$T(this,"processRequest",async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:s}=e,o=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});default:return this.client.logger.info("Unsupported request method ".concat(o))}}),$T(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info("Unsupported response method ".concat(i))}}),$T(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:n}=XA("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response."));throw new Error(n)}),$T(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n))&&!!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),$T(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:s,id:o}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),null!==e&&void 0!==e&&e.setError(_k)),this.isValidConnect(ZT({},n.params));const a=s.expiryTimestamp||Xy(UT.wc_sessionPropose.req.ttl),c=ZT({id:o,pairingTopic:t,expiryTimestamp:a,attestation:r,encryptedId:i},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:r,hash:uA(JSON.stringify(n)),encryptedId:i,metadata:c.proposer.metadata});null!==e&&void 0!==e&&e.addTrace(Ok),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(a){await this.sendError({id:o,topic:t,error:a,rpcOpts:UT.wc_sessionPropose.autoReject}),this.client.logger.error(a)}}),$T(this,"onSessionProposeResponse",async(e,t,n)=>{const{id:r}=t;if((0,kS.isJsonRpcResult)(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(r,{sessionTopic:c,pairingTopic:e,proposalId:r,publicKey:o});const l=await this.client.core.relayer.subscribe(c,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if((0,kS.isJsonRpcError)(t)){await this.deleteProposal(r);const e=em("session_connect",r);if(0===this.events.listenerCount(e))throw new Error("emitting ".concat(e," without any listeners, 954"));this.events.emit(e,{error:t.error})}}),$T(this,"onSessionSettleRequest",async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l}=t.params,u=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!u)return this.client.logger.error("Pending session not found for topic ".concat(e));const h=this.client.proposal.get(u.proposalId),d=XT(ZT(ZT(ZT({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:GS.relay});await this.client.session.set(d.topic,d),await this.setExpiry(d.topic,d.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:d.peer.metadata}),this.client.events.emit("session_connect",{session:d}),this.events.emit(em("session_connect",u.proposalId),{session:d}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(d),await this.sendResult({id:t.id,topic:e,result:!0})}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}}),$T(this,"onSessionSettleResponse",async(e,t)=>{const{id:n}=t;(0,kS.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(em("session_approve",n),{})):(0,kS.isJsonRpcError)(t)&&(await this.client.session.delete(e,$A("USER_DISCONNECTED")),this.events.emit(em("session_approve",n),{error:t.error}))}),$T(this,"onSessionUpdateRequest",async(e,t)=>{const{params:n,id:r}=t;try{const t="".concat(e,"_session_update"),i=Ex.get(t);if(i&&this.isRequestOutOfSync(i,r))return this.client.logger.warn("Discarding out of sync request - ".concat(r)),void this.sendError({id:r,topic:e,error:$A("INVALID_UPDATE_REQUEST")});this.isValidUpdate(ZT({topic:e},n));try{Ex.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0})}catch(ey){throw Ex.delete(t),ey}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(i){await this.sendError({id:r,topic:e,error:i}),this.client.logger.error(i)}}),$T(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),$T(this,"onSessionUpdateResponse",(e,t)=>{const{id:n}=t,r=em("session_update",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,kS.isJsonRpcResult)(t)?this.events.emit(em("session_update",n),{}):(0,kS.isJsonRpcError)(t)&&this.events.emit(em("session_update",n),{error:t.error})}),$T(this,"onSessionExtendRequest",async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,Xy(LT)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(Qg){await this.sendError({id:n,topic:e,error:Qg}),this.client.logger.error(Qg)}}),$T(this,"onSessionExtendResponse",(e,t)=>{const{id:n}=t,r=em("session_extend",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,kS.isJsonRpcResult)(t)?this.events.emit(em("session_extend",n),{}):(0,kS.isJsonRpcError)(t)&&this.events.emit(em("session_extend",n),{error:t.error})}),$T(this,"onSessionPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(Qg){await this.sendError({id:n,topic:e,error:Qg}),this.client.logger.error(Qg)}}),$T(this,"onSessionPingResponse",(e,t)=>{const{id:n}=t,r=em("session_ping",n);setTimeout(()=>{if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners 2176"));(0,kS.isJsonRpcResult)(t)?this.events.emit(em("session_ping",n),{}):(0,kS.isJsonRpcError)(t)&&this.events.emit(em("session_ping",n),{error:t.error})},500)}),$T(this,"onSessionDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(zS,async()=>{t(await this.deleteSession({topic:e,id:n}))})}),this.sendResult({id:n,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:$A("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(Qg){this.client.logger.error(Qg)}}),$T(this,"onSessionRequest",async e=>{var t,n,r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest(ZT({topic:i},u));const e=this.client.session.get(i),s={id:l,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:uA(JSON.stringify((0,kS.formatJsonRpcRequest)("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===GS.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(h){await this.sendError({id:l,topic:i,error:h}),this.client.logger.error(h)}}),$T(this,"onSessionRequestResponse",(e,t)=>{const{id:n}=t,r=em("session_request",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,kS.isJsonRpcResult)(t)?this.events.emit(em("session_request",n),{result:t.result}):(0,kS.isJsonRpcError)(t)&&this.events.emit(em("session_request",n),{error:t.error})}),$T(this,"onSessionEventRequest",async(e,t)=>{const{id:n,params:r}=t;try{const t="".concat(e,"_session_event_").concat(r.event.name),i=Ex.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info("Discarding out of sync request - ".concat(n));this.isValidEmit(ZT({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),Ex.set(t,n)}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}}),$T(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,kS.isJsonRpcResult)(t)?this.events.emit(em("session_request",n),{result:t.result}):(0,kS.isJsonRpcError)(t)&&this.events.emit(em("session_request",n),{error:t.error})}),$T(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=r.params,l=await this.getVerifyContext({attestationId:i,hash:uA(JSON.stringify(r)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:n,id:r.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:o}),o===GS.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:l})}catch(a){this.client.logger.error(a);const e=r.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(r.params.requester.metadata,o),s={type:1,receiverPublicKey:e,senderPublicKey:t};await this.sendError({id:r.id,topic:n,error:a,encodeOpts:s,rpcOpts:UT.wc_sessionAuthenticate.autoReject,appLink:i})}}),$T(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),$T(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=MT,this.processSessionRequestQueue()},(0,Hd.toMiliseconds)(this.requestQueueDelay))}),$T(this,"cleanupPendingSentRequestsForTopic",e=>{let{topic:t,error:n}=e;const r=this.client.core.history.pending;r.length>0&&r.filter(e=>e.topic===t&&"wc_sessionRequest"===e.request.method).forEach(e=>{const t=em("session_request",e.request.id);if(0===this.events.listenerCount(t))throw new Error("emitting ".concat(t," without any listeners"));this.events.emit(em("session_request",e.request.id),{error:n})})}),$T(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===DT)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}else this.client.logger.info("session request queue is empty.")}),$T(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},"Skipping emitting `session_request` event for duplicate request. id: ".concat(e.id)):(this.sessionRequestQueue.state=DT,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),$T(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,kS.formatJsonRpcRequest)("wc_sessionPropose",XT(ZT({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),$T(this,"isValidConnect",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(e)));throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s,relays:o}=e;if(nx(t)||await this.isValidPairingTopic(t),!function(e,t){let n=!1;return t&&!e?n=!0:e&&ex(e)&&e.length&&e.forEach(e=>{n=hx(e)}),n}(o,!0)){const{message:e}=XA("MISSING_OR_INVALID","connect() relays: ".concat(o));throw new Error(e)}if(n&&!nx(n)&&0!==tx(n)){const e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(r&&!nx(r)&&0!==tx(r)&&this.validateNamespaces(r,"optionalNamespaces"),i&&!nx(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!nx(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw new Error("Scoped properties must be a subset of required/optional namespaces, received: ".concat(JSON.stringify(s),", required/optional namespaces: ").concat(JSON.stringify(e)))}}),$T(this,"validateNamespaces",(e,t)=>{const n=function(e,t,n){let r=null;if(e&&tx(e)){const i=lx(e,t);i&&(r=i);const s=ax(e,t,n);s&&(r=s)}else r=XA("MISSING_OR_INVALID","".concat(t,", ").concat(n," should be an object with data"));return r}(e,"connect()",t);if(n)throw new Error(n.message)}),$T(this,"isValidApprove",async e=>{if(!dx(e))throw new Error(XA("MISSING_OR_INVALID","approve() params: ".concat(e)).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=ux(n,"approve()");if(a)throw new Error(a.message);const c=yx(o.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!rx(r,!0)){const{message:e}=XA("MISSING_OR_INVALID","approve() relayProtocol: ".concat(r));throw new Error(e)}if(i&&!nx(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!nx(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw new Error("Scoped properties must be a subset of approved namespaces, received: ".concat(JSON.stringify(s),", approved namespaces: ").concat(Array.from(e).join(", ")))}}),$T(this,"isValidReject",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","reject() params: ".concat(e));throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!ix(e.code,!1)||!e.message||!rx(e.message,!1))}(n)){const{message:e}=XA("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(n)));throw new Error(e)}}),$T(this,"isValidSessionSettleRequest",e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e));throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!hx(t)){const{message:e}=XA("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let n=null;return rx(null===e||void 0===e?void 0:e.publicKey,!1)||(n=XA("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),n}(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=ux(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if($y(i)){const{message:e}=XA("EXPIRED","onSessionSettleRequest()");throw new Error(e)}}),$T(this,"isValidUpdate",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","update() params: ".concat(e));throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=ux(n,"update()");if(i)throw new Error(i.message);const s=yx(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)}),$T(this,"isValidExtend",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","extend() params: ".concat(e));throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),$T(this,"isValidRequest",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","request() params: ".concat(e));throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!fx(s,r)){const{message:e}=XA("MISSING_OR_INVALID","request() chainId: ".concat(r));throw new Error(e)}if(!function(e){return!(nx(e)||!rx(e.method,!1))}(n)){const{message:e}=XA("MISSING_OR_INVALID","request() ".concat(JSON.stringify(n)));throw new Error(e)}if(!px(s,r,n.method)){const{message:e}=XA("MISSING_OR_INVALID","request() method: ".concat(n.method));throw new Error(e)}if(i&&!function(e,t){return ix(e,!1)&&e<=t.max&&e>=t.min}(i,jT)){const{message:e}=XA("MISSING_OR_INVALID","request() expiry: ".concat(i,". Expiry must be a number (in seconds) between ").concat(jT.min," and ").concat(jT.max));throw new Error(e)}}),$T(this,"isValidRespond",async e=>{var t;if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","respond() params: ".concat(e));throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(s){throw null!=(t=null===e||void 0===e?void 0:e.response)&&t.id&&this.cleanupAfterResponse(e),s}if(!function(e){return!(nx(e)||nx(e.result)&&nx(e.error)||!ix(e.id,!1)||!rx(e.jsonrpc,!1))}(r)){const{message:e}=XA("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(r)));throw new Error(e)}const i=this.client.pendingRequest.get(r.id);if(i.topic!==n){const{message:e}=XA("MISMATCHED_TOPIC","Request response topic mismatch. reqId: ".concat(r.id,", expected topic: ").concat(i.topic,", received topic: ").concat(n));throw new Error(e)}}),$T(this,"isValidPing",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),$T(this,"isValidEmit",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","emit() params: ".concat(e));throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!fx(i,r)){const{message:e}=XA("MISSING_OR_INVALID","emit() chainId: ".concat(r));throw new Error(e)}if(!function(e){return!(nx(e)||!rx(e.name,!1))}(n)){const{message:e}=XA("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw new Error(e)}if(!gx(i,r,n.name)){const{message:e}=XA("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw new Error(e)}}),$T(this,"isValidDisconnect",async e=>{if(!dx(e)){const{message:t}=XA("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),$T(this,"isValidAuthenticate",e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!rx(n,!1))throw new Error("uri is required parameter");if(!rx(r,!1))throw new Error("domain is required parameter");if(!rx(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map(e=>by(e).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=by(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),$T(this,"getVerifyContext",async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||gk,validation:"UNKNOWN",origin:i.url||""}};try{if(s===GS.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.warn(a)}return this.client.logger.debug("Verify context: ".concat(JSON.stringify(o))),o}),$T(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((n,r)=>{if(null==n){const{message:i}=XA("MISSING_OR_INVALID","".concat(t," must contain an existing value for each key. Received: ").concat(n," for key ").concat(Object.keys(e)[r]));throw new Error(i)}})}),$T(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),$T(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}}),$T(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=XA("MISSING_OR_INVALID","Record was recently deleted - ".concat(t,": ").concat(e));throw new Error(n)}}),$T(this,"isLinkModeEnabled",(e,t)=>{var n,r,i,s,o,a,c,l,u;return!(!e||t!==GS.link_mode)&&(!0===(null==(r=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:r.linkMode)&&void 0!==(null==(s=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:s.universal)&&""!==(null==(a=null==(o=this.client.metadata)?void 0:o.redirect)?void 0:a.universal)&&void 0!==(null==(c=null===e||void 0===e?void 0:e.redirect)?void 0:c.universal)&&""!==(null==(l=null===e||void 0===e?void 0:e.redirect)?void 0:l.universal)&&!0===(null==(u=null===e||void 0===e?void 0:e.redirect)?void 0:u.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==global?void 0:global.Linking)<"u")}),$T(this,"getAppLinkIfEnabled",(e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=null===e||void 0===e?void 0:e.redirect)?void 0:n.universal:void 0}),$T(this,"handleLinkModeMessage",e=>{let{url:t}=e;if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const n=rm(t,"topic")||"",r=decodeURIComponent(rm(t,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:GS.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:r,sessionExists:i})}),$T(this,"registerLinkModeListeners",async()=>{var e;if(sm()||jy()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==global?void 0:global.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),$T(this,"getTVFParams",(e,t,n)=>{var r,i,s;if(null==(r=t.request)||!r.method)return{};const o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{const e=this.extractTxHashesFromResult(t.request,n);o.txHashes=e,o.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(a){this.client.logger.warn(a,"Error getting TVF params")}return o}),$T(this,"isValidContractData",e=>{var t;if(!e)return!1;try{const n=(null===e||void 0===e?void 0:e.data)||(null==(t=null===e||void 0===e?void 0:e[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0}catch(n){}return!1}),$T(this,"extractTxHashesFromResult",(t,n)=>{var r;try{if(!n)return[];const i=t.method,s=FT[i];if("sui_signTransaction"===i)return[tb(n.transactionBytes)];if("near_signTransaction"===i)return[nb(n)];if("near_signTransactions"===i)return n.map(e=>nb(e));if("xrpl_signTransactionFor"===i||"xrpl_signTransaction"===i)return[null==(r=n.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===i)return[Sx({transaction:t.params.transactionPayload,signature:n.signature})];if("algo_signTxn"===i)return ex(n)?n.map(e=>rb(e)):[rb(n)];if("cosmos_signDirect"===i)return[sb(n)];if("wallet_sendCalls"===i)return function(t){var n,r;const i=[];try{if("string"==typeof t)return i.push(t),i;if("object"!=typeof t)return i;null!=t&&t.id&&i.push(t.id);const e=null==(r=null==(n=null===t||void 0===t?void 0:t.capabilities)?void 0:n.caip345)?void 0:r.transactionHashes;e&&i.push(...e)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return i}(n);if("string"==typeof n)return[n];const o=n[s.key];if(ex(o))return"solana_signAllTransactions"===i?o.map(e=>function(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(e,"base64").slice(1,65);return jg.A.encode(s)}(e)):o;if("string"==typeof o)return[o]}catch(Qg){this.client.logger.warn(Qg,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,i]of Object.entries(n))for(const t of i)try{await this.onProviderMessageEvent({topic:r,message:t,publishedAt:Date.now()})}catch(e){this.client.logger.warn("Error processing pending message event for topic: ".concat(r,", message: ").concat(t))}}catch(t){this.client.logger.warn(t,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=XA("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(LS,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(qT)?this.client.auth.authKeys.get(qT):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s,encoding:i===GS.link_mode?oA:sA});(0,kS.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:uA(n)})):(0,kS.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,n)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(dk,async e=>{const{topic:t,id:n}=Zy(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,XA("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,XA("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))})}registerPairingEvents(){this.client.core.pairing.events.on(nk,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ik,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!rx(e,!1)){const{message:t}=XA("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=XA("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if($y(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=XA("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}}async isValidSessionTopic(e){if(!rx(e,!1)){const{message:t}=XA("MISSING_OR_INVALID","session topic should be a string: ".concat(e));throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=XA("NO_MATCHING_KEY","session topic doesn't exist: ".concat(e));throw new Error(t)}if($y(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=XA("EXPIRED","session topic: ".concat(e));throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=XA("MISSING_OR_INVALID","session topic does not exist in keychain: ".concat(e));throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(rx(e,!1)){const{message:t}=XA("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(e));throw new Error(t)}{const{message:t}=XA("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(e));throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=XA("MISSING_OR_INVALID","proposal id should be a number: ".concat(e));throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=XA("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(e));throw new Error(t)}if($y(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=XA("EXPIRED","proposal id: ".concat(e));throw new Error(t)}}}class tC extends QP{constructor(e,t){super(e,t,"proposal",CT),this.core=e,this.logger=t}}class nC extends QP{constructor(e,t){super(e,t,"session",CT),this.core=e,this.logger=t}}class rC extends QP{constructor(e,t){super(e,t,"request",CT,e=>e.id),this.core=e,this.logger=t}}class iC extends QP{constructor(e,t){super(e,t,"authKeys",HT,()=>qT),this.core=e,this.logger=t}}class sC extends QP{constructor(e,t){super(e,t,"pairingTopics",HT),this.core=e,this.logger=t}}class oC extends QP{constructor(e,t){super(e,t,"requests",HT,e=>e.id),this.core=e,this.logger=t}}var aC=Object.defineProperty,cC=(e,t,n)=>((e,t,n)=>t in e?aC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class lC{constructor(e,t){this.core=e,this.logger=t,cC(this,"authKeys"),cC(this,"pairingTopics"),cC(this,"requests"),this.authKeys=new iC(this.core,this.logger),this.pairingTopics=new sC(this.core,this.logger),this.requests=new oC(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var uC=Object.defineProperty,hC=(e,t,n)=>((e,t,n)=>t in e?uC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class dC extends AS{constructor(e){super(e),hC(this,"protocol","wc"),hC(this,"version",2),hC(this,"name",NT),hC(this,"metadata"),hC(this,"core"),hC(this,"logger"),hC(this,"events",new Dd.EventEmitter),hC(this,"engine"),hC(this,"session"),hC(this,"proposal"),hC(this,"pendingRequest"),hC(this,"auth"),hC(this,"signConfig"),hC(this,"on",(e,t)=>this.events.on(e,t)),hC(this,"once",(e,t)=>this.events.once(e,t)),hC(this,"off",(e,t)=>this.events.off(e,t)),hC(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),hC(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),hC(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"update",async e=>{try{return await this.engine.update(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"request",async e=>{try{return await this.engine.request(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"find",e=>{try{return this.engine.find(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),hC(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(Qg){throw this.logger.error(Qg.message),Qg}}),hC(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),hC(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(Yg){throw this.logger.error(Yg.message),Yg}}),this.name=(null===e||void 0===e?void 0:e.name)||NT,this.metadata=zy(null===e||void 0===e?void 0:e.metadata),this.signConfig=null===e||void 0===e?void 0:e.signConfig;const t=kx({logger:(null===e||void 0===e?void 0:e.logger)||RT,name:this.name});this.logger=t,this.core=(null===e||void 0===e?void 0:e.core)||new IT(e),this.session=new nC(this.core,this.logger),this.proposal=new tC(this.core,this.logger),this.pendingRequest=new rC(this.core,this.logger),this.engine=new eC(this),this.auth=new lC(this.core,this.logger)}static async init(e){const t=new dC(e);return await t.initialize(),t}get context(){return PT(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const fC=dC;var pC=n(6526);function gC(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function yC(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function mC(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const wC="[object RegExp]",bC="[object String]",vC="[object Number]",EC="[object Boolean]",AC="[object Arguments]",xC="[object Symbol]",SC="[object Date]",kC="[object Map]",IC="[object Set]",OC="[object Array]",PC="[object ArrayBuffer]",TC="[object Object]",CC="[object DataView]",NC="[object Uint8Array]",RC="[object Uint8ClampedArray]",_C="[object Uint16Array]",BC="[object Uint32Array]",LC="[object Int8Array]",UC="[object Int16Array]",jC="[object Int32Array]",MC="[object Float32Array]",DC="[object Float64Array]";function FC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const s=null===i||void 0===i?void 0:i(e,t,n,r);if(null!=s)return s;if(gC(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=zC(e[s],s,n,r,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[s,o]of e)t.set(s,zC(o,s,n,r,i));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const s of e)t.add(zC(s,void 0,n,r,i));return t}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(FC(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=zC(e[s],s,n,r,i);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),HC(t,e,n,r,i),t}if(typeof File<"u"&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),HC(t,e,n,r,i),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),HC(t,e,n,r,i),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,HC(t,e,n,r,i),t}if("object"==typeof e&&function(e){switch(mC(e)){case AC:case OC:case PC:case CC:case EC:case SC:case MC:case DC:case LC:case UC:case jC:case kC:case vC:case TC:case wC:case IC:case bC:case xC:case NC:case RC:case _C:case BC:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),HC(t,e,n,r,i),t}return e}function HC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...yC(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=zC(t[a],a,n,r,i))}}function qC(e,t){return function(e,t){return zC(e,void 0,e,new Map,t)}(e,(n,r,i,s)=>{const o=null===t||void 0===t?void 0:t(n,r,i,s);if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case vC:case bC:case EC:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return HC(t,e),t}case AC:{const t={};return HC(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}function VC(e){return qC(e)}function WC(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===mC(e)}function KC(e){return"object"==typeof e&&null!==e}function GC(){}function QC(e){return FC(e)}function JC(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];return!(null==n||null===(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))||void 0===t||!t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function YC(e,t,n,r){if(gC(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(r.has(t))return function(e){if(gC(e))return e;if(Array.isArray(e)||FC(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const t=new n(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const t=new n(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){const n=Object.create(t);return Object.assign(n,e)}return e}(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++){var i;t[e]=null!==(i=t[e])&&void 0!==i?i:void 0}}const s=[...Object.keys(t),...yC(t)];for(let o=0;o<s.length;o++){const i=s[o];let a=t[i],c=e[i];if(WC(a)&&(a=(0,Ee.A)({},a)),WC(c)&&(c=(0,Ee.A)({},c)),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=VC(a)),Array.isArray(a))if("object"==typeof c&&null!=c){const e=[],t=Reflect.ownKeys(c);for(let n=0;n<t.length;n++){const r=t[n];e[r]=c[r]}c=e}else c=[];const l=n(c,a,i,e,t,r);null!=l?e[i]=l:Array.isArray(a)||KC(c)&&KC(a)?e[i]=YC(c,a,n,r):null==c&&JC(a)?e[i]=YC({},a,n,r):null==c&&QC(a)?e[i]=VC(a):(void 0===c||void 0!==a)&&(e[i]=a)}return e}function ZC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.slice(0,-1),s=n[n.length-1];let o=e;for(let a=0;a<i.length;a++)o=YC(o,i[a],s,new Map);return o}(e,...n,GC)}const XC="error",$C="universal_provider",eN="".concat("wc","@2:").concat($C,":"),tN="https://rpc.walletconnect.org/v1/",nN="generic",rN="".concat(tN,"bundler"),iN="call_status",sN="default_chain_changed";var oN=Object.defineProperty,aN=Object.defineProperties,cN=Object.getOwnPropertyDescriptors,lN=Object.getOwnPropertySymbols,uN=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable,dN=(e,t,n)=>t in e?oN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fN=(e,t)=>{for(var n in t||(t={}))uN.call(t,n)&&dN(e,n,t[n]);if(lN)for(var n of lN(t))hN.call(t,n)&&dN(e,n,t[n]);return e},pN=(e,t)=>aN(e,cN(t));function gN(e,t,n){var r;const i=by(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||"".concat(tN,"?chainId=").concat(i.namespace,":").concat(i.reference,"&projectId=").concat(n)}function yN(e){return e.map(e=>"".concat(e.split(":")[0],":").concat(e.split(":")[1]))}function mN(e){return Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;var r,i;return(null==(r=null===n||void 0===n?void 0:n.chains)?void 0:r.length)&&(null==(i=null===n||void 0===n?void 0:n.chains)?void 0:i.length)>0}))}function wN(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ZC(mN(bN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),mN(bN(e)))}function bN(e){var t,n,r,i,s;const o={};if(!tx(e))return o;for(const[a,c]of Object.entries(e)){const e=KA(a)?[a]:c.chains,l=c.methods||[],u=c.events||[],h=c.rpcMap||{},d=GA(a);o[d]=pN(fN(fN({},o[d]),c),{chains:tm(e,null==(t=o[d])?void 0:t.chains),methods:tm(l,null==(n=o[d])?void 0:n.methods),events:tm(u,null==(r=o[d])?void 0:r.events)}),(tx(h)||tx((null==(i=o[d])?void 0:i.rpcMap)||{}))&&(o[d].rpcMap=fN(fN({},h),null==(s=o[d])?void 0:s.rpcMap))}return o}function vN(e){return e.includes(":")?e.split(":")[2]:e}function EN(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],s=r.accounts||[],o=KA(n)?[n]:r.chains?r.chains:yN(r.accounts);t[n]={chains:o,methods:e,events:i,accounts:s}}return t}function AN(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const xN={},SN=e=>xN[e],kN=(e,t)=>{xN[e]=t};var IN=Object.defineProperty,ON=Object.getOwnPropertySymbols,PN=Object.prototype.hasOwnProperty,TN=Object.prototype.propertyIsEnumerable,CN=(e,t,n)=>t in e?IN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NN=(e,t)=>{for(var n in t||(t={}))PN.call(t,n)&&CN(e,n,t[n]);if(ON)for(var n of ON(t))TN.call(t,n)&&CN(e,n,t[n]);return e};const RN="eip155",_N=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],BN=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,LN=e=>e&&e.startsWith("0x")?e:"0x".concat(BigInt(e).toString(16)),UN=e=>Object.keys(e).filter(e=>_N.includes(e)).reduce((t,n)=>(t[n]=jN(e[n]),t),{}),jN=e=>"string"==typeof e&&function(e){try{const t=JSON.parse(e);return"object"==typeof t&&null!==t&&!Array.isArray(t)}catch(t){return!1}}(e)?JSON.parse(e):e;var MN=Object.defineProperty,DN=(e,t,n)=>((e,t,n)=>t in e?MN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);let FN;class zN{constructor(e){DN(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return FN||(FN=new zN(e)),FN}}var HN=Object.defineProperty,qN=Object.defineProperties,VN=Object.getOwnPropertyDescriptors,WN=Object.getOwnPropertySymbols,KN=Object.prototype.hasOwnProperty,GN=Object.prototype.propertyIsEnumerable,QN=(e,t,n)=>t in e?HN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;async function JN(e,t){const n=by(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(e=>async function(e,t,n){return await n(parseInt(e)).request((0,kS.formatJsonRpcRequest)("eth_getTransactionReceipt",[t]))}(n.reference,e,t))),s=i.filter(e=>"fulfilled"===e.status).map(e=>e.value).filter(e=>e);i.filter(e=>"rejected"===e.status).forEach(e=>console.warn("Failed to fetch transaction receipt:",e.reason));const o=!s.length||s.some(e=>!e),a=s.every(e=>"0x1"===(null===e||void 0===e?void 0:e.status)),c=s.every(e=>"0x0"===(null===e||void 0===e?void 0:e.status)),l=s.some(e=>"0x0"===(null===e||void 0===e?void 0:e.status));let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:s,status:u}}async function YN(e){let{sendCalls:t,storage:n}=e;const r=await n.getItem(iN);await n.setItem(iN,((e,t)=>qN(e,VN(t)))(((e,t)=>{for(var n in t||(t={}))KN.call(t,n)&&QN(e,n,t[n]);if(WN)for(var n of WN(t))GN.call(t,n)&&QN(e,n,t[n]);return e})({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:Xy(86400)}}))}async function ZN(e){let{resultId:t,storage:n}=e;const r=await n.getItem(iN),i=null===r||void 0===r?void 0:r[t];if(i&&!$y(i.expiry))return i;await async function(e){let{resultId:t,storage:n}=e;const r=await n.getItem(iN);if(r){delete r[t],await n.setItem(iN,r);for(const e in r)$y(r[e].expiry)&&delete r[e];await n.setItem(iN,r)}}({resultId:t,storage:n})}var XN=Object.defineProperty,$N=Object.defineProperties,eR=Object.getOwnPropertyDescriptors,tR=Object.getOwnPropertySymbols,nR=Object.prototype.hasOwnProperty,rR=Object.prototype.propertyIsEnumerable,iR=(e,t,n)=>t in e?XN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sR=(e,t)=>{for(var n in t||(t={}))nR.call(t,n)&&iR(e,n,t[n]);if(tR)for(var n of tR(t))rR.call(t,n)&&iR(e,n,t[n]);return e},oR=(e,t)=>$N(e,eR(t)),aR=(e,t,n)=>iR(e,"symbol"!=typeof t?t+"":t,n);class cR{constructor(e){aR(this,"name","eip155"),aR(this,"client"),aR(this,"chainId"),aR(this,"namespace"),aR(this,"httpProviders"),aR(this,"events"),aR(this,"storage"),this.namespace=e.namespace,this.events=SN("events"),this.client=SN("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=zN.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(sN,{currentCaipChainId:"".concat(this.name,":").concat(e),previousCaipChainId:"".concat(this.name,":").concat(n)})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||gN("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new SS.F(new pC.V(n,SN("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;const r=parseInt(function(e){return e.includes(":")?e.split(":")[1]:e}(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(e){const t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=oR(sR({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:"0x".concat(r);const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain("".concat(i));else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error("Failed to switch to chain 'eip155:".concat(i,"'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method."));await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain("".concat(i))}return null}isChainApproved(e){return this.namespace.chains.includes("".concat(this.name,":").concat(e))}async getCapabilities(e){var t,n,r,i,s;const o=null==(n=null==(t=e.request)?void 0:t.params)?void 0:n[0],a=(null==(i=null==(r=e.request)?void 0:r.params)?void 0:i[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),l=(null==(s=null===c||void 0===c?void 0:c.sessionProperties)?void 0:s.capabilities)||{},u="".concat(o).concat(a.join(",")),h=null===l||void 0===l?void 0:l[u];if(h)return h;let d;try{d=((e,t,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=e,s={};if(!tx(i)&&!tx(r))return;const o=UN(r);for(const a of n){const e=BN(a);if(!e)continue;s[LN(e)]=o;const n=null===i||void 0===i?void 0:i["".concat(RN,":").concat(e)];if(n){const r=null===n||void 0===n?void 0:n["".concat(RN,":").concat(e,":").concat(t)];s[LN(e)]=NN(NN({},s[LN(e)]),UN(r||n))}}for(const[a,c]of Object.entries(s))0===Object.keys(c).length&&delete s[a];return Object.keys(s).length>0?s:void 0})(c,o,a)}catch(p){console.warn("Failed to extract capabilities from session",p)}if(d)return d;const f=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:oR(sR({},c.sessionProperties||{}),{capabilities:oR(sR({},l||{}),{[u]:f})})})}catch(p){console.warn("Failed to update session with capabilities",p)}return f}async getCallStatus(e){var t,n,r;const i=this.client.session.get(e.topic),s=null==(t=i.sessionProperties)?void 0:t.bundler_name;if(s){const t=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(t,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,t)}}const o=null==(n=i.sessionProperties)?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(yy){console.warn("Failed to fetch call status from custom bundler",yy,o)}const a=await ZN({resultId:null==(r=e.request.params)?void 0:r[0],storage:this.storage});if(a)try{return await JN(a,this.getHttpProvider.bind(this))}catch(yy){console.warn("Failed to fetch call status from stored send calls",yy,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var n;const r=new URL(e),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,kS.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(n=t.request.params)?void 0:n[0]]))});if(!i.ok)throw new Error("Failed to fetch user operation receipt - ".concat(i.status));return await i.json()}getBundlerUrl(e,t){return"".concat(rN,"?projectId=").concat(this.client.core.projectId,"&chainId=").concat(e,"&bundler=").concat(t)}async sendCalls(e){var t,n,r;const i=await this.client.request(e),s=null==(t=e.request.params)?void 0:t[0],o=null===i||void 0===i?void 0:i.id,a=(null===i||void 0===i?void 0:i.capabilities)||{},c=null==(n=null===a||void 0===a?void 0:a.caip345)?void 0:n.caip2,l=null==(r=null===a||void 0===a?void 0:a.caip345)?void 0:r.transactionHashes;return!o||!c||!(null!=l&&l.length)||await YN({sendCalls:{request:s,result:i},storage:this.storage}),i}}var lR=Object.defineProperty,uR=(e,t,n)=>((e,t,n)=>t in e?lR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class hR{constructor(e){uR(this,"name",nN),uR(this,"client"),uR(this,"httpProviders"),uR(this,"events"),uR(this,"namespace"),uR(this,"chainId"),this.namespace=e.namespace,this.events=SN("events"),this.client=SN("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);const n=this.chainId;this.chainId=e,this.events.emit(sN,{currentCaipChainId:"".concat(this.name,":").concat(e),previousCaipChainId:"".concat(this.name,":").concat(n)})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return by(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;const n={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{var t,r;const i=by(e),s=null==(r=null==(t=this.namespace)?void 0:t.rpcMap)?void 0:r["".concat(i.namespace,":").concat(i.reference)];n[i.reference]=this.createHttpProvider(e,s)}),n}getHttpProvider(e){const t=by(e).reference,n=this.httpProviders[t];if(typeof n>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return n}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||gN(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new SS.F(new pC.A(n,SN("disableProviderPing")))}}var dR=Object.defineProperty,fR=Object.defineProperties,pR=Object.getOwnPropertyDescriptors,gR=Object.getOwnPropertySymbols,yR=Object.prototype.hasOwnProperty,mR=Object.prototype.propertyIsEnumerable,wR=(e,t,n)=>t in e?dR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bR=(e,t)=>{for(var n in t||(t={}))yR.call(t,n)&&wR(e,n,t[n]);if(gR)for(var n of gR(t))mR.call(t,n)&&wR(e,n,t[n]);return e},vR=(e,t)=>fR(e,pR(t)),ER=(e,t,n)=>wR(e,"symbol"!=typeof t?t+"":t,n);class AR{constructor(e){var t,n;ER(this,"client"),ER(this,"namespaces"),ER(this,"optionalNamespaces"),ER(this,"sessionProperties"),ER(this,"scopedProperties"),ER(this,"events",new Dd),ER(this,"rpcProviders",{}),ER(this,"session"),ER(this,"providerOpts"),ER(this,"logger"),ER(this,"uri"),ER(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=kx({logger:null!=(t=e.logger)?t:XC,name:null!=(n=this.providerOpts.name)?n:$C}),this.disableProviderPing=(null===e||void 0===e?void 0:e.disableProviderPing)||!1}static async init(e){const t=new AR(e);return await t.initialize(),t}async request(e,t,n){const[r,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:bR({},e),chainId:"".concat(r,":").concat(i),topic:this.session.topic,expiry:n})}sendAsync(e,t,n,r){const i=(new Date).getTime();this.request(e,n,r).then(e=>t(null,(0,kS.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:$A("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:r}=await this.client.authenticate(e,t);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();if(this.session=i.session,this.session){const e=EN(this.session.namespaces);this.namespaces=wN(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const r=await n();this.session=r;const i=EN(r.namespaces);return this.namespaces=wN(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(Qg){if(!/Please call connect/.test(Qg.message))throw Qg}}async cleanupPendingPairings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(!ex(t))return;for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info("Inactive pairings cleared: ".concat(t.length))}catch(Yg){this.logger.warn(Yg,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await fC.init({core:this.providerOpts.core,logger:this.providerOpts.logger||XC,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(Qg){throw this.logger.error(Qg,"Failed to get session"),new Error("The provided session: ".concat(null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic," doesn't exist in the Sign client"))}else{const e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(e=>GA(e)))];kN("client",this.client),kN("events",this.events),kN("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!n.length)return[];const r=[];return n.forEach(e=>{const n=t.namespaces[e].accounts;r.push(...n)}),r}(e,this.session);if(0===(null===t||void 0===t?void 0:t.length))return;const n=yN(t),r=wN(this.namespaces,this.optionalNamespaces),i=vR(bR({},r[e]),{accounts:t,chains:n});if("eip155"===e)this.rpcProviders[e]=new cR({namespace:i});else this.rpcProviders[e]=new hR({namespace:i})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:n}=e;n===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:n,topic:r}=e;if(r!==(null==(t=this.session)?void 0:t.topic))return;const{event:i}=n;if("accountsChanged"===i.name){const e=i.data;e&&ex(e)&&this.events.emit("accountsChanged",e.map(vN))}else if("chainChanged"===i.name){const e=n.chainId,t=n.event.data,r=GA(e),i=AN(e)!==AN(t)?"".concat(r,":").concat(AN(t)):e;this.onChainChanged({currentCaipChainId:i})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",e=>{let{topic:t,params:n}=e;var r,i;if(t!==(null==(r=this.session)?void 0:r.topic))return;const{namespaces:s}=n,o=null==(i=this.client)?void 0:i.session.get(t);this.session=vR(bR({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",vR(bR({},$A("USER_DISCONNECTED")),{data:e.topic})))}),this.on(sN,e=>{this.onChainChanged(vR(bR({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[nN]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:n={},sessionProperties:r,scopedProperties:i}=e;this.optionalNamespaces=wN(t,n),this.sessionProperties=r,this.scopedProperties=i}validateChain(e){const[t,n]=(null===e||void 0===e?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map(e=>GA(e)).includes(t))throw new Error("Namespace '".concat(t,"' is not configured. Please call connect() first with namespace config."));if(t&&n)return[t,n];const r=GA(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e){let{currentCaipChainId:t,previousCaipChainId:n,internal:r=!1}=e;if(!this.namespaces)return;const[i,s]=this.validateChain(t);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:t,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange(e){let{namespace:t,currentCaipChainId:n,previousCaipChainId:r}=e;var i,s;try{if(r===n)return;const e=null==(s=null==(i=this.session)?void 0:i.namespaces[t])?void 0:s.accounts;if(!e)return;const o=e.filter(e=>e.includes("".concat(n,":"))).map(vN);if(!ex(o))return;this.events.emit("accountsChanged",o)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,t){if(!this.namespaces)return;const n=this.namespaces[e]?e:"".concat(e,":").concat(t),r={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=t):this.namespaces[n]=r}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var n;const r=(null==(n=this.session)?void 0:n.topic)||"";await this.client.core.storage.setItem("".concat(eN,"/").concat(e).concat(r),t)}async getFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem("".concat(eN,"/").concat(e).concat(n))}async deleteFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem("".concat(eN,"/").concat(e).concat(n))}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const e of t)e.startsWith(eN)&&await this.client.core.storage.removeItem(e)}catch(Yg){this.logger.warn(Yg,"Failed to cleanup storage")}}}const xR=AR,SR="".concat("wc","@2:").concat("ethereum_provider",":"),kR=["eth_sendTransaction","personal_sign"],IR=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],OR=["chainChanged","accountsChanged"],PR=["chainChanged","accountsChanged","message","disconnect","connect"];var TR=Object.defineProperty,CR=Object.defineProperties,NR=Object.getOwnPropertyDescriptors,RR=Object.getOwnPropertySymbols,_R=Object.prototype.hasOwnProperty,BR=Object.prototype.propertyIsEnumerable,LR=(e,t,n)=>t in e?TR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UR=(e,t)=>{for(var n in t||(t={}))_R.call(t,n)&&LR(e,n,t[n]);if(RR)for(var n of RR(t))BR.call(t,n)&&LR(e,n,t[n]);return e},jR=(e,t)=>CR(e,NR(t)),MR=(e,t,n)=>LR(e,"symbol"!=typeof t?t+"":t,n);function DR(e){return Number(e[0].split(":")[1])}function FR(e){return"0x".concat(e.toString(16))}class zR{constructor(){MR(this,"events",new Dd.EventEmitter),MR(this,"namespace","eip155"),MR(this,"accounts",[]),MR(this,"signer"),MR(this,"chainId",1),MR(this,"modal"),MR(this,"rpc"),MR(this,"STORAGE_KEY",SR),MR(this,"on",(e,t)=>(this.events.on(e,t),this)),MR(this,"once",(e,t)=>(this.events.once(e,t),this)),MR(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),MR(this,"off",(e,t)=>(this.events.off(e,t),this)),MR(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const t=new zR;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,n){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),n)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:r}=function(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!ex(t))throw new Error("Invalid chains");const c={chains:t,methods:r||kR,events:s||OR,rpcMap:UR({},t.length?{[DR(t)]:a[DR(t)]}:{})},l=null===s||void 0===s?void 0:s.filter(e=>!OR.includes(e)),u=null===r||void 0===r?void 0:r.filter(e=>!kR.includes(e));if(!n&&!o&&!i&&(null==l||!l.length)&&(null==u||!u.length))return{required:t.length?c:void 0};const h=(null===l||void 0===l?void 0:l.length)&&(null===u||void 0===u?void 0:u.length)||!n,d={chains:[...new Set(h?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:IR))],events:[...new Set(c.events.concat(null!=o&&o.length?o:PR))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?d:void 0}}(this.rpc);try{const t=await new Promise(async(t,i)=>{var s,o;this.rpc.showQrModal&&(null==(s=this.modal)||s.open(),null==(o=this.modal)||o.subscribeState(e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}));const a=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(jR(UR({namespaces:UR({},n&&{[this.namespace]:n})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:null===e||void 0===e?void 0:e.pairingTopic,scopedProperties:a})).then(e=>{t(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),i(new Error(e.message))})});if(!t)return;const i=vy(t.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:FR(this.chainId)})}catch(ey){throw this.signer.logger.error(ey),ey}finally{null==(t=this.modal)||t.close()}}async authenticate(e,t){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:null===e||void 0===e?void 0:e.chains});try{const n=await new Promise(async(n,r)=>{var i,s;this.rpc.showQrModal&&(null==(i=this.modal)||i.open(),null==(s=this.modal)||s.subscribeState(e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(jR(UR({},e),{chains:this.rpc.chains}),t).then(e=>{n(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),r(new Error(e.message))})}),r=n.session;if(r){const e=vy(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:FR(this.chainId)})}return n}catch(Qg){throw this.signer.logger.error(Qg),Qg}finally{null==(n=this.modal)||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:n}=t;"accountsChanged"===n.name?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===n.name?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",FR(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",jR(UR({},$A("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith("".concat(this.namespace,":"))}formatChainId(e){return"".concat(this.namespace,":").concat(e)}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",FR(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,r]=e.split(":");return{chainId:"".concat(t,":").concat(n),address:r}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const r=null!=(t=null===e||void 0===e?void 0:e.chains)?t:[],i=null!=(n=null===e||void 0===e?void 0:e.optionalChains)?n:[],s=r.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=r.length?(null===e||void 0===e?void 0:e.methods)||kR:[],a=r.length?(null===e||void 0===e?void 0:e.events)||OR:[],c=(null===e||void 0===e?void 0:e.optionalMethods)||[],l=(null===e||void 0===e?void 0:e.optionalEvents)||[],u=(null===e||void 0===e?void 0:e.rpcMap)||this.buildRpcMap(s,e.projectId),h=(null===e||void 0===e?void 0:e.qrModalOptions)||void 0;return{chains:null===r||void 0===r?void 0:r.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:o,events:a,optionalMethods:c,optionalEvents:l,rpcMap:u,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach(e=>{n[e]=this.getRpcUrl(e,t)}),n}async initialize(e){var t;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?DR(this.rpc.chains):DR(this.rpc.optionalChains),this.signer=await xR.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{const r=await(async()=>{const{createAppKit:e}=await n.e(4141).then(n.bind(n,4141));return e})(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return t_}),s=i(jR(UR({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect\xb7");e=r(jR(UR({},s),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:!0===(null==(t=this.rpc.qrModalOptions)?void 0:t.enableMobileFullScreen)}))}catch(Qg){throw console.warn(Qg),new Error("To use QR modal, please install @reown/appkit package")}if(e)try{this.modal=e}catch(Qg){throw this.signer.logger.error(Qg),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:r}=e;t&&ex(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=(null===r||void 0===r?void 0:r[e])||this.getRpcUrl(e)})),n&&ex(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=null===n||void 0===n?void 0:n.map(e=>this.formatChainId(e)),n.forEach(e=>{this.rpc.rpcMap[e]=(null===r||void 0===r?void 0:r[e])||this.getRpcUrl(e)}))}getRpcUrl(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||"".concat("https://rpc.walletconnect.org/v1/","?chainId=eip155:").concat(e,"&projectId=").concat(t||this.rpc.projectId)}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem("".concat(this.STORAGE_KEY,"/chainId")),t=this.session.namespaces["".concat(this.namespace,":").concat(e)]?this.session.namespaces["".concat(this.namespace,":").concat(e)]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:null===t||void 0===t?void 0:t.accounts),this.setAccounts(null===t||void 0===t?void 0:t.accounts)}catch(cv){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(cv),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem("".concat(this.STORAGE_KEY,"/chainId"),this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}const HR=zR;var qR=Object.defineProperty,VR=Object.defineProperties,WR=Object.getOwnPropertyDescriptors,KR=Object.getOwnPropertySymbols,GR=Object.prototype.hasOwnProperty,QR=Object.prototype.propertyIsEnumerable,JR=(e,t,n)=>t in e?qR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YR=(e,t)=>{for(var n in t||(t={}))GR.call(t,n)&&JR(e,n,t[n]);if(KR)for(var n of KR(t))QR.call(t,n)&&JR(e,n,t[n]);return e},ZR=(e,t)=>VR(e,WR(t));function XR(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const $R=e=>{const[t,n]=e.split(":");return e_({id:n,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function e_(e){return YR({formatters:void 0,fees:void 0,serializers:void 0},e)}var t_=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,n,r,i,s,o,a;const c=null==(t=e.chains)?void 0:t.map($R).filter(Boolean);if(0===c.length)throw new Error("At least one chain must be specified");const l=c.find(t=>{var n;return t.id===(null==(n=e.defaultChain)?void 0:n.id)}),u={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:XR(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:l,metadata:ZR(YR({},e.metadata),{name:(null==(n=e.metadata)?void 0:n.name)||"WalletConnect",description:(null==(r=e.metadata)?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(s=e.metadata)?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(o=e.mobileWallets)&&o.length||null!=(a=e.desktopWallets)&&a.length){const t=[...(e.mobileWallets||[]).map(e=>({id:e.id,name:e.name,links:e.links})),...(e.desktopWallets||[]).map(e=>({id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}}))],n=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],r=t.filter(e=>!n.includes(e.id));r.length&&(u.customWallets=r)}return u},defineChain:e_}),n_=n(579);const r_=(0,t.createContext)(void 0),i_=()=>{const e=(0,t.useContext)(r_);if(!e)throw new Error("useWallet must be used within a WalletProvider");return e},s_=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[s,o]=(0,t.useState)(null),[a,c]=(0,t.useState)(null),[l,u]=(0,t.useState)(null),[h,d]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),[m,w]=(0,t.useState)(null),[b,v]=(0,t.useState)(null),E=async(e,t)=>{try{const n=be(await t.getBalance(e));o(parseFloat(n).toFixed(4))}catch(n){console.error("Error fetching balance:",n)}},A=async()=>{if("undefined"===typeof window.ethereum)throw new Error("Please install MetaMask to use this dApp");const e=new Md(window.ethereum),t=await e.send("eth_requestAccounts",[]);if(0===t.length)throw new Error("No accounts found");const n=await e.getSigner(),r=await e.getNetwork();u(e),d(n),i(t[0]),c(Number(r.chainId)),w("metamask"),await E(t[0],e),localStorage.setItem("preferredWallet","metamask"),localStorage.removeItem("walletDisconnected")},x=async()=>{try{console.log("Starting WalletConnect connection...");const e="5e467db3e55d357493c846de13b399fc";if(!e)throw new Error("WalletConnect Project ID not configured. Please set REACT_APP_WALLETCONNECT_PROJECT_ID in your environment variables.");console.log("Initializing WalletConnect provider...");const t=await HR.init({projectId:e,chains:[1,137,56,43114,80002],showQrModal:!0,metadata:{name:"STR Domains Marketplace",description:"Decentralized marketplace for STR domains",url:window.location.origin,icons:["".concat(window.location.origin,"/logo192.png")]},relayUrl:"wss://relay.walletconnect.com",qrModalOptions:{themeMode:"light",themeVariables:{"--wcm-z-index":"1000"}}});console.log("WalletConnect provider initialized, enabling session..."),await t.enable(),console.log("WalletConnect session enabled, setting up ethers provider...");const n=new Md(t),r=await n.listAccounts();if(0===r.length)throw new Error("No accounts found");const s=await n.getSigner(),o=await n.getNetwork();console.log("WalletConnect connected:",{account:r[0].address,chainId:Number(o.chainId)}),u(n),d(s),i(r[0].address),c(Number(o.chainId)),w("walletconnect"),v(t),await E(r[0].address,n),localStorage.setItem("preferredWallet","walletconnect"),localStorage.removeItem("walletDisconnected"),console.log("WalletConnect connection completed successfully")}catch(g){var e;if(console.error("WalletConnect connection error:",g),null!==(e=g.message)&&void 0!==e&&e.includes("User rejected"))throw new Error("Connection cancelled by user");throw g}},S=async e=>{if("undefined"===typeof window.ethereum)throw new Error("MetaMask not detected");const t="0x".concat(e.toString(16));try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(n){if(4902!==n.code)throw n;await k(e)}},k=async e=>{if("undefined"===typeof window.ethereum)throw new Error("MetaMask not detected");"0x".concat(e.toString(16));const t=O(e);await window.ethereum.request({method:"wallet_addEthereumChain",params:[t]})},I=async e=>{if(!b)throw new Error("WalletConnect not connected");const t="0x".concat(e.toString(16));try{await b.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(s){var n,r,i;if(console.log("wallet_switchEthereumChain failed:",s),4902!==s.code)throw console.log("Network switch error:",s),null!==(n=s.message)&&void 0!==n&&n.includes("User rejected")||4001===s.code?new Error("Network switch was cancelled by user."):null!==(r=s.message)&&void 0!==r&&r.includes("not supported")||null!==(i=s.message)&&void 0!==i&&i.includes("unsupported")?new Error("Your wallet doesn't support automatic network switching. Please manually switch to Polygon Amoy (Chain ID: ".concat(e,") in your wallet app.")):new Error("Failed to switch network: ".concat(s.message||"Unknown error",". Please manually switch to Polygon Amoy (Chain ID: ").concat(e,") in your wallet app."));try{const t=O(e);await b.request({method:"wallet_addEthereumChain",params:[t]})}catch(o){throw console.log("wallet_addEthereumChain failed:",o),new Error("Network switching not supported by your wallet. Please manually switch to Polygon Amoy (Chain ID: ".concat(e,") in your wallet app."))}}},O=e=>{const t="0x".concat(e.toString(16));switch(e){case 80002:return{chainId:t,chainName:"Polygon Amoy Testnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://rpc-amoy.polygon.technology"],blockExplorerUrls:["https://amoy.polygonscan.com/"]};case 137:return{chainId:t,chainName:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com"],blockExplorerUrls:["https://polygonscan.com/"]};case 1:return{chainId:t,chainName:"Ethereum Mainnet",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3/"],blockExplorerUrls:["https://etherscan.io/"]};default:throw new Error("Unsupported network: ".concat(e))}},P=(0,t.useCallback)(async()=>{if(console.log("Disconnecting wallet:",m),b&&"walletconnect"===m)try{await b.disconnect()}catch(g){console.error("Error disconnecting WalletConnect:",g)}i(null),o(null),c(null),u(null),d(null),y(null),w(null),v(null),localStorage.setItem("walletDisconnected","true"),localStorage.removeItem("preferredWallet")},[b,m]);(0,t.useEffect)(()=>{const e=[];if("undefined"!==typeof window.ethereum&&"metamask"===m){var t,n,s,o;const a=e=>{console.log("MetaMask accounts changed:",e),0===e.length?P():e[0]!==r&&(i(e[0]),l&&E(e[0],l))},u=e=>{console.log("MetaMask chain changed:",e),c(parseInt(e,16)),window.location.reload()};null===(t=(n=window.ethereum).on)||void 0===t||t.call(n,"accountsChanged",a),null===(s=(o=window.ethereum).on)||void 0===s||s.call(o,"chainChanged",u),e.push(()=>{var e,t,n,r;"undefined"!==typeof window.ethereum&&(null===(e=(t=window.ethereum).removeListener)||void 0===e||e.call(t,"accountsChanged",a),null===(n=(r=window.ethereum).removeListener)||void 0===n||n.call(r,"chainChanged",u))})}if(b&&"walletconnect"===m){const t=e=>{console.log("WalletConnect accounts changed:",e),0===e.length?P():e[0]!==r&&(i(e[0]),l&&E(e[0],l))},n=e=>{console.log("WalletConnect chain changed:",e),c(e),window.location.reload()},s=()=>{console.log("WalletConnect disconnected"),P()},o=e=>{console.log("WalletConnect session updated:",e)};b.on("accountsChanged",t),b.on("chainChanged",n),b.on("disconnect",s),b.on("session_update",o),e.push(()=>{b.off("accountsChanged",t),b.off("chainChanged",n),b.off("disconnect",s),b.off("session_update",o)})}return()=>{e.forEach(e=>e())}},[r,l,m,b,P]),(0,t.useEffect)(()=>{const e=setTimeout(async()=>{if("true"===localStorage.getItem("walletDisconnected")||r)return;console.log("Attempting auto-connect...");const e=localStorage.getItem("preferredWallet"),t=e?[e,"metamask","walletconnect"]:["metamask","walletconnect"];for(const r of t){if("metamask"===r&&"undefined"!==typeof window.ethereum)try{console.log("Checking MetaMask connection...");const e=new Md(window.ethereum),t=await e.send("eth_accounts",[]);if(t.length>0){console.log("Auto-connecting MetaMask...");const n=await e.getSigner(),r=await e.getNetwork();return u(e),d(n),i(t[0]),c(Number(r.chainId)),w("metamask"),void await E(t[0],e)}}catch(n){console.error("Error checking MetaMask connection:",n)}if("walletconnect"===r)try{console.log("Checking WalletConnect session...");const e="5e467db3e55d357493c846de13b399fc";if(e){const t=await HR.init({projectId:e,chains:[1,137,56,43114,80002],showQrModal:!1,metadata:{name:"STR Domains Marketplace",description:"Decentralized marketplace for STR domains",url:window.location.origin,icons:["".concat(window.location.origin,"/logo192.png")]}});if(t.session){console.log("Auto-connecting WalletConnect...");const e=new Md(t),n=await e.listAccounts();if(n.length>0){const r=await e.getSigner(),s=await e.getNetwork();return u(e),d(r),i(n[0].address),c(Number(s.chainId)),w("walletconnect"),v(t),void await E(n[0].address,e)}}}}catch(n){console.error("Error checking WalletConnect connection:",n)}}console.log("No previous wallet connections found")},100);return()=>clearTimeout(e)},[]);const T={account:r,balance:s,chainId:a,provider:l,signer:h,connectWallet:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"metamask";p(!0),y(null);try{"metamask"===e?await A():"walletconnect"===e&&await x()}catch(t){console.error("Error connecting wallet:",t),y(t.message||"Failed to connect wallet")}finally{p(!1)}},disconnectWallet:P,switchNetwork:async e=>{if(console.log("switchNetwork called:",{targetChainId:e,walletType:m,account:r}),!m)throw new Error("No wallet connected");if("metamask"===m)console.log("Switching MetaMask network to:",e),await S(e);else{if("walletconnect"!==m)throw new Error("Unsupported wallet type: ".concat(m));console.log("Switching WalletConnect network to:",e),await I(e)}console.log("Network switch completed successfully")},isConnecting:f,error:g,walletType:m};return(0,n_.jsx)(r_.Provider,{value:T,children:n})},o_=()=>{const{account:e,balance:n,connectWallet:r,disconnectWallet:i,isConnecting:s,error:o,walletType:a}=i_(),[c,l]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),d=e=>"".concat(e.slice(0,6),"...").concat(e.slice(-4)),f=async e=>{h(!1),await r(e)},p=e=>{switch(e){case"metamask":return"MetaMask";case"walletconnect":return"WalletConnect";default:return"Wallet"}};return e?(0,n_.jsxs)("div",{className:"wallet-button-container",children:[(0,n_.jsxs)("div",{className:"wallet-info-wrapper",children:[(0,n_.jsxs)("button",{className:"wallet-connected-button",onClick:()=>l(!c),children:[(0,n_.jsxs)("span",{className:"wallet-balance",children:[n," ETH"]}),(0,n_.jsx)("span",{className:"wallet-address",children:d(e)}),(0,n_.jsx)("span",{className:"wallet-type",children:p(a)})]}),c&&(0,n_.jsxs)("div",{className:"wallet-dropdown",children:[(0,n_.jsxs)("div",{className:"dropdown-item",children:[(0,n_.jsx)("span",{className:"dropdown-label",children:"Address:"}),(0,n_.jsx)("span",{className:"dropdown-value",children:d(e)})]}),(0,n_.jsxs)("div",{className:"dropdown-item",children:[(0,n_.jsx)("span",{className:"dropdown-label",children:"Balance:"}),(0,n_.jsxs)("span",{className:"dropdown-value",children:[n," ETH"]})]}),(0,n_.jsxs)("div",{className:"dropdown-item",children:[(0,n_.jsx)("span",{className:"dropdown-label",children:"Wallet:"}),(0,n_.jsx)("span",{className:"dropdown-value",children:p(a)})]}),(0,n_.jsx)("button",{className:"disconnect-button",onClick:()=>{i(),l(!1)},children:"Disconnect"})]})]}),c&&(0,n_.jsx)("div",{className:"dropdown-overlay",onClick:()=>l(!1)})]}):(0,n_.jsxs)("div",{className:"wallet-button-container",children:[(0,n_.jsx)("button",{className:"wallet-connect-button",onClick:()=>h(!u),disabled:s,children:s?"Connecting...":"Connect Wallet"}),u&&(0,n_.jsxs)("div",{className:"wallet-options-dropdown",children:[(0,n_.jsxs)("button",{className:"wallet-option-button",onClick:()=>f("metamask"),disabled:s,children:[(0,n_.jsx)("span",{className:"wallet-icon",children:"\ud83e\udd8a"}),"MetaMask"]}),(0,n_.jsxs)("button",{className:"wallet-option-button",onClick:()=>f("walletconnect"),disabled:s,children:[(0,n_.jsx)("span",{className:"wallet-icon",children:"\ud83d\udd17"}),"WalletConnect"]})]}),o&&(0,n_.jsx)("div",{className:"wallet-error",children:o}),u&&(0,n_.jsx)("div",{className:"dropdown-overlay",onClick:()=>h(!1)})]})},a_=e=>{let{currentPage:n,onNavigate:r}=e;const[i,s]=(0,t.useState)(!1),o=e=>{r(e),s(!1)};return(0,n_.jsx)("header",{className:"header",children:(0,n_.jsxs)("div",{className:"header-container",children:[(0,n_.jsx)("div",{className:"header-logo",onClick:()=>o("home"),children:(0,n_.jsx)("h1",{children:"STR Domains"})}),(0,n_.jsx)("button",{className:"mobile-menu-toggle",onClick:()=>s(!i),children:i?"\u2715":"\u2630"}),(0,n_.jsxs)("nav",{className:"header-nav ".concat(i?"mobile-open":""),children:[(0,n_.jsx)("a",{className:"nav-link ".concat("home"===n?"active":""),onClick:()=>o("home"),children:"Home"}),(0,n_.jsx)("a",{className:"nav-link ".concat("marketplace"===n?"active":""),onClick:()=>o("marketplace"),children:"Marketplace"}),(0,n_.jsx)("a",{className:"nav-link ".concat("my-domains"===n?"active":""),onClick:()=>o("my-domains"),children:"My Domains"}),(0,n_.jsx)("a",{className:"nav-link ".concat("my-listings"===n?"active":""),onClick:()=>o("my-listings"),children:"My Listings"}),(0,n_.jsx)("a",{className:"nav-link ".concat("royalties"===n?"active":""),onClick:()=>o("royalties"),children:"Royalties"}),(0,n_.jsx)("a",{className:"nav-link ".concat("mint"===n?"active":""),onClick:()=>o("mint"),children:"Mint"}),(0,n_.jsx)("a",{className:"nav-link ".concat("debug"===n?"active":""),onClick:()=>o("debug"),style:{opacity:.7},children:"\ud83d\udd27"})]}),(0,n_.jsx)("div",{className:"header-actions",children:(0,n_.jsx)(o_,{})})]})})},c_=80002,l_=()=>{const{chainId:e,account:n,switchNetwork:r,walletType:i}=i_(),[s,o]=(0,t.useState)(!1),[a,c]=(0,t.useState)(!1),[l,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{console.log("NetworkChecker useEffect:",{account:n,chainId:e,AMOY_CHAIN_ID:c_,shouldShow:n&&e&&e!==c_}),o(!(!n||!e||e===c_))},[e,n]);return s?(0,n_.jsx)("div",{className:"network-banner",children:(0,n_.jsxs)("div",{className:"network-banner-content",children:[(0,n_.jsx)("span",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,n_.jsxs)("div",{className:"banner-text",children:[(0,n_.jsx)("strong",{children:"Wrong Network!"}),(0,n_.jsxs)("p",{children:["You're on ",e?"Chain ID ".concat(e):"wrong network"," using ",i||"wallet",". This marketplace requires ",(0,n_.jsx)("strong",{children:"Polygon Amoy (Chain ID: 80002)"})]}),"walletconnect"===i&&(0,n_.jsxs)("p",{className:"walletconnect-help",children:["\ud83d\udca1 ",(0,n_.jsx)("strong",{children:"Mobile Wallet Tip:"})," If automatic switching doesn't work, manually switch to Polygon Amoy in your wallet app."]})]}),(0,n_.jsxs)("div",{className:"switch-actions",children:[(0,n_.jsx)("button",{className:"switch-button",onClick:async()=>{console.log("switchToAmoy button clicked",{chainId:e,walletType:i,account:n}),c(!0);try{console.log("Calling switchNetwork with AMOY_CHAIN_ID:",c_),await r(c_),console.log("switchNetwork call completed")}catch(t){console.error("Error switching network:",t);let e=t.message||"Failed to switch network.";e.includes("cancelled by user")?console.log("User cancelled network switch"):alert(e)}finally{c(!1)}},disabled:a,children:a?"Switching...":"Switch to Amoy"}),"walletconnect"===i&&(0,n_.jsx)("button",{className:"help-button",onClick:()=>u(!l),children:l?"Hide Help":"Need Help?"})]}),l&&"walletconnect"===i&&(0,n_.jsxs)("div",{className:"manual-help",children:[(0,n_.jsx)("h4",{children:"Manual Network Setup for Mobile Wallets:"}),(0,n_.jsxs)("div",{className:"network-config",children:[(0,n_.jsxs)("p",{children:[(0,n_.jsx)("strong",{children:"Network Name:"})," Polygon Amoy Testnet"]}),(0,n_.jsxs)("p",{children:[(0,n_.jsx)("strong",{children:"RPC URL:"})," https://rpc-amoy.polygon.technology"]}),(0,n_.jsxs)("p",{children:[(0,n_.jsx)("strong",{children:"Chain ID:"})," 80002"]}),(0,n_.jsxs)("p",{children:[(0,n_.jsx)("strong",{children:"Currency Symbol:"})," MATIC"]}),(0,n_.jsxs)("p",{children:[(0,n_.jsx)("strong",{children:"Block Explorer:"})," https://amoy.polygonscan.com/"]})]}),(0,n_.jsxs)("p",{className:"help-instructions",children:["1. Open your wallet app",(0,n_.jsx)("br",{}),"2. Go to Settings \u2192 Networks",(0,n_.jsx)("br",{}),"3. Add a custom network with the details above",(0,n_.jsx)("br",{}),"4. Switch to the new network"]})]})]})}):null},u_=e=>{let{onNavigate:n}=e;const{account:r,connectWallet:i,isConnecting:s}=i_(),[o,a]=(0,t.useState)(!1),c=async e=>{a(!1),await i(e)};return(0,n_.jsx)("section",{className:"hero",children:(0,n_.jsxs)("div",{className:"hero-container",children:[(0,n_.jsxs)("div",{className:"hero-content",children:[(0,n_.jsxs)("h1",{className:"hero-title",children:["Discover, Collect, and Sell",(0,n_.jsx)("span",{className:"gradient-text",children:" Extraordinary NFTs"})]}),(0,n_.jsx)("p",{className:"hero-description",children:"The world's first and largest digital marketplace for crypto collectibles and non-fungible tokens. Buy, sell, and discover exclusive digital items."}),(0,n_.jsx)("div",{className:"hero-actions",children:r?(0,n_.jsxs)(n_.Fragment,{children:[(0,n_.jsx)("button",{className:"hero-button primary",onClick:()=>n&&n("marketplace"),children:"Explore Marketplace"}),(0,n_.jsx)("button",{className:"hero-button secondary",onClick:()=>n&&n("my-domains"),children:"My Domains"})]}):(0,n_.jsxs)("div",{className:"hero-wallet-connect",children:[(0,n_.jsx)("button",{className:"hero-button primary",onClick:()=>a(!o),disabled:s,children:s?"Connecting...":"Connect Wallet"}),o&&(0,n_.jsxs)("div",{className:"hero-wallet-options",children:[(0,n_.jsx)("button",{className:"hero-wallet-option",onClick:()=>c("metamask"),disabled:s,children:"\ud83e\udd8a MetaMask"}),(0,n_.jsx)("button",{className:"hero-wallet-option",onClick:()=>c("walletconnect"),disabled:s,children:"\ud83d\udd17 WalletConnect"})]})]})}),(0,n_.jsxs)("div",{className:"hero-stats",children:[(0,n_.jsxs)("div",{className:"stat-item",children:[(0,n_.jsx)("h3",{children:"100K+"}),(0,n_.jsx)("p",{children:"NFTs"})]}),(0,n_.jsxs)("div",{className:"stat-item",children:[(0,n_.jsx)("h3",{children:"50K+"}),(0,n_.jsx)("p",{children:"Artists"})]}),(0,n_.jsxs)("div",{className:"stat-item",children:[(0,n_.jsx)("h3",{children:"25K+"}),(0,n_.jsx)("p",{children:"Collections"})]})]})]}),(0,n_.jsx)("div",{className:"hero-visual",children:(0,n_.jsx)("div",{className:"nft-card-demo",children:(0,n_.jsx)("div",{className:"nft-card-inner",children:(0,n_.jsx)("div",{className:"nft-card-gradient"})})})})]})})};function h_(e){return"string"===typeof e&&(e=En(e)),Ht(R([En("\x19Ethereum Signed Message:\n"),En(String(e.length)),e]))}function d_(e){return f("string"===typeof e.address,"invalid address for hashAuthorization","auth.address",e),Ht(R(["0x05",dl([null!=e.chainId?J(e.chainId):"0x",Jt(e.address),null!=e.nonce?J(e.nonce):"0x"])]))}var f_=new WeakMap;class p_ extends Yh{constructor(e,t){super(t),(0,E.A)(this,"address",void 0),v(this,f_,void 0),f(e&&"function"===typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),S(f_,this,e);a(this,{address:fl(this.signingKey.publicKey)})}get signingKey(){return x(f_,this)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new p_(x(f_,this),e)}async signTransaction(e){e=As(e);const{to:t,from:n}=await o({to:e.to?Br(e.to,this):void 0,from:e.from?Br(e.from,this):void 0});null!=t&&(e.to=t),null!=n&&(e.from=n),null!=e.from&&(f(Jt(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const r=Jl.from(e);return r.signature=this.signingKey.sign(r.unsignedHash),r.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(h_(e)).serialized}authorizeSync(e){f("string"===typeof e.address,"invalid address for authorizeSync","auth.address",e);const t=this.signingKey.sign(d_(e));return Object.assign({},{address:Jt(e.address),nonce:q(e.nonce||0),chainId:q(e.chainId||0)},{signature:t})}async authorize(e){return e=Object.assign({},e,{address:await Br(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,n){const r=await $r.resolveNames(e,t,n,async e=>{d(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});const t=await this.provider.resolveName(e);return d(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t});return this.signingKey.sign($r.hash(r.domain,t,r.value)).serialized}}let g_=!1;const y_=function(e,t,n){return function(e,t){const n={sha256:ja,sha512:qa}[e];return f(null!=n,"invalid hmac algorithm","algorithm",e),Ia.create(n,t)}(e,t).update(n).digest()};let m_=y_;function w_(e,t,n){const r=I(t,"key"),i=I(n,"data");return N(m_(e,r,i))}w_._=y_,w_.lock=function(){g_=!0},w_.register=function(e){if(g_)throw new Error("computeHmac is locked");m_=e},Object.freeze(w_);const b_=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),v_=Uint8Array.from({length:16},(e,t)=>t),E_=v_.map(e=>(9*e+5)%16);let A_=[v_],x_=[E_];for(let n=0;n<4;n++)for(let e of[A_,x_])e.push(e[n].map(e=>b_[e]));const S_=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),k_=A_.map((e,t)=>e.map(e=>S_[t][e])),I_=x_.map((e,t)=>e.map(e=>S_[t][e])),O_=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),P_=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),T_=(e,t)=>e<<t|e>>>32-t;function C_(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const N_=new Uint32Array(16);class R_ extends Ca{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let d=0;d<16;d++,t+=4)N_[d]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,s=i,o=0|this.h2,a=o,c=0|this.h3,l=c,u=0|this.h4,h=u;for(let d=0;d<5;d++){const e=4-d,t=O_[d],f=P_[d],p=A_[d],g=x_[d],y=k_[d],m=I_[d];for(let r=0;r<16;r++){const e=T_(n+C_(d,i,o,c)+N_[p[r]]+t,y[r])+u|0;n=u,u=c,c=0|T_(o,10),o=i,i=e}for(let n=0;n<16;n++){const t=T_(r+C_(e,s,a,l)+N_[g[n]]+f,m[n])+h|0;r=h,h=l,l=0|T_(a,10),a=s,s=t}}this.set(this.h1+o+l|0,this.h2+c+h|0,this.h3+u+r|0,this.h4+n+s|0,this.h0+i+a|0)}roundClean(){N_.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const __=Et(()=>new R_);let B_=!1;const L_=function(e){return __(e)};let U_=L_;function j_(e){const t=I(e,"data");return N(U_(t))}j_._=L_,j_.lock=function(){B_=!0},j_.register=function(e){if(B_)throw new TypeError("ripemd160 is locked");U_=e},Object.freeze(j_);let M_=!1;const D_=function(e){return new Uint8Array(function(e){d(null!=Wa,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),f(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);const t=new Uint8Array(e);return Wa.getRandomValues(t),t}(e))};let F_=D_;function z_(e){return F_(e)}z_._=D_,z_.lock=function(){M_=!0},z_.register=function(e){if(M_)throw new Error("randomBytes is locked");F_=e},Object.freeze(z_);const H_=" !#$%&'()*+,-./<=>?@[]^_`{|}~",q_=/^[a-z]*$/i;function V_(e,t){let n=97;return e.reduce((e,r)=>(r===t?n++:r.match(q_)?e.push(String.fromCharCode(n)+r):(n=97,e.push(r)),e),[])}function W_(e){return f("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let i=28;i>=0;i--)e=e.split(H_[i]).join(t.substring(2*i,2*i+2));const n=[],r=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(e,t,r,i)=>{if(r)for(let s=parseInt(r);s>=0;s--)n.push(";");else n.push(t.toLowerCase());return""});if(r)throw new Error("leftovers: ".concat(JSON.stringify(r)));return V_(V_(n,";"),":")}(e.substring(59),e.substring(1,59))}class K_{constructor(e){(0,E.A)(this,"locale",void 0),a(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var G_=new WeakMap,Q_=new WeakMap,J_=new WeakMap,Y_=new WeakSet;class Z_ extends K_{constructor(e,t,n){super(e),b(this,Y_),v(this,G_,void 0),v(this,Q_,void 0),v(this,J_,void 0),S(G_,this,t),S(Q_,this,n),S(J_,this,null)}get _data(){return x(G_,this)}_decodeWords(){return W_(x(G_,this))}getWord(e){const t=A(Y_,this,X_).call(this);return f(e>=0&&e<t.length,"invalid word index: ".concat(e),"index",e),t[e]}getWordIndex(e){return A(Y_,this,X_).call(this).indexOf(e)}}function X_(){if(null==x(J_,this)){const e=this._decodeWords();if(kn(e.join("\n")+"\n")!==x(Q_,this))throw new Error("BIP39 Wordlist for ".concat(this.locale," FAILED"));S(J_,this,e)}return x(J_,this)}let $_=null;class eB extends Z_{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==$_&&($_=new eB),$_}}let tB=!1;const nB=function(e,t,n,r,i){return function(e,t,n,r,i){const s={sha256:ja,sha512:qa}[i];return f(null!=s,"invalid pbkdf2 algorithm","algorithm",i),Ta(s,e,t,{c:n,dkLen:r})}(e,t,n,r,i)};let rB=nB;function iB(e,t,n,r,i){const s=I(e,"password"),o=I(t,"salt");return N(rB(s,o,n,r,i))}function sB(e){return(1<<e)-1<<8-e&255}function oB(e){return(1<<e)-1&255}function aB(e,t){y("NFKD"),null==t&&(t=eB.wordlist());const n=t.split(e);f(n.length%3===0&&n.length>=12&&n.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*n.length/8));let i=0;for(let a=0;a<n.length;a++){let e=t.getWordIndex(n[a].normalize("NFKD"));f(e>=0,"invalid mnemonic word at index ".concat(a),"mnemonic","[ REDACTED ]");for(let t=0;t<11;t++)e&1<<10-t&&(r[i>>3]|=1<<7-i%8),i++}const s=32*n.length/3,o=sB(n.length/3);return f((I($a(r.slice(0,s/8)))[0]&o)===(r[r.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),N(r.slice(0,s/8))}function cB(e,t){f(e.length%4===0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=eB.wordlist());const n=[0];let r=11;for(let o=0;o<e.length;o++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=e[o],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=e[o]>>8-r,n.push(e[o]&oB(8-r)),r+=3);const i=e.length/4,s=parseInt($a(e).substring(2,4),16)&sB(i);return n[n.length-1]<<=i,n[n.length-1]|=s>>8-i,t.join(n.map(e=>t.getWord(e)))}iB._=nB,iB.lock=function(){tB=!0},iB.register=function(e){if(tB)throw new Error("pbkdf2 is locked");rB=e},Object.freeze(iB);const lB={};class uB{constructor(e,t,n,r,i){(0,E.A)(this,"phrase",void 0),(0,E.A)(this,"password",void 0),(0,E.A)(this,"wordlist",void 0),(0,E.A)(this,"entropy",void 0),null==r&&(r=""),null==i&&(i=eB.wordlist()),m(e,lB,"Mnemonic"),a(this,{phrase:n,password:r,wordlist:i,entropy:t})}computeSeed(){const e=En("mnemonic"+this.password,"NFKD");return iB(En(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){const r=aB(e,n);return e=cB(I(r),n),new uB(lB,r,e,t,n)}static fromEntropy(e,t,n){const r=I(e,"entropy"),i=cB(r,n);return new uB(lB,N(r),i,t,n)}static entropyToPhrase(e,t){return cB(I(e,"entropy"),t)}static phraseToEntropy(e,t){return aB(e,t)}static isValidMnemonic(e,t){try{return aB(e,t),!0}catch(n){}return!1}}var hB,dB,fB,pB=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},gB=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};const yB={16:10,24:12,32:14},mB=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],wB=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],bB=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],vB=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],EB=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],AB=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],xB=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],SB=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],kB=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],IB=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],OB=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],PB=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],TB=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],CB=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],NB=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function RB(e){const t=[];for(let n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}class _B{get key(){return pB(this,hB,"f").slice()}constructor(e){if(hB.set(this,void 0),dB.set(this,void 0),fB.set(this,void 0),!(this instanceof _B))throw Error("AES must be instanitated with `new`");gB(this,hB,new Uint8Array(e),"f");const t=yB[this.key.length];if(null==t)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");gB(this,fB,[],"f"),gB(this,dB,[],"f");for(let l=0;l<=t;l++)pB(this,fB,"f").push([0,0,0,0]),pB(this,dB,"f").push([0,0,0,0]);const n=4*(t+1),r=this.key.length/4,i=RB(this.key);let s;for(let l=0;l<r;l++)s=l>>2,pB(this,fB,"f")[s][l%4]=i[l],pB(this,dB,"f")[t-s][l%4]=i[l];let o,a=0,c=r;for(;c<n;){if(o=i[r-1],i[0]^=wB[o>>16&255]<<24^wB[o>>8&255]<<16^wB[255&o]<<8^wB[o>>24&255]^mB[a]<<24,a+=1,8!=r)for(let t=1;t<r;t++)i[t]^=i[t-1];else{for(let e=1;e<r/2;e++)i[e]^=i[e-1];o=i[r/2-1],i[r/2]^=wB[255&o]^wB[o>>8&255]<<8^wB[o>>16&255]<<16^wB[o>>24&255]<<24;for(let e=r/2+1;e<r;e++)i[e]^=i[e-1]}let e,s,l=0;for(;l<r&&c<n;)e=c>>2,s=c%4,pB(this,fB,"f")[e][s]=i[l],pB(this,dB,"f")[t-e][s]=i[l++],c++}for(let l=1;l<t;l++)for(let e=0;e<4;e++)o=pB(this,dB,"f")[l][e],pB(this,dB,"f")[l][e]=PB[o>>24&255]^TB[o>>16&255]^CB[o>>8&255]^NB[255&o]}encrypt(e){if(16!=e.length)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=pB(this,fB,"f").length-1,n=[0,0,0,0];let r=RB(e);for(let o=0;o<4;o++)r[o]^=pB(this,fB,"f")[0][o];for(let o=1;o<t;o++){for(let e=0;e<4;e++)n[e]=vB[r[e]>>24&255]^EB[r[(e+1)%4]>>16&255]^AB[r[(e+2)%4]>>8&255]^xB[255&r[(e+3)%4]]^pB(this,fB,"f")[o][e];r=n.slice()}const i=new Uint8Array(16);let s=0;for(let o=0;o<4;o++)s=pB(this,fB,"f")[t][o],i[4*o]=255&(wB[r[o]>>24&255]^s>>24),i[4*o+1]=255&(wB[r[(o+1)%4]>>16&255]^s>>16),i[4*o+2]=255&(wB[r[(o+2)%4]>>8&255]^s>>8),i[4*o+3]=255&(wB[255&r[(o+3)%4]]^s);return i}decrypt(e){if(16!=e.length)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=pB(this,dB,"f").length-1,n=[0,0,0,0];let r=RB(e);for(let o=0;o<4;o++)r[o]^=pB(this,dB,"f")[0][o];for(let o=1;o<t;o++){for(let e=0;e<4;e++)n[e]=SB[r[e]>>24&255]^kB[r[(e+3)%4]>>16&255]^IB[r[(e+2)%4]>>8&255]^OB[255&r[(e+1)%4]]^pB(this,dB,"f")[o][e];r=n.slice()}const i=new Uint8Array(16);let s=0;for(let o=0;o<4;o++)s=pB(this,dB,"f")[t][o],i[4*o]=255&(bB[r[o]>>24&255]^s>>24),i[4*o+1]=255&(bB[r[(o+3)%4]>>16&255]^s>>16),i[4*o+2]=255&(bB[r[(o+2)%4]>>8&255]^s>>8),i[4*o+3]=255&(bB[255&r[(o+1)%4]]^s);return i}}hB=new WeakMap,dB=new WeakMap,fB=new WeakMap;class BB{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error("".concat(e,' must be instantiated with "new"'));Object.defineProperties(this,{aes:{enumerable:!0,value:new _B(t)},name:{enumerable:!0,value:e}})}}var LB,UB,jB=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},MB=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class DB extends BB{constructor(e,t){if(super("ECC",e,DB),LB.set(this,void 0),UB.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");jB(this,LB,new Uint8Array(t),"f")}else jB(this,LB,new Uint8Array(16),"f");jB(this,UB,this.iv,"f")}get iv(){return new Uint8Array(MB(this,LB,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let t=0;t<16;t++)MB(this,UB,"f")[t]^=e[n+t];jB(this,UB,this.aes.encrypt(MB(this,UB,"f")),"f"),t.set(MB(this,UB,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){const r=this.aes.decrypt(e.subarray(n,n+16));for(let i=0;i<16;i++)t[n+i]=r[i]^MB(this,UB,"f")[i],MB(this,UB,"f")[i]=e[n+i]}return t}}LB=new WeakMap,UB=new WeakMap;var FB,zB=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};new WeakMap,FB=new WeakMap,new WeakSet;var HB,qB,VB,WB=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},KB=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class GB extends BB{constructor(e,t){super("CTR",e,GB),HB.set(this,void 0),qB.set(this,void 0),VB.set(this,void 0),WB(this,VB,new Uint8Array(16),"f"),KB(this,VB,"f").fill(0),WB(this,HB,KB(this,VB,"f"),"f"),WB(this,qB,16,"f"),null==t&&(t=1),"number"===typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(KB(this,VB,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)KB(this,VB,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw new TypeError("invalid counter initial Uint8Array value length");KB(this,VB,"f").set(e)}increment(){for(let e=15;e>=0;e--){if(255!==KB(this,VB,"f")[e]){KB(this,VB,"f")[e]++;break}KB(this,VB,"f")[e]=0}}encrypt(e){var t,n;const r=new Uint8Array(e);for(let i=0;i<r.length;i++)16===KB(this,qB,"f")&&(WB(this,HB,this.aes.encrypt(KB(this,VB,"f")),"f"),WB(this,qB,0,"f"),this.increment()),r[i]^=KB(this,HB,"f")[(WB(this,qB,(n=KB(this,qB,"f"),t=n++,n),"f"),t)];return r}decrypt(e){return this.encrypt(e)}}HB=new WeakMap,qB=new WeakMap,VB=new WeakMap;new WeakMap,new WeakMap,new WeakMap;const QB=(e,t)=>e<<t|e>>>32-t;function JB(e,t,n,r,i,s){let o=e[t++]^n[r++],a=e[t++]^n[r++],c=e[t++]^n[r++],l=e[t++]^n[r++],u=e[t++]^n[r++],h=e[t++]^n[r++],d=e[t++]^n[r++],f=e[t++]^n[r++],p=e[t++]^n[r++],g=e[t++]^n[r++],y=e[t++]^n[r++],m=e[t++]^n[r++],w=e[t++]^n[r++],b=e[t++]^n[r++],v=e[t++]^n[r++],E=e[t++]^n[r++],A=o,x=a,S=c,k=l,I=u,O=h,P=d,T=f,C=p,N=g,R=y,_=m,B=w,L=b,U=v,j=E;for(let M=0;M<8;M+=2)I^=QB(A+B|0,7),C^=QB(I+A|0,9),B^=QB(C+I|0,13),A^=QB(B+C|0,18),N^=QB(O+x|0,7),L^=QB(N+O|0,9),x^=QB(L+N|0,13),O^=QB(x+L|0,18),U^=QB(R+P|0,7),S^=QB(U+R|0,9),P^=QB(S+U|0,13),R^=QB(P+S|0,18),k^=QB(j+_|0,7),T^=QB(k+j|0,9),_^=QB(T+k|0,13),j^=QB(_+T|0,18),x^=QB(A+k|0,7),S^=QB(x+A|0,9),k^=QB(S+x|0,13),A^=QB(k+S|0,18),P^=QB(O+I|0,7),T^=QB(P+O|0,9),I^=QB(T+P|0,13),O^=QB(I+T|0,18),_^=QB(R+N|0,7),C^=QB(_+R|0,9),N^=QB(C+_|0,13),R^=QB(N+C|0,18),B^=QB(j+U|0,7),L^=QB(B+j|0,9),U^=QB(L+B|0,13),j^=QB(U+L|0,18);i[s++]=o+A|0,i[s++]=a+x|0,i[s++]=c+S|0,i[s++]=l+k|0,i[s++]=u+I|0,i[s++]=h+O|0,i[s++]=d+P|0,i[s++]=f+T|0,i[s++]=p+C|0,i[s++]=g+N|0,i[s++]=y+R|0,i[s++]=m+_|0,i[s++]=w+B|0,i[s++]=b+L|0,i[s++]=v+U|0,i[s++]=E+j|0}function YB(e,t,n,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)n[o+a]=e[t+16*(2*i-1)+a];for(let a=0;a<i;a++,s+=16,t+=16)JB(n,o,e,t,n,s),a>0&&(o+=16),JB(n,s,e,t+=16,n,o)}function ZB(e,t,n){const r=vt({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:s,p:o,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=r;if(Je(i),Je(s),Je(o),Je(a),Je(c),Je(l),void 0!==u&&"function"!==typeof u)throw new Error("progressCb should be function");const h=128*s,d=h/4;if(i<=1||0!==(i&i-1)||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>137438953440/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=h*(i+o);if(f>l)throw new Error("Scrypt: parameters too large, ".concat(f," (128 * r * (N + p)) > ").concat(l," (maxmem)"));const p=Ta(ja,e,t,{c:1,dkLen:h*o}),g=dt(p),y=dt(new Uint8Array(h*i)),m=dt(new Uint8Array(h));let w=()=>{};if(u){const e=2*i*o,t=Math.max(Math.floor(e/1e4),1);let n=0;w=()=>{n++,!u||n%t&&n!==e||u(n/e)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:d,V:y,B32:g,B:p,tmp:m,blockMixCb:w,asyncTick:c}}function XB(e,t,n,r,i){const s=Ta(ja,e,n,{c:1,dkLen:t});return n.fill(0),r.fill(0),i.fill(0),s}let $B=!1,eL=!1;const tL=async function(e,t,n,r,i,s,o){return await async function(e,t,n){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:h,blockMixCb:d,asyncTick:f}=ZB(e,t,n);for(let p=0;p<s;p++){const e=a*p;for(let n=0;n<a;n++)c[n]=l[e+n];let t=0;await yt(r-1,f,()=>{YB(c,t,c,t+=a,i),d()}),YB(c,(r-1)*a,l,e,i),d(),await yt(r,f,()=>{const t=l[e+a-16]%r;for(let n=0;n<a;n++)h[n]=l[e+n]^c[t*a+n];YB(h,0,l,e,i),d()})}return XB(e,o,u,c,h)}(e,t,{N:n,r:r,p:i,dkLen:s,onProgress:o})},nL=function(e,t,n,r,i,s){return function(e,t,n){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:h,blockMixCb:d}=ZB(e,t,n);for(let f=0;f<s;f++){const e=a*f;for(let t=0;t<a;t++)c[t]=l[e+t];for(let t=0,n=0;t<r-1;t++)YB(c,n,c,n+=a,i),d();YB(c,(r-1)*a,l,e,i),d();for(let t=0;t<r;t++){const t=l[e+a-16]%r;for(let n=0;n<a;n++)h[n]=l[e+n]^c[t*a+n];YB(h,0,l,e,i),d()}}return XB(e,o,u,c,h)}(e,t,{N:n,r:r,p:i,dkLen:s})};let rL=tL,iL=nL;async function sL(e,t,n,r,i,s,o){const a=I(e,"passwd"),c=I(t,"salt");return N(await rL(a,c,n,r,i,s,o))}function oL(e,t,n,r,i,s){const o=I(e,"passwd"),a=I(t,"salt");return N(iL(o,a,n,r,i,s))}function aL(e){const t=I(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=N(t);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}function cL(e){return"string"!==typeof e||e.startsWith("0x")||(e="0x"+e),O(e)}function lL(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function uL(e){return"string"===typeof e?En(e,"NFKC"):O(e)}function hL(e,t){const n=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);f(null!=n,"invalid path","path",t);const r=n[1],i=n[3],s="!"===n[4];let o=e;for(const a of r.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if("object"===typeof o){let e=null;for(const t in o)if(t.toLowerCase()===a){e=o[t];break}o=e}else o=null;if(null==o)break}if(f(!s||null!=o,"missing required value","path",r),i&&null!=o){if("int"===i){if("string"===typeof o&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if("number"===i&&"string"===typeof o&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if("data"===i&&"string"===typeof o)return cL(o);if("array"===i&&Array.isArray(o))return o;if(i===typeof o)return o;f(!1,"wrong type found for ".concat(i," "),"path",r)}return o}sL._=tL,sL.lock=function(){eL=!0},sL.register=function(e){if(eL)throw new Error("scrypt is locked");rL=e},Object.freeze(sL),oL._=nL,oL.lock=function(){$B=!0},oL.register=function(e){if($B)throw new Error("scryptSync is locked");iL=e},Object.freeze(oL);const dL="m/44'/60'/0'/0/0";function fL(e){try{const t=JSON.parse(e);if(3===(null!=t.version?parseInt(t.version):0))return!0}catch(t){}return!1}function pL(e,t){const n=I(t),r=hL(e,"crypto.ciphertext:data!");f(N(Ht(R([n.slice(16,32),r]))).substring(2)===hL(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=function(e,t,n){if("aes-128-ctr"===hL(e,"crypto.cipher:string")){const r=hL(e,"crypto.cipherparams.iv:data!");return N(new GB(t,r).decrypt(n))}d(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,n.slice(0,16),r),s=fl(i);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),f(Jt(t)===s,"keystore address/privateKey mismatch","address",e.address)}const o={address:s,privateKey:i};if("0.1"===hL(e,"x-ethers.version:string")){const t=n.slice(32,64),r=hL(e,"x-ethers.mnemonicCiphertext:data!"),i=hL(e,"x-ethers.mnemonicCounter:data!"),s=new GB(t,i);o.mnemonic={path:hL(e,"x-ethers.path:string")||dL,locale:hL(e,"x-ethers.locale:string")||"en",entropy:N(I(s.decrypt(r)))}}return o}function gL(e){const t=hL(e,"crypto.kdf:string");if(t&&"string"===typeof t){if("scrypt"===t.toLowerCase()){const n=hL(e,"crypto.kdfparams.salt:data!"),r=hL(e,"crypto.kdfparams.n:int!"),i=hL(e,"crypto.kdfparams.r:int!"),s=hL(e,"crypto.kdfparams.p:int!");f(r>0&&0===(r&r-1),"invalid kdf.N","kdf.N",r),f(i>0&&s>0,"invalid kdf","kdf",t);const o=hL(e,"crypto.kdfparams.dklen:int!");return f(32===o,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:n,N:r,r:i,p:s,dkLen:64}}if("pbkdf2"===t.toLowerCase()){const t=hL(e,"crypto.kdfparams.salt:data!"),n=hL(e,"crypto.kdfparams.prf:string!"),r=n.split("-").pop();f("sha256"===r||"sha512"===r,"invalid kdf.pdf","kdf.pdf",n);const i=hL(e,"crypto.kdfparams.c:int!"),s=hL(e,"crypto.kdfparams.dklen:int!");return f(32===s,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:t,count:i,dkLen:s,algorithm:r}}}f(!1,"unsupported key-derivation function","kdf",t)}function yL(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}function mL(e){const t=null!=e.salt?I(e.salt,"options.salt"):z_(32);let n=1<<17,r=8,i=1;return e.scrypt&&(e.scrypt.N&&(n=e.scrypt.N),e.scrypt.r&&(r=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),f("number"===typeof n&&n>0&&Number.isSafeInteger(n)&&(BigInt(n)&BigInt(n-1))===BigInt(0),"invalid scrypt N parameter","options.N",n),f("number"===typeof r&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),f("number"===typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:n,r:r,p:i}}function wL(e,t,n,r){const s=I(n.privateKey,"privateKey"),o=null!=r.iv?I(r.iv,"options.iv"):z_(16);f(16===o.length,"invalid options.iv length","options.iv",r.iv);const a=null!=r.uuid?I(r.uuid,"options.uuid"):z_(16);f(16===a.length,"invalid options.uuid length","options.uuid",r.iv);const c=e.slice(0,16),l=e.slice(16,32),u=I(new GB(c,o).encrypt(s)),h=Ht(R([l,u])),d={address:n.address.substring(2).toLowerCase(),id:aL(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:N(o).substring(2)},ciphertext:N(u).substring(2),kdf:"scrypt",kdfparams:{salt:N(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:h.substring(2)}};if(n.mnemonic){const t=null!=r.client?r.client:"ethers/".concat(i),s=n.mnemonic.path||dL,o=n.mnemonic.locale||"en",a=e.slice(32,64),c=I(n.mnemonic.entropy,"account.mnemonic.entropy"),l=z_(16),u=I(new GB(a,l).encrypt(c)),h=new Date,f="UTC--"+(h.getUTCFullYear()+"-"+lL(h.getUTCMonth()+1,2)+"-"+lL(h.getUTCDate(),2)+"T"+lL(h.getUTCHours(),2)+"-"+lL(h.getUTCMinutes(),2)+"-"+lL(h.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:t,gethFilename:f,path:s,locale:o,mnemonicCounter:N(l).substring(2),mnemonicCiphertext:N(u).substring(2),version:"0.1"}}return JSON.stringify(d)}function bL(e,t,n){null==n&&(n={});const r=uL(t),i=mL(n);return wL(I(oL(r,i.salt,i.N,i.r,i.p,64)),i,e,n)}async function vL(e,t,n){null==n&&(n={});const r=uL(t),i=mL(n);return wL(I(await sL(r,i.salt,i.N,i.r,i.p,64,n.progressCallback)),i,e,n)}var EL;const AL="m/44'/60'/0'/0/0",xL=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),SL=2147483648,kL=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function IL(e,t){let n="";for(;e;)n="0123456789abcdef"[e%16]+n,e=Math.trunc(e/16);for(;n.length<2*t;)n="0"+n;return"0x"+n}function OL(e){const t=I(e);return nu(R([t,B($a($a(t)),0,4)]))}const PL={};function TL(e,t,n,r){const i=new Uint8Array(37);e&SL?(d(null!=r,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(I(r),1)):i.set(I(n));for(let o=24;o>=0;o-=8)i[33+(o>>3)]=e>>24-o&255;const s=I(w_("sha512",t,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function CL(e,t){const n=t.split("/");f(n.length>0,"invalid path","path",t),"m"===n[0]&&(f(0===e.depth,'cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth '.concat(e.depth),"path",t),n.shift());let r=e;for(let i=0;i<n.length;i++){const e=n[i];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));f(t<SL,"invalid path index","path[".concat(i,"]"),e),r=r.deriveChild(SL+t)}else if(e.match(/^[0-9]+$/)){const t=parseInt(e);f(t<SL,"invalid path index","path[".concat(i,"]"),e),r=r.deriveChild(t)}else f(!1,"invalid path component","path[".concat(i,"]"),e)}return r}var NL,RL=new WeakSet;class _L extends p_{constructor(e,t,n,r,i,s,o,c,l){super(t,l),b(this,RL),(0,E.A)(this,"publicKey",void 0),(0,E.A)(this,"fingerprint",void 0),(0,E.A)(this,"parentFingerprint",void 0),(0,E.A)(this,"mnemonic",void 0),(0,E.A)(this,"chainCode",void 0),(0,E.A)(this,"path",void 0),(0,E.A)(this,"index",void 0),(0,E.A)(this,"depth",void 0),m(e,PL,"HDNodeWallet"),a(this,{publicKey:t.compressedPublicKey});a(this,{parentFingerprint:n,fingerprint:B(j_($a(this.publicKey)),0,4),chainCode:r,path:i,index:s,depth:o}),a(this,{mnemonic:c})}connect(e){return new _L(PL,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}async encrypt(e,t){return await vL(A(RL,this,BL).call(this),e,{progressCallback:t})}encryptSync(e){return bL(A(RL,this,BL).call(this),e)}get extendedKey(){return d(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),OL(R(["0x0488ADE4",IL(this.depth,1),this.parentFingerprint,IL(this.index,4),this.chainCode,R(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new UL(PL,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=G(e,"index");f(t<=4294967295,"invalid index","index",t);let n=this.path;n&&(n+="/"+(2147483647&t),t&SL&&(n+="'"));const{IR:r,IL:i}=TL(t,this.chainCode,this.publicKey,this.privateKey),s=new rl(Q((K(i)+BigInt(this.privateKey))%kL,32));return new _L(PL,s,this.fingerprint,N(r),n,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return CL(this,e)}static fromExtendedKey(e){const t=J(function(e){let t=eu;for(let n=0;n<e.length;n++)t*=tu,t+=$l(e[n]);return t}(e));f(82===t.length||OL(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const n=t[4],r=N(t.slice(5,9)),i=parseInt(N(t.slice(9,13)).substring(2),16),s=N(t.slice(13,45)),o=t.slice(45,78);switch(N(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const e=N(o);return new UL(PL,fl(e),e,r,s,null,i,n,null)}case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new _L(PL,new rl(o.slice(1)),r,s,null,i,n,null,null)}f(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,n){null==e&&(e=""),null==t&&(t=AL),null==n&&(n=eB.wordlist());const r=uB.fromEntropy(z_(16),e,n);return LL.call(_L,r.computeSeed(),r).derivePath(t)}static fromMnemonic(e,t){return t||(t=AL),LL.call(_L,e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,n,r){null==t&&(t=""),null==n&&(n=AL),null==r&&(r=eB.wordlist());const i=uB.fromPhrase(e,t,r);return LL.call(_L,i.computeSeed(),i).derivePath(n)}static fromSeed(e){return LL.call(_L,e,null)}}function BL(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}function LL(e,t){f(T(e),"invalid seed","seed","[REDACTED]");const n=I(e,"seed");f(n.length>=16&&n.length<=64,"invalid seed","seed","[REDACTED]");const r=I(w_("sha512",xL,n)),i=new rl(N(r.slice(0,32)));return new EL(PL,i,"0x00000000",N(r.slice(32)),"m",0,0,t,null)}EL=_L;class UL extends Xh{constructor(e,t,n,r,i,s,o,c,l){super(t,l),(0,E.A)(this,"publicKey",void 0),(0,E.A)(this,"fingerprint",void 0),(0,E.A)(this,"parentFingerprint",void 0),(0,E.A)(this,"chainCode",void 0),(0,E.A)(this,"path",void 0),(0,E.A)(this,"index",void 0),(0,E.A)(this,"depth",void 0),m(e,PL,"HDNodeVoidWallet"),a(this,{publicKey:n});a(this,{publicKey:n,fingerprint:B(j_($a(n)),0,4),parentFingerprint:r,chainCode:i,path:s,index:o,depth:c})}connect(e){return new UL(PL,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return d(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),OL(R(["0x0488B21E",IL(this.depth,1),this.parentFingerprint,IL(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){const t=G(e,"index");f(t<=4294967295,"invalid index","index",t);let n=this.path;n&&(n+="/"+(2147483647&t),t&SL&&(n+="'"));const{IR:r,IL:i}=TL(t,this.chainCode,this.publicKey,null),s=rl.addPoints(i,this.publicKey,!0),o=fl(s);return new UL(PL,o,s,this.fingerprint,N(r),n,t,this.depth+1,this.provider)}derivePath(e){return CL(this,e)}}function jL(e){try{if(JSON.parse(e).encseed)return!0}catch(t){}return!1}function ML(e,t){const n=JSON.parse(e),r=uL(t),i=Jt(hL(n,"ethaddr:string!")),s=cL(hL(n,"encseed:string!"));f(s&&s.length%16===0,"invalid encseed","json",e);const o=I(iB(r,r,2e3,32,"sha256")).slice(0,16),a=s.slice(0,16),c=s.slice(16),l=function(e){if(e.length<16)throw new TypeError("PKCS#7 invalid length");const t=e[e.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");const n=e.length-t;for(let r=0;r<t;r++)if(e[n+r]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,n))}(I(new DB(o,a).decrypt(c)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);return{address:i,privateKey:kn(u)}}function DL(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class FL extends p_{constructor(e,t){"string"!==typeof e||e.startsWith("0x")||(e="0x"+e),super("string"===typeof e?new rl(e):e,t)}connect(e){return new FL(this.signingKey,e)}async encrypt(e,t){const n={address:this.address,privateKey:this.privateKey};return await vL(n,e,{progressCallback:t})}encryptSync(e){return bL({address:this.address,privateKey:this.privateKey},e)}static async fromEncryptedJson(e,t,n){let r=null;return fL(e)?r=await async function(e,t,n){const r=JSON.parse(e),i=uL(t),s=gL(r);if("pbkdf2"===s.name){n&&(n(0),await yL(0));const{salt:e,count:t,dkLen:o,algorithm:a}=s,c=iB(i,e,t,o,a);return n&&(n(1),await yL(0)),pL(r,c)}d("scrypt"===s.name,"cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:o,N:a,r:c,p:l,dkLen:u}=s;return pL(r,await sL(i,o,a,c,l,u,n))}(e,t,n):jL(e)&&(n&&(n(0),await DL(0)),r=ML(e,t),n&&(n(1),await DL(0))),zL.call(FL,r)}static fromEncryptedJsonSync(e,t){let n=null;return fL(e)?n=function(e,t){const n=JSON.parse(e),r=uL(t),i=gL(n);if("pbkdf2"===i.name){const{salt:e,count:t,dkLen:s,algorithm:o}=i;return pL(n,iB(r,e,t,s,o))}d("scrypt"===i.name,"cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:s,N:o,r:a,p:c,dkLen:l}=i;return pL(n,oL(r,s,o,a,c,l))}(e,t):jL(e)?n=ML(e,t):f(!1,"invalid JSON wallet","json","[ REDACTED ]"),zL.call(FL,n)}static createRandom(e){const t=_L.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const n=_L.fromPhrase(e);return t?n.connect(t):n}}function zL(e){if(f(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){const t=uB.fromEntropy(e.mnemonic.entropy),n=_L.fromMnemonic(t,e.mnemonic.path);if(n.address===e.address&&n.privateKey===e.privateKey)return n;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new NL(e.privateKey);return f(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}NL=FL;const HL=JSON.parse('[{"inputs":[{"internalType":"address","name":"_feeTreasury","type":"address"},{"internalType":"uint96","name":"_feeBps","type":"uint96"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"AccessControlBadConfirmation","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"neededRole","type":"bytes32"}],"name":"AccessControlUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FeeWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"listingId","type":"uint256"},{"indexed":true,"internalType":"address","name":"seller","type":"address"},{"indexed":true,"internalType":"address","name":"nft","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"Listed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"listingId","type":"uint256"}],"name":"ListingCanceled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"listingId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"ListingUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"listingId","type":"uint256"},{"indexed":true,"internalType":"address","name":"buyer","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"address","name":"royaltyReceiver","type":"address"},{"indexed":false,"internalType":"uint256","name":"royaltyAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"feeAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sellerAmount","type":"uint256"}],"name":"Purchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftContract","type":"address"}],"name":"ReceivedNFT","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":true,"internalType":"address","name":"buyer","type":"address"}],"name":"SaleRecordingFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":true,"internalType":"address","name":"buyer","type":"address"}],"name":"SaleRecordingSuccess","type":"event"},{"inputs":[],"name":"ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"accruedFees","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"listingId","type":"uint256"}],"name":"buy","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"listingId","type":"uint256"}],"name":"cancelListing","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"feeTreasury","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"listingId","type":"uint256"}],"name":"getListing","outputs":[{"components":[{"internalType":"address","name":"seller","type":"address"},{"internalType":"address","name":"nft","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}],"internalType":"struct Marketplace.Listing","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastListingId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nft","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"listToken","outputs":[{"internalType":"uint256","name":"listingId","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"listings","outputs":[{"internalType":"address","name":"seller","type":"address"},{"internalType":"address","name":"nft","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"marketplaceFeeBps","outputs":[{"internalType":"uint96","name":"","type":"uint96"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"callerConfirmation","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"t","type":"address"}],"name":"setFeeTreasury","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint96","name":"feeBps","type":"uint96"}],"name":"setMarketplaceFeeBps","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"listingId","type":"uint256"},{"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"updateListing","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawFees","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),qL=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"address","name":"treasury_","type":"address"},{"internalType":"address","name":"splitterFactory_","type":"address"},{"internalType":"uint96","name":"","type":"uint96"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"AccessControlBadConfirmation","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"neededRole","type":"bytes32"}],"name":"AccessControlUnauthorizedAccount","type":"error"},{"inputs":[{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"ERC2981InvalidDefaultRoyalty","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC2981InvalidDefaultRoyaltyReceiver","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"ERC2981InvalidTokenRoyalty","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC2981InvalidTokenRoyaltyReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_toTokenId","type":"uint256"}],"name":"BatchMetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"receiver","type":"address"},{"indexed":false,"internalType":"uint96","name":"bps","type":"uint96"}],"name":"DefaultRoyaltyUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"MetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":false,"internalType":"string","name":"tokenURI","type":"string"}],"name":"Minted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":true,"internalType":"address","name":"buyer","type":"address"},{"indexed":false,"internalType":"uint64","name":"at","type":"uint64"}],"name":"SaleRecorded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newFactory","type":"address"}],"name":"SplitterFactoryUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"splitter","type":"address"},{"indexed":false,"internalType":"uint96","name":"royaltyBps","type":"uint96"}],"name":"TokenSplitterSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newTreasury","type":"address"}],"name":"TreasuryUpdated","type":"event"},{"inputs":[],"name":"CREATOR_SHARE_IN_ROY","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_ROYALTY_BPS","outputs":[{"internalType":"uint96","name":"","type":"uint96"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINTER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"SALES_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TREASURY_SHARE_IN_ROY","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"creatorOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getTokenData","outputs":[{"internalType":"address","name":"creator","type":"address"},{"internalType":"uint64","name":"mintedAt_","type":"uint64"},{"internalType":"string","name":"uri","type":"string"},{"internalType":"uint256","name":"lastPrice","type":"uint256"},{"internalType":"uint64","name":"lastAt","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"lastSaleOf","outputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint64","name":"at","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"string","name":"uri","type":"string"}],"name":"mint","outputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"mintedAt","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"address","name":"buyer","type":"address"}],"name":"recordSale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"callerConfirmation","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newFactory","type":"address"}],"name":"setSplitterFactory","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newTreasury","type":"address"}],"name":"setTreasury","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"splitterFactory","outputs":[{"internalType":"contract IRoyaltySplitterFactory","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"treasury","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]'),VL=JSON.parse('[{"inputs":[],"name":"AccessControlBadConfirmation","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"neededRole","type":"bytes32"}],"name":"AccessControlUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"SafeERC20FailedOperation","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":true,"internalType":"address","name":"treasury","type":"address"},{"indexed":false,"internalType":"uint16","name":"creatorBps","type":"uint16"},{"indexed":false,"internalType":"uint16","name":"treasuryBps","type":"uint16"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Received","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint16","name":"creatorBps","type":"uint16"},{"indexed":false,"internalType":"uint16","name":"treasuryBps","type":"uint16"}],"name":"SplitsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"TokenReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"WithdrawToken","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creatorBps","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"depositToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"erc20Balance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"ethBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_creator","type":"address"},{"internalType":"address","name":"_treasury","type":"address"},{"internalType":"uint16","name":"_creatorBps","type":"uint16"},{"internalType":"uint16","name":"_treasuryBps","type":"uint16"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"callerConfirmation","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_creatorBps","type":"uint16"},{"internalType":"uint16","name":"_treasuryBps","type":"uint16"}],"name":"setSplits","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"treasury","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"treasuryBps","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"withdrawToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]');class WL{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.provider=void 0,this.signer=void 0,this.marketplaceAddress=void 0,this.nftAddress=void 0,this.marketplaceContract=void 0,this.nftContract=void 0,this.develop=void 0,this.collectionCountTokens=void 0,this.cachedActiveListingCount=void 0,this.develop=r,this.signer=e,this.provider=e.provider,this.marketplaceAddress=t,this.nftAddress=n,this.marketplaceContract=new ho(t,HL,e),this.nftContract=new ho(n,qL,e)}updateSigner(e){this.signer=e,this.provider=e.provider,this.marketplaceContract=new ho(this.marketplaceAddress,HL,e),this.nftContract=new ho(this.nftAddress,qL,e)}async buyToken(e){try{const t=await this.marketplaceContract.getListing(e),{price:n,active:r}=t;if(!r)return this.warn("This listing is not active."),null;this.warn("Buying token for ".concat(be(n)," MATIC..."));const i=await this.marketplaceContract.buy(e,{value:n}),s=await i.wait();return this.warn("Purchase successful!"),s.hash}catch(t){return this.error("Error purchasing token:",t),null}}async updateListing(e,t){try{const n=await this.marketplaceContract.updateListing(e,ve(t));this.warn("Listing ".concat(e," updated with new price: ").concat(t," MATIC"));return(await n.wait()).hash}catch(n){return this.error("Error updating listing:",n),null}}async listToken(e,t){try{await this.approveTokenForSale(e);if(await this.nftContract.getApproved(e)!==this.marketplaceAddress)return this.warn("Please approve tokenId: ".concat(e," for Marketplace address: ").concat(this.marketplaceAddress,", or check the Marketplace listings")),null;const n=await this.marketplaceContract.listToken(this.nftAddress,e,ve(t));return(await n.wait()).hash}catch(n){return this.error("Error listing your tokenId: ".concat(e,", check your ownership")),null}}async cancelListing(e){try{const t=await this.marketplaceContract.cancelListing(e),n=await t.wait();return this.warn("Listing ".concat(e," has been cancelled.")),n.hash}catch(t){return this.error("Error cancelling listing, check the listingId: ".concat(e," is active, or it exists")),null}}async getMarketplaceFees(){try{return await this.marketplaceContract.accruedFees()}catch(e){return this.error("Error fetching fees details:",e),null}}async getListing(e){try{return await this.marketplaceContract.getListing(e)}catch(t){return this.error("Error fetching listing details:",t),null}}async getTokenData(e){try{return await this.nftContract.getTokenData(e)}catch(t){return this.error("Getting token:",t),null}}async getStrDomainFromCollection(e){try{const t=await this.nftContract.getTokenData(e);return{tokenId:e,creator:t[0],mintTimestamp:Number(t[1]),uri:t[2],lastPrice:t[3].toString(),lastPriceTimestamp:t[4].toString()}}catch(t){return null}}async getAllStrDomainsFromCollection(){const e=[];let t=1,n=0;for(;t<=50&&n<3;)try{const r=await this.getStrDomainFromCollection(t);r?(e.push(r),n=0):n++,t++}catch(i){var r;if(n++,"CALL_EXCEPTION"===i.code&&null!==(r=i.reason)&&void 0!==r&&r.includes("ERC721NonexistentToken")){t++;continue}this.warn("Error at token ".concat(t,", continuing...")),t++}return this.collectionCountTokens=e.length,this.warn("Found ".concat(e.length," tokens in collection")),e}async getMyDomainsFromCollection(){const e=[];let t=1,n=0;const r=await this.signer.getAddress(),i=e=>new Promise(t=>setTimeout(t,e));for(;t<=20&&n<3;)try{if((await this.nftContract.ownerOf(t)).toLowerCase()===r.toLowerCase()){const n=await this.getStrDomainFromCollection(t);n&&(e.push(n),this.log("Found your domain: Token #".concat(t)))}n=0,t++,await i(100)}catch(l){var s,o,a,c;if(n++,"CALL_EXCEPTION"===l.code&&(null!==(s=l.reason)&&void 0!==s&&s.includes("ERC721NonexistentToken")||null!==(o=l.reason)&&void 0!==o&&o.includes("nonexistent")||null!==(a=l.message)&&void 0!==a&&a.includes("could not decode"))){t++,await i(100);continue}null!==(c=l.message)&&void 0!==c&&c.includes("Internal JSON-RPC")&&(this.warn("RPC rate limit hit at token ".concat(t,", slowing down...")),await i(500)),this.warn("Error at tokenId ".concat(t,", continuing...")),t++,await i(200)}return this.warn("Found ".concat(e.length," domains owned by you")),e}async countCollectionTokens(){const e=[];let t=1,n=0;for(;t<=50&&n<3;)try{const r=await this.getStrDomainFromCollection(t);r?(e.push(r),n=0):n++,t++}catch(o){var r,i,s;if(n++,"CALL_EXCEPTION"===o.code&&(null!==(r=o.reason)&&void 0!==r&&r.includes("ERC721NonexistentToken")||null!==(i=o.reason)&&void 0!==i&&i.includes("nonexistent")||null!==(s=o.message)&&void 0!==s&&s.includes("could not decode"))){t++;continue}this.warn("Error at token ".concat(t,", continuing...")),t++}return this.collectionCountTokens=e.length,this.warn("Counted ".concat(e.length," tokens in collection")),e.length}async getAllSplitterContractsFromCollection(){if(this.collectionCountTokens=await this.countCollectionTokens(),!this.collectionCountTokens)return this.warn("no token counter, please run Marketplace.getStrDomainFromCollection()"),[];const e=[];let t=1;for(t=1;t<=this.collectionCountTokens;t++)try{const n=await this.nftContract.royaltyInfo(t,4e7);e.push(n[0])}catch(n){this.error("Unexpected error fetching token:",n);break}return e}async getListingCount(){try{const e=await this.marketplaceContract.lastListingId();return Number(e)}catch(e){return this.error("Error getting listing count:",e),0}}async getActiveListingCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;try{const t=await this.getListingCount();if(0===t)return 0;let n=0,r=0;for(let i=t;i>=1;i--){try{const e=await this.marketplaceContract.getListing(i);null!==e&&void 0!==e&&e.active&&n++}catch($g){}if(r++,r>=e)break;await new Promise(e=>setTimeout(e,50))}return this.cachedActiveListingCount=n,n}catch(t){return this.error("Error counting active listings:",t),0}}async getActiveListingsPage(e,t){const n=[];try{const r=await this.getListingCount();if(0===r)return n;const i=(e-1)*t;let s=0,o=0;for(let e=r;e>=1;e--){try{const r=await this.marketplaceContract.getListing(e);if(null===r||void 0===r||!r.active)continue;if(s<i){s++;continue}let a;try{a=await this.getStrDomainFromCollection(Number(r.tokenId))}catch($g){}if(n.push({listingId:e,active:r.active,seller:r.seller,tokenId:Number(r.tokenId),price:be(r.price),strCollectionAddress:r.nft,tokenData:a||void 0}),o++,o>=t)break}catch($g){}await new Promise(e=>setTimeout(e,60))}}catch(r){this.error("Error fetching active listings page:",r)}return n}async getListingsPaginated(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=[],i=e+t-1;this.log("Fetching listings ".concat(e," to ").concat(i," (").concat(n?"active only":"all",")"));const s=e=>new Promise(t=>setTimeout(t,e));for(let a=e;a<=i;a++)try{const e=await this.marketplaceContract.getListing(a);if(!n||e.active){let t;try{t=await this.getStrDomainFromCollection(Number(e.tokenId))}catch(o){}r.push({listingId:a,active:e.active,seller:e.seller,tokenId:Number(e.tokenId),price:be(e.price),strCollectionAddress:e.nft,tokenData:t||void 0})}await s(100)}catch(o){await s(50);continue}return this.log("Fetched ".concat(r.length," listings from range ").concat(e,"-").concat(i)),r}async getAllActiveListedDomainsOnMarketplaceWithTokenData(){try{let t=0;try{const e=await this.marketplaceContract.lastListingId();t=Number(e),this.log("lastListingId:",t)}catch(e){return this.warn("lastListingId() not available, using fallback method"),await this.scanForListings(!0)}return 0===t?(this.warn("No listings found - lastListingId is 0"),[]):await this.getListingsPaginated(1,t,!0)}catch(e){return this.error("Error fetching listed tokens:",e),[]}}async scanForListings(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=[];let n=0,r=0;this.warn("Scanning for listings (no lastListingId available)...");const i=e=>new Promise(t=>setTimeout(t,e));for(let a=1;a<=20;a++)try{if(r>0){const e=Math.min(1e3*Math.pow(2,r),5e3);this.log("Backing off ".concat(e,"ms before next call...")),await i(e)}else await i(300);const s=await this.marketplaceContract.getListing(a);if(n=0,r=Math.max(0,r-1),!e||s.active){let e;try{await i(200),e=await this.getStrDomainFromCollection(Number(s.tokenId))}catch(o){}t.push({listingId:a,active:s.active,seller:s.seller,tokenId:Number(s.tokenId),price:be(s.price),strCollectionAddress:s.nft,tokenData:e||void 0})}}catch(o){var s;if(n++,(null!==(s=o.message)&&void 0!==s&&s.includes("Internal JSON-RPC")||-32603===o.code)&&(r++,this.warn("RPC error #".concat(r," at listing ").concat(a,", backing off...")),r>=3)){this.warn("Too many RPC errors, stopping scan early");break}if(n>=5){this.log("Stopped scanning at listing ".concat(a," after ").concat(n," failures"));break}}return this.log("Found ".concat(t.length," listings via scanning")),t}async getAllListedDomainsOnMarketplaceWithTokenData(){try{let t=0;try{const e=await this.marketplaceContract.lastListingId();t=Number(e)}catch(e){return this.warn("lastListingId() not available, using fallback"),await this.scanForListings(!1)}return 0===t?(this.warn("No listings found"),[]):await this.getListingsPaginated(1,t,!1)}catch(e){return this.error("Error fetching listed tokens:",e),[]}}async getMyAllListedDomainsOnMarketplaceWithTokenData(){try{const t=(await this.signer.getAddress()).toLowerCase();let n=0;try{const e=await this.marketplaceContract.lastListingId();n=Number(e)}catch(e){this.warn("lastListingId() not available, using fallback");return(await this.scanForListings(!1)).filter(e=>e.seller.toLowerCase()===t)}if(0===n)return this.warn("No listings found"),[];return(await this.getListingsPaginated(1,n,!1)).filter(e=>e.seller.toLowerCase()===t)}catch(e){return this.error("Error fetching listed tokens:",e),[]}}async getDomainsPaginated(e,t,n){const r=[],i=e+t-1;this.log("Fetching tokens ".concat(e," to ").concat(i));const s=e=>new Promise(t=>setTimeout(t,e)),o=null===n||void 0===n?void 0:n.toLowerCase();for(let c=e;c<=i;c++)try{if(o){if((await this.nftContract.ownerOf(c)).toLowerCase()!==o){await s(50);continue}}const e=await this.getStrDomainFromCollection(c);e&&r.push(e),await s(100)}catch(a){await s(50);continue}return this.log("Fetched ".concat(r.length," tokens from range ").concat(e,"-").concat(i)),r}async getSplitterBalance(e,t){try{const n=new ho(e,VL,this.signer);return await n.ethBalance(t)}catch(n){return this.error("Unexpected error fetching balance:",n),null}}async getSplitterBalanceOfWallet(e){const t=[];try{const r=await this.getAllSplitterContractsFromCollection();if(!r||0===r.length)return this.warn("No splitter contracts found in collection."),t;for(const i of r)try{const n=new ho(i,VL,this.signer),r=await n.ethBalance(e),s=be(r);r>0n&&t.push({splitter:i,balance:s})}catch(n){this.warn("Failed to fetch balance from splitter: ".concat(i),n.message)}}catch(r){this.error("Error fetching splitter balances:",r)}return t}async approveTokenForSale(e){try{const t=await this.nftContract.approve(this.marketplaceAddress,e);return(await t.wait()).hash}catch(t){return this.error("Error approve your NFT tokenId: ".concat(e,", check your ownership")),null}}async withdrawRoyaltyFromSplitter(e){try{const t=new ho(e,VL,this.signer),n=await this.signer.getAddress(),r=await t.ethBalance(n);if(r<=0n)return this.warn("\u23ed Skipping ".concat(e,": no funds to withdraw.")),null;const i=be(r),s=await t.withdraw();if(!s||!s.hash)return this.warn("No transaction hash returned from withdraw() on ".concat(e)),null;const o=await s.wait();return this.warn("Withdrawn from splitter ".concat(e," | Tx: ").concat(o.hash," | Amount: ").concat(i)),{splitter:e,transactionHash:o.hash,withdrawn:i}}catch(t){return this.warn("Failed to withdraw from splitter: ".concat(e," | ").concat(t.message)),null}}async withdrawAllRoyaltyFees(){try{const e=await this.signer.getAddress(),t=await this.getSplitterBalanceOfWallet(e);if(!t||0===t.length)return this.warn("No splitter contracts with available balances found."),null;const n=[];for(const r of t){const e=await this.withdrawRoyaltyFromSplitter(r.splitter);e&&n.push(e)}return n}catch(e){return this.error("Error withdrawing all royalty fees:",e),null}}async withdrawMarketPlaceFees(){const e=await this.isAdmin();try{if(!e)return this.warn("You are not an admin of the Marketplace contract. Withdraw not allowed."),null;const t=await this.marketplaceContract.withdrawFees(),n=await t.wait();return this.warn("Marketplace fees withdrawn successfully! Tx hash: ".concat(n.hash)),n.hash}catch(t){return this.error("Error withdrawing marketplace fees, or check the fees balance"),null}}async isAdmin(){try{const e="0x0000000000000000000000000000000000000000000000000000000000000000",t=await this.nftContract.hasRole(e,await this.signer.getAddress());return t||this.warn("Please connect with an admin account before running isAdmin method."),t}catch(e){return!1}}async mintDomain(e,t){if(!await this.isAdmin())return null;try{const n=await this.nftContract.mint(e,t);return(await n.wait()).hash}catch(n){return this.error("Error minting domain NFT, check you are the owner of the contract, or have minter role"),null}}log(){this.develop&&console.log(...arguments)}warn(){this.develop&&console.warn(...arguments)}error(){this.develop&&console.error(...arguments)}setDevelopMode(e){this.develop=!!e,this.warn("Develop mode set to ".concat(this.develop))}}const KL="0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43",GL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MARKETPLACE_ADDRESS:"0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43",REACT_APP_NFT_COLLECTION_ADDRESS:"0x6f2835F12EcD1e60655f219Be6Fcb1dC50A9e972",REACT_APP_ROYALTY_SPLITTER_FACTORY_ADDRESS:"0x70E1c43fDc72a35fF5671a1e40f2673ED16fdB40",REACT_APP_CHAIN_ID:"80002",REACT_APP_NETWORK_NAME:"Polygon Amoy",REACT_APP_RPC_URL:"https://rpc-amoy.polygon.technology",REACT_APP_IPFS_GATEWAY:"https://ipfs.io/ipfs/",REACT_APP_WALLETCONNECT_PROJECT_ID:"5e467db3e55d357493c846de13b399fc"}.REACT_APP_STR_DOMAIN_NFT_COLLECTION||"0x6f2835F12EcD1e60655f219Be6Fcb1dC50A9e972",QL=!1,JL=()=>{const{signer:e}=i_();return(0,t.useMemo)(()=>{if(!GL)return null;try{if(e)return new WL(e,KL,GL,QL);const t="https://rpc-amoy.polygon.technology";if(t){const e=new _d(t),n=FL.createRandom().connect(e);return new WL(n,KL,GL,QL)}return null}catch(t){return console.error("Error creating Marketplace SDK:",t),null}},[e])},YL=e=>{let{onNavigate:n}=e;const r=JL(),[i,s]=(0,t.useState)([]);(0,t.useEffect)(()=>{r&&o()},[r]);const o=async()=>{if(r)try{const e=await r.getAllActiveListedDomainsOnMarketplaceWithTokenData();s(e.slice(0,6))}catch(e){console.error("Error loading featured NFTs:",e)}};return(0,n_.jsxs)("div",{className:"home",children:[(0,n_.jsx)(u_,{onNavigate:n}),(0,n_.jsx)("section",{className:"featured-section",children:(0,n_.jsxs)("div",{className:"featured-container",children:[(0,n_.jsxs)("div",{className:"section-header",children:[(0,n_.jsx)("h2",{className:"section-title",children:"Featured Domains"}),(0,n_.jsx)("p",{className:"section-description",children:"Discover and buy premium domain NFTs on the marketplace"})]}),i.length>0?(0,n_.jsxs)(n_.Fragment,{children:[(0,n_.jsx)("div",{className:"nft-grid",children:i.map(e=>{var t,n;return(0,n_.jsxs)("div",{className:"nft-card",children:[(0,n_.jsx)("div",{className:"nft-card-image",children:(0,n_.jsx)("img",{src:(null===(t=e.tokenData)||void 0===t?void 0:t.uri)||"https://via.placeholder.com/400x400/667eea/ffffff?text=Domain+".concat(e.tokenId),alt:"Domain #".concat(e.tokenId),onError:t=>{t.currentTarget.src="https://via.placeholder.com/400x400/667eea/ffffff?text=Domain+".concat(e.tokenId)}})}),(0,n_.jsxs)("div",{className:"nft-card-content",children:[(0,n_.jsx)("div",{className:"nft-card-header",children:(0,n_.jsxs)("h3",{className:"nft-card-title",children:["Domain #",e.tokenId]})}),(0,n_.jsxs)("div",{className:"nft-info",children:[(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Price:"}),(0,n_.jsxs)("span",{className:"value price",children:[e.price," MATIC"]})]}),(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Seller:"}),(0,n_.jsx)("span",{className:"value",children:(n=e.seller,"".concat(n.slice(0,6),"...").concat(n.slice(-4)))})]})]})]})]},e.listingId)})}),(0,n_.jsx)("div",{className:"section-footer",children:(0,n_.jsx)("button",{className:"load-more-button",onClick:()=>n&&n("marketplace"),children:"View Marketplace"})})]}):(0,n_.jsxs)("div",{className:"empty-featured",children:[(0,n_.jsx)("p",{children:"No domains listed yet. Be the first to list your domain!"}),(0,n_.jsx)("button",{className:"cta-button",onClick:()=>n&&n("my-domains"),children:"List Your Domains"})]})]})})]})},ZL=e=>{let{currentPage:t,totalPages:n,onPageChange:r,itemsPerPage:i,totalItems:s}=e;if(n<=1)return null;const o=(t-1)*i+1,a=Math.min(t*i,s);return(0,n_.jsxs)("div",{className:"pagination-container",children:[(0,n_.jsxs)("div",{className:"pagination-info",children:["Showing ",o,"-",a," of ",s," items"]}),(0,n_.jsxs)("div",{className:"pagination-controls",children:[(0,n_.jsx)("button",{className:"pagination-button",onClick:()=>r(t-1),disabled:1===t,children:"\u2190 Previous"}),(0,n_.jsx)("div",{className:"pagination-numbers",children:(()=>{const e=[];if(n<=5)for(let t=1;t<=n;t++)e.push(t);else{e.push(1),t>3&&e.push("...");for(let r=Math.max(2,t-1);r<=Math.min(n-1,t+1);r++)e.push(r);t<n-2&&e.push("..."),e.push(n)}return e})().map((e,n)=>(0,n_.jsx)("button",{className:"pagination-number ".concat(e===t?"active":""," ").concat("..."===e?"dots":""),onClick:()=>"number"===typeof e&&r(e),disabled:"..."===e,children:e},n))}),(0,n_.jsx)("button",{className:"pagination-button",onClick:()=>r(t+1),disabled:t===n,children:"Next \u2192"})]})]})},XL=()=>{const{account:e}=i_(),n=JL(),[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(0),[a,c]=(0,t.useState)(!0),[l,u]=(0,t.useState)(null),[h,d]=(0,t.useState)(null),[f,p]=(0,t.useState)(1);(0,t.useEffect)(()=>{n&&e&&g()},[n,e]),(0,t.useEffect)(()=>{n&&e&&s>0?y():n&&e&&c(!1)},[n,e,f,s]);const g=async()=>{if(n&&!a){c(!0);try{console.log("Loading total listing count...");const e=await n.getActiveListingCount();console.log("Total listings count:",e),o(e),p(1)}catch(e){console.error("Error loading count:",e),u("Failed to load listing count")}finally{c(!1)}}},y=async()=>{if(n&&!a){c(!0),u(null);try{const e=1*(f-1)+1,t=await n.getActiveListingsPage(f,1);i(t),console.log("Loaded page ".concat(f,": listings ").concat(e,"-").concat(e+1-1),t)}catch(e){console.error("Error loading marketplace:",e),u("Failed to load marketplace listings")}finally{c(!1)}}},m=e=>"".concat(e.slice(0,6),"...").concat(e.slice(-4)),w=Math.ceil(s/1);return a?(0,n_.jsx)("div",{className:"marketplace",children:(0,n_.jsxs)("div",{className:"loading",children:[(0,n_.jsx)("div",{className:"spinner"}),(0,n_.jsx)("p",{children:"Loading marketplace..."})]})}):n?l?(0,n_.jsx)("div",{className:"marketplace",children:(0,n_.jsxs)("div",{className:"error-message",children:[(0,n_.jsx)("p",{children:l}),(0,n_.jsx)("button",{onClick:()=>{g(),y()},children:"Try Again"})]})}):(0,n_.jsx)("div",{className:"marketplace",children:(0,n_.jsxs)("div",{className:"marketplace-container",children:[(0,n_.jsxs)("div",{className:"page-header",children:[(0,n_.jsx)("h1",{children:"Domain Marketplace"}),(0,n_.jsx)("p",{children:"Discover and buy domain NFTs"})]}),(0,n_.jsx)("div",{className:"marketplace-controls",children:(0,n_.jsx)("button",{className:"refresh-button",onClick:()=>{g(),y()},children:"\ud83d\udd04 Refresh"})}),0===s?(0,n_.jsxs)("div",{className:"empty-state",children:[(0,n_.jsx)("h3",{children:"No listings found"}),(0,n_.jsx)("p",{children:"The marketplace is empty. Be the first to list a domain!"}),e&&(0,n_.jsx)("button",{className:"action-button primary",onClick:()=>window.location.hash="#my-domains",style:{marginTop:"20px"},children:"List Your Domains"})]}):(0,n_.jsxs)(n_.Fragment,{children:[(0,n_.jsx)("div",{className:"nft-grid",children:r.map(t=>{var r,i;return(0,n_.jsxs)("div",{className:"nft-card",children:[(0,n_.jsx)("div",{className:"nft-card-image",children:(0,n_.jsx)("img",{src:(null===(r=t.tokenData)||void 0===r?void 0:r.uri)||"https://via.placeholder.com/400x400/667eea/ffffff?text=Domain",alt:"Domain #".concat(t.tokenId),onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x400/667eea/ffffff?text=Domain"}})}),(0,n_.jsxs)("div",{className:"nft-card-content",children:[(0,n_.jsxs)("div",{className:"nft-card-header",children:[(0,n_.jsxs)("h3",{className:"nft-card-title",children:["Domain #",t.tokenId]}),(0,n_.jsxs)("span",{className:"listing-badge",children:["#",t.listingId]})]}),(0,n_.jsxs)("div",{className:"nft-info",children:[(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Seller:"}),(0,n_.jsx)("span",{className:"value",children:m(t.seller)})]}),(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Price:"}),(0,n_.jsxs)("span",{className:"value price",children:[t.price," MATIC"]})]}),t.tokenData&&(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Creator:"}),(0,n_.jsx)("span",{className:"value",children:m(t.tokenData.creator)})]})]}),(0,n_.jsx)("div",{className:"nft-card-footer",children:(i=t.seller,e&&i.toLowerCase()===e.toLowerCase()?(0,n_.jsx)("button",{className:"action-button secondary",disabled:!0,children:"Your Listing"}):(0,n_.jsx)("button",{className:"action-button primary",onClick:()=>(async t=>{if(!n||!e)return void alert("Please connect your wallet first");if(window.confirm("Buy Domain #".concat(t.tokenId," for ").concat(t.price," MATIC?"))){d(t.listingId);try{const e=await n.buyToken(t.listingId);e?(alert("Purchase successful! Transaction: ".concat(e)),await y()):alert("Purchase failed. Please try again.")}catch(r){console.error("Error buying token:",r),alert("Error: ".concat(r.message||"Failed to buy domain"))}finally{d(null)}}})(t),disabled:h===t.listingId||!e,children:h===t.listingId?"Buying...":"Buy Now"}))})]})]},t.listingId)})}),(0,n_.jsx)(ZL,{currentPage:f,totalPages:w,onPageChange:e=>{p(e),window.scrollTo({top:0,behavior:"smooth"})},itemsPerPage:1,totalItems:s})]})]})}):(0,n_.jsx)("div",{className:"marketplace",children:(0,n_.jsxs)("div",{className:"empty-state",children:[(0,n_.jsx)("h3",{children:"Marketplace unavailable"}),(0,n_.jsx)("p",{children:"Connect your wallet or set REACT_APP_RPC_URL and contract addresses."})]})})},$L=()=>{const{account:e}=i_(),n=JL(),[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1),[a,c]=(0,t.useState)(null),[l,u]=(0,t.useState)(null),[h,d]=(0,t.useState)(""),[f,p]=(0,t.useState)(1),g=async()=>{if(n){o(!0),c(null);try{const e=await n.getMyDomainsFromCollection();i(e)}catch(e){console.error("Error loading domains:",e),c("Failed to load your domains")}finally{o(!1)}}},y=()=>{u(null),d("")},m=Math.ceil(r.length/12),w=12*(f-1),b=w+12,v=r.slice(w,b);return e?s&&0===r.length?(0,n_.jsx)("div",{className:"my-domains",children:(0,n_.jsxs)("div",{className:"loading",children:[(0,n_.jsx)("div",{className:"spinner"}),(0,n_.jsx)("p",{children:"Loading your domains..."})]})}):a?(0,n_.jsx)("div",{className:"my-domains",children:(0,n_.jsxs)("div",{className:"error-message",children:[(0,n_.jsx)("p",{children:a}),(0,n_.jsx)("button",{onClick:g,children:"Try Again"})]})}):(0,n_.jsx)("div",{className:"my-domains",children:(0,n_.jsxs)("div",{className:"my-domains-container",children:[(0,n_.jsxs)("div",{className:"page-header",children:[(0,n_.jsx)("h1",{children:"My Domains"}),(0,n_.jsx)("p",{children:"Manage your domain NFTs"})]}),(0,n_.jsxs)("div",{className:"load-section",children:[(0,n_.jsx)("button",{className:"load-button",onClick:g,disabled:s,children:s?"Loading Your Domains...":"Load My Domains"}),(0,n_.jsx)("p",{className:"load-hint",children:"Click to scan the collection for NFTs you own"})]}),0!==r.length||s?r.length>0?(0,n_.jsxs)(n_.Fragment,{children:[(0,n_.jsx)("div",{className:"domains-stats",children:(0,n_.jsxs)("div",{className:"stat-card",children:[(0,n_.jsx)("span",{className:"stat-value",children:r.length}),(0,n_.jsx)("span",{className:"stat-label",children:"Total Domains"})]})}),(0,n_.jsx)("div",{className:"nft-grid",children:v.map(e=>{return(0,n_.jsxs)("div",{className:"nft-card",children:[(0,n_.jsx)("div",{className:"nft-card-image",children:(0,n_.jsx)("img",{src:e.uri||"https://via.placeholder.com/400x400/667eea/ffffff?text=Domain+".concat(e.tokenId),alt:"Domain #".concat(e.tokenId),onError:t=>{t.currentTarget.src="https://via.placeholder.com/400x400/667eea/ffffff?text=Domain+".concat(e.tokenId)}})}),(0,n_.jsxs)("div",{className:"nft-card-content",children:[(0,n_.jsx)("div",{className:"nft-card-header",children:(0,n_.jsxs)("h3",{className:"nft-card-title",children:["Domain #",e.tokenId]})}),(0,n_.jsxs)("div",{className:"nft-info",children:[(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Creator:"}),(0,n_.jsx)("span",{className:"value",children:(t=e.creator,"".concat(t.slice(0,6),"...").concat(t.slice(-4)))})]}),"0"!==e.lastPrice&&(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Last Price:"}),(0,n_.jsxs)("span",{className:"value price",children:[(Number(e.lastPrice)/1e18).toFixed(4)," MATIC"]})]}),(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Minted:"}),(0,n_.jsx)("span",{className:"value",children:new Date(1e3*e.mintTimestamp).toLocaleDateString()})]})]}),l===e.tokenId?(0,n_.jsxs)("div",{className:"listing-form",children:[(0,n_.jsx)("input",{type:"number",step:"0.01",min:"0",placeholder:"Price in MATIC",value:h,onChange:e=>d(e.target.value),className:"price-input"}),(0,n_.jsxs)("div",{className:"form-actions",children:[(0,n_.jsx)("button",{className:"action-button secondary",onClick:y,children:"Cancel"}),(0,n_.jsx)("button",{className:"action-button primary",onClick:()=>(async e=>{if(!n||!h||parseFloat(h)<=0)return void alert("Please enter a valid price");if(window.confirm("List Domain #".concat(e," for ").concat(h," MATIC?"))){o(!0);try{const t=await n.listToken(e,h);t?(alert("Domain listed successfully! Transaction: ".concat(t)),u(null),d(""),await g()):alert("Failed to list domain. Make sure you own it and it's not already listed.")}catch(t){console.error("Error listing token:",t),alert("Error: ".concat(t.message||"Failed to list domain"))}finally{o(!1)}}})(e.tokenId),disabled:!h||s,children:s?"Listing...":"Confirm"})]})]}):(0,n_.jsx)("div",{className:"nft-card-footer",children:(0,n_.jsx)("button",{className:"action-button primary",onClick:()=>{return t=e.tokenId,u(t),void d("");var t},disabled:s,children:"List for Sale"})})]})]},e.tokenId);var t})}),(0,n_.jsx)(ZL,{currentPage:f,totalPages:m,onPageChange:e=>{p(e),window.scrollTo({top:0,behavior:"smooth"})},itemsPerPage:12,totalItems:r.length})]}):null:(0,n_.jsxs)("div",{className:"empty-state",children:[(0,n_.jsx)("h3",{children:'Click "Load My Domains" to check ownership'}),(0,n_.jsx)("p",{children:"This will scan the collection for NFTs owned by your address"})]})]})}):(0,n_.jsx)("div",{className:"my-domains",children:(0,n_.jsxs)("div",{className:"connect-prompt",children:[(0,n_.jsx)("h2",{children:"Connect Your Wallet"}),(0,n_.jsx)("p",{children:"Please connect your wallet to view your domains"})]})})},eU=12,tU=()=>{const{account:e}=i_(),n=JL(),[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1),[a,c]=(0,t.useState)(null),[l,u]=(0,t.useState)(null),[h,d]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[g,y]=(0,t.useState)(1),[m,w]=(0,t.useState)(1);(0,t.useEffect)(()=>{n&&e&&b()},[n,e]);const b=async()=>{if(n){o(!0),c(null);try{const e=await n.getMyAllListedDomainsOnMarketplaceWithTokenData();i(e)}catch(e){console.error("Error loading listings:",e),c("Failed to load your listings")}finally{o(!1)}}},v=()=>{u(null),d("")};if(!e)return(0,n_.jsx)("div",{className:"my-listings",children:(0,n_.jsxs)("div",{className:"connect-prompt",children:[(0,n_.jsx)("h2",{children:"Connect Your Wallet"}),(0,n_.jsx)("p",{children:"Please connect your wallet to view your listings"})]})});if(s&&0===r.length)return(0,n_.jsx)("div",{className:"my-listings",children:(0,n_.jsxs)("div",{className:"loading",children:[(0,n_.jsx)("div",{className:"spinner"}),(0,n_.jsx)("p",{children:"Loading your listings..."})]})});if(a)return(0,n_.jsx)("div",{className:"my-listings",children:(0,n_.jsxs)("div",{className:"error-message",children:[(0,n_.jsx)("p",{children:a}),(0,n_.jsx)("button",{onClick:b,children:"Try Again"})]})});const E=r.filter(e=>e.active),A=r.filter(e=>!e.active),x=Math.ceil(E.length/eU),S=(g-1)*eU,k=S+eU,I=E.slice(S,k),O=Math.ceil(A.length/eU),P=(m-1)*eU,T=P+eU,C=A.slice(P,T);return(0,n_.jsx)("div",{className:"my-listings",children:(0,n_.jsxs)("div",{className:"my-listings-container",children:[(0,n_.jsxs)("div",{className:"page-header",children:[(0,n_.jsx)("h1",{children:"My Listings"}),(0,n_.jsx)("p",{children:"Manage your marketplace listings"})]}),(0,n_.jsxs)("div",{className:"listings-stats",children:[(0,n_.jsxs)("div",{className:"stat-card",children:[(0,n_.jsx)("span",{className:"stat-value",children:E.length}),(0,n_.jsx)("span",{className:"stat-label",children:"Active Listings"})]}),(0,n_.jsxs)("div",{className:"stat-card",children:[(0,n_.jsx)("span",{className:"stat-value",children:A.length}),(0,n_.jsx)("span",{className:"stat-label",children:"Listing History"})]}),(0,n_.jsxs)("div",{className:"stat-card",children:[(0,n_.jsx)("span",{className:"stat-value",children:r.length}),(0,n_.jsx)("span",{className:"stat-label",children:"Total Listings"})]})]}),0===r.length?(0,n_.jsxs)("div",{className:"empty-state",children:[(0,n_.jsx)("h3",{children:"No listings found"}),(0,n_.jsx)("p",{children:"You haven't listed any domains for sale yet"})]}):(0,n_.jsxs)(n_.Fragment,{children:[E.length>0&&(0,n_.jsxs)("section",{className:"listings-section",id:"active-section",children:[(0,n_.jsxs)("h2",{className:"section-title",children:["Active Listings (",E.length,")"]}),(0,n_.jsx)("div",{className:"nft-grid",children:I.map(e=>{var t;return(0,n_.jsxs)("div",{className:"nft-card",children:[(0,n_.jsx)("div",{className:"nft-card-image",children:(0,n_.jsx)("img",{src:(null===(t=e.tokenData)||void 0===t?void 0:t.uri)||"https://via.placeholder.com/400x400/667eea/ffffff?text=Domain+".concat(e.tokenId),alt:"Domain #".concat(e.tokenId),onError:t=>{t.currentTarget.src="https://via.placeholder.com/400x400/667eea/ffffff?text=Domain+".concat(e.tokenId)}})}),(0,n_.jsxs)("div",{className:"nft-card-content",children:[(0,n_.jsxs)("div",{className:"nft-card-header",children:[(0,n_.jsxs)("h3",{className:"nft-card-title",children:["Domain #",e.tokenId]}),(0,n_.jsxs)("span",{className:"listing-badge",children:["#",e.listingId]})]}),(0,n_.jsxs)("div",{className:"nft-info",children:[(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Current Price:"}),(0,n_.jsxs)("span",{className:"value price",children:[e.price," MATIC"]})]}),(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Status:"}),(0,n_.jsx)("span",{className:"value status active",children:"Active"})]})]}),l===e.listingId?(0,n_.jsxs)("div",{className:"update-form",children:[(0,n_.jsx)("input",{type:"number",step:"0.01",min:"0",placeholder:"New price in MATIC",value:h,onChange:e=>d(e.target.value),className:"price-input"}),(0,n_.jsxs)("div",{className:"form-actions",children:[(0,n_.jsx)("button",{className:"action-button secondary",onClick:v,children:"Cancel"}),(0,n_.jsx)("button",{className:"action-button primary",onClick:()=>(async e=>{if(!n||!h||parseFloat(h)<=0)return void alert("Please enter a valid price");if(window.confirm("Update listing #".concat(e," to ").concat(h," MATIC?"))){o(!0);try{const t=await n.updateListing(e,h);t?(alert("Price updated successfully! Transaction: ".concat(t)),u(null),d(""),await b()):alert("Failed to update price. Please try again.")}catch(t){console.error("Error updating listing:",t),alert("Error: ".concat(t.message||"Failed to update price"))}finally{o(!1)}}})(e.listingId),disabled:!h||s,children:s?"Updating...":"Update"})]})]}):(0,n_.jsxs)("div",{className:"nft-card-footer",children:[(0,n_.jsx)("button",{className:"action-button secondary",onClick:()=>{return t=e.listingId,n=e.price,u(t),void d(n);var t,n},disabled:s,children:"Update Price"}),(0,n_.jsx)("button",{className:"action-button danger",onClick:()=>(async e=>{if(!n)return;if(window.confirm("Cancel listing #".concat(e,"? This will remove it from the marketplace."))){p(e);try{const t=await n.cancelListing(e);t?(alert("Listing cancelled successfully! Transaction: ".concat(t)),await b()):alert("Failed to cancel listing. Please try again.")}catch(t){console.error("Error cancelling listing:",t),alert("Error: ".concat(t.message||"Failed to cancel listing"))}finally{p(null)}}})(e.listingId),disabled:f===e.listingId,children:f===e.listingId?"Cancelling...":"Cancel Listing"})]})]})]},e.listingId)})}),(0,n_.jsx)(ZL,{currentPage:g,totalPages:x,onPageChange:e=>{y(e),window.scrollTo({top:0,behavior:"smooth"})},itemsPerPage:eU,totalItems:E.length})]}),A.length>0&&(0,n_.jsxs)("section",{className:"listings-section",id:"sold-section",children:[(0,n_.jsxs)("h2",{className:"section-title",children:["Listing History (",A.length,")"]}),(0,n_.jsx)("div",{className:"nft-grid",children:C.map(e=>{var t;return(0,n_.jsxs)("div",{className:"nft-card",children:[(0,n_.jsx)("div",{className:"nft-card-image",children:(0,n_.jsx)("img",{src:(null===(t=e.tokenData)||void 0===t?void 0:t.uri)||"https://via.placeholder.com/400x400/667eea/ffffff?text=Domain+".concat(e.tokenId),alt:"Domain #".concat(e.tokenId),onError:t=>{t.currentTarget.src="https://via.placeholder.com/400x400/667eea/ffffff?text=Domain+".concat(e.tokenId)}})}),(0,n_.jsxs)("div",{className:"nft-card-content",children:[(0,n_.jsxs)("div",{className:"nft-card-header",children:[(0,n_.jsxs)("h3",{className:"nft-card-title",children:["Domain #",e.tokenId]}),(0,n_.jsxs)("span",{className:"listing-badge",children:["#",e.listingId]})]}),(0,n_.jsxs)("div",{className:"nft-info",children:[(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Last Price:"}),(0,n_.jsxs)("span",{className:"value price",children:[e.price," MATIC"]})]}),(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Status:"}),(0,n_.jsx)("span",{className:"value status",children:"Inactive"})]})]})]})]},e.listingId)})}),(0,n_.jsx)(ZL,{currentPage:m,totalPages:O,onPageChange:e=>{w(e);const t=document.getElementById("sold-section");t&&t.scrollIntoView({behavior:"smooth"})},itemsPerPage:eU,totalItems:A.length})]})]})]})})},nU=()=>{const{account:e}=i_(),n=JL(),[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)("0"),[a,c]=(0,t.useState)(!1),[l,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(null),[f,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{n&&e&&(g(),y())},[n,e]);const g=async()=>{if(n&&e){u(!0),d(null);try{try{const e=await n.getMarketplaceFees();e&&o(be(e))}catch(t){console.warn("Could not fetch marketplace fees:",t),o("0")}console.log("Skipping automatic splitter balance check (can cause RPC errors)"),i([])}catch(r){console.error("Error loading balances:",r),i([]),o("0")}finally{u(!1)}}},y=async()=>{if(n)try{const e=await n.isAdmin();c(e)}catch(e){console.error("Error checking admin status:",e)}},m=()=>r.reduce((e,t)=>e+parseFloat(t.balance),0);return e?l&&0===r.length?(0,n_.jsx)("div",{className:"royalties",children:(0,n_.jsxs)("div",{className:"loading",children:[(0,n_.jsx)("div",{className:"spinner"}),(0,n_.jsx)("p",{children:"Loading balances..."})]})}):(0,n_.jsx)("div",{className:"royalties",children:(0,n_.jsxs)("div",{className:"royalties-container",children:[(0,n_.jsxs)("div",{className:"page-header",children:[(0,n_.jsx)("h1",{children:"Royalties & Fees"}),(0,n_.jsx)("p",{children:"Manage your earnings from the marketplace"})]}),h&&(0,n_.jsx)("div",{className:"error-banner",children:h}),(0,n_.jsxs)("div",{className:"summary-cards",children:[(0,n_.jsxs)("div",{className:"summary-card",children:[(0,n_.jsx)("div",{className:"card-icon",children:"\ud83d\udcb0"}),(0,n_.jsxs)("div",{className:"card-content",children:[(0,n_.jsx)("span",{className:"card-label",children:"Total Royalties"}),(0,n_.jsxs)("span",{className:"card-value",children:[m().toFixed(4)," MATIC"]})]})]}),(0,n_.jsxs)("div",{className:"summary-card",children:[(0,n_.jsx)("div",{className:"card-icon",children:"\ud83d\udcca"}),(0,n_.jsxs)("div",{className:"card-content",children:[(0,n_.jsx)("span",{className:"card-label",children:"Splitter Contracts"}),(0,n_.jsx)("span",{className:"card-value",children:r.length})]})]}),a&&(0,n_.jsxs)("div",{className:"summary-card admin",children:[(0,n_.jsx)("div",{className:"card-icon",children:"\u2699\ufe0f"}),(0,n_.jsxs)("div",{className:"card-content",children:[(0,n_.jsx)("span",{className:"card-label",children:"Marketplace Fees"}),(0,n_.jsxs)("span",{className:"card-value",children:[parseFloat(s).toFixed(4)," MATIC"]})]})]})]}),(0,n_.jsxs)("section",{className:"royalties-section",children:[(0,n_.jsxs)("div",{className:"section-header",children:[(0,n_.jsx)("h2",{className:"section-title",children:"Your Royalties (Creator/Minter)"}),(0,n_.jsx)("button",{className:"action-button secondary",onClick:async()=>{if(n&&e){u(!0);try{const t=await n.getSplitterBalanceOfWallet(e);i(t||[])}catch(t){console.error("Error loading splitters:",t),alert("Error loading royalties. The collection might be empty or RPC is rate limiting.")}finally{u(!1)}}},disabled:l,children:l?"Loading...":"Check Royalty Balances"}),r.length>0&&m()>0&&(0,n_.jsx)("button",{className:"action-button primary",onClick:async()=>{if(!n)return;const e=r.reduce((e,t)=>e+parseFloat(t.balance),0);if(window.confirm("Withdraw all royalties from ".concat(r.length," splitter(s)?\nTotal: ").concat(e.toFixed(4)," MATIC"))){p("all");try{const e=await n.withdrawAllRoyaltyFees();if(e&&e.length>0){const t=e.reduce((e,t)=>e+parseFloat(t.withdrawn),0);alert("Successfully withdrew from ".concat(e.length," splitter(s)!\nTotal: ").concat(t.toFixed(4)," MATIC")),await g()}else alert("No funds to withdraw or withdrawal failed.")}catch(t){console.error("Error withdrawing all:",t),alert("Error: ".concat(t.message||"Failed to withdraw"))}finally{p(null)}}},disabled:null!==f,children:"all"===f?"Withdrawing All...":"Withdraw All"})]}),0===r.length?(0,n_.jsxs)("div",{className:"empty-state",children:[(0,n_.jsx)("h3",{children:'Click "Check Royalty Balances" to scan'}),(0,n_.jsx)("p",{children:"This will scan the collection for your royalty earnings"}),(0,n_.jsx)("small",{style:{color:"#999",marginTop:"8px",display:"block"},children:"Note: May take time if collection is large"})]}):(0,n_.jsx)("div",{className:"royalty-list",children:r.map((e,t)=>{return(0,n_.jsxs)("div",{className:"royalty-item",children:[(0,n_.jsxs)("div",{className:"royalty-info",children:[(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Splitter Contract:"}),(0,n_.jsx)("span",{className:"value",children:(r=e.splitter,"".concat(r.slice(0,6),"...").concat(r.slice(-4)))})]}),(0,n_.jsxs)("div",{className:"info-row",children:[(0,n_.jsx)("span",{className:"label",children:"Available Balance:"}),(0,n_.jsxs)("span",{className:"value price",children:[e.balance," MATIC"]})]})]}),(0,n_.jsx)("button",{className:"action-button secondary",onClick:()=>(async e=>{if(!n)return;if(window.confirm("Withdraw your royalties from this splitter?")){p(e);try{const t=await n.withdrawRoyaltyFromSplitter(e);t?(alert("Withdrawal successful! Transaction: ".concat(t.transactionHash,"\nAmount: ").concat(t.withdrawn," MATIC")),await g()):alert("Withdrawal failed. Please try again.")}catch(t){console.error("Error withdrawing:",t),alert("Error: ".concat(t.message||"Failed to withdraw"))}finally{p(null)}}})(e.splitter),disabled:f===e.splitter,children:f===e.splitter?"Withdrawing...":"Withdraw"})]},e.splitter);var r})})]}),a&&(0,n_.jsxs)("section",{className:"royalties-section admin-section",children:[(0,n_.jsx)("div",{className:"section-header",children:(0,n_.jsx)("h2",{className:"section-title",children:"Marketplace Fees (Admin Only)"})}),(0,n_.jsxs)("div",{className:"admin-card",children:[(0,n_.jsxs)("div",{className:"admin-info",children:[(0,n_.jsxs)("div",{className:"info-item",children:[(0,n_.jsx)("span",{className:"label",children:"Accumulated Fees:"}),(0,n_.jsxs)("span",{className:"value price",children:[parseFloat(s).toFixed(4)," MATIC"]})]}),(0,n_.jsx)("p",{className:"info-text",children:"As the marketplace owner, you can withdraw accumulated platform fees."})]}),(0,n_.jsx)("button",{className:"action-button primary large",onClick:async()=>{if(!n)return;if(window.confirm("Withdraw marketplace fees?\nAmount: ".concat(s," MATIC"))){p("marketplace");try{const e=await n.withdrawMarketPlaceFees();e?(alert("Marketplace fees withdrawn successfully! Transaction: ".concat(e)),await g()):alert("Withdrawal failed. Make sure you are an admin and there are fees to withdraw.")}catch(e){console.error("Error withdrawing marketplace fees:",e),alert("Error: ".concat(e.message||"Failed to withdraw marketplace fees"))}finally{p(null)}}},disabled:"marketplace"===f||0===parseFloat(s),children:"marketplace"===f?"Withdrawing...":"Withdraw Marketplace Fees"})]})]}),(0,n_.jsxs)("div",{className:"info-box",children:[(0,n_.jsx)("h3",{children:"\u2139\ufe0f About Royalties"}),(0,n_.jsxs)("ul",{children:[(0,n_.jsxs)("li",{children:[(0,n_.jsx)("strong",{children:"Creator Royalties:"})," Earned when domains you created are resold"]}),(0,n_.jsxs)("li",{children:[(0,n_.jsx)("strong",{children:"Minter Royalties:"})," Earned from NFTs you minted"]}),(0,n_.jsxs)("li",{children:[(0,n_.jsx)("strong",{children:"Splitter Contracts:"})," Automatically distribute royalties to creators and minters"]}),a&&(0,n_.jsxs)("li",{children:[(0,n_.jsx)("strong",{children:"Marketplace Fees:"})," Platform fees from all sales (admin only)"]})]})]})]})}):(0,n_.jsx)("div",{className:"royalties",children:(0,n_.jsxs)("div",{className:"connect-prompt",children:[(0,n_.jsx)("h2",{children:"Connect Your Wallet"}),(0,n_.jsx)("p",{children:"Please connect your wallet to view your royalties"})]})})},rU=()=>{const{account:e}=i_(),n=JL(),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),[a,c]=(0,t.useState)(!1),[l,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[g,y]=(0,t.useState)(null);(0,t.useEffect)(()=>{n&&e&&(m(),u(e))},[n,e]);const m=async()=>{if(n){o(!0);try{const e=await n.isAdmin();i(e)}catch(e){console.error("Error checking admin status:",e),i(!1)}finally{o(!1)}}};return e?s?(0,n_.jsx)("div",{className:"mint",children:(0,n_.jsxs)("div",{className:"loading",children:[(0,n_.jsx)("div",{className:"spinner"}),(0,n_.jsx)("p",{children:"Checking permissions..."})]})}):r?(0,n_.jsx)("div",{className:"mint",children:(0,n_.jsxs)("div",{className:"mint-container",children:[(0,n_.jsxs)("div",{className:"page-header",children:[(0,n_.jsx)("h1",{children:"Mint Domain NFT"}),(0,n_.jsx)("p",{children:"Create new domain NFTs (Admin Only)"})]}),(0,n_.jsxs)("div",{className:"mint-card",children:[(0,n_.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n&&l&&h){c(!0),p(null),y(null);try{const e=await n.mintDomain(l,h);e?(y("NFT minted successfully! Transaction: ".concat(e)),d("")):p("Failed to mint NFT. Make sure you have MINTER_ROLE.")}catch(t){console.error("Error minting:",t),p(t.message||"Failed to mint NFT")}finally{c(!1)}}else p("Please fill in all fields")},children:[(0,n_.jsxs)("div",{className:"form-group",children:[(0,n_.jsx)("label",{htmlFor:"recipient",children:"Recipient Address"}),(0,n_.jsx)("input",{id:"recipient",type:"text",value:l,onChange:e=>u(e.target.value),placeholder:"0x...",required:!0}),(0,n_.jsx)("small",{children:"The address that will receive the NFT (creator)"})]}),(0,n_.jsxs)("div",{className:"form-group",children:[(0,n_.jsx)("label",{htmlFor:"tokenURI",children:"Token URI"}),(0,n_.jsx)("input",{id:"tokenURI",type:"text",value:h,onChange:e=>d(e.target.value),placeholder:"ipfs://... or https://...",required:!0}),(0,n_.jsx)("small",{children:"Metadata URI (IPFS or HTTP link to JSON metadata)"})]}),f&&(0,n_.jsx)("div",{className:"alert error",children:f}),g&&(0,n_.jsx)("div",{className:"alert success",children:g}),(0,n_.jsx)("button",{type:"submit",className:"mint-button",disabled:a||!l||!h,children:a?"Minting...":"Mint NFT"})]}),(0,n_.jsxs)("div",{className:"mint-info",children:[(0,n_.jsx)("h3",{children:"\u2139\ufe0f What happens when you mint:"}),(0,n_.jsxs)("ul",{children:[(0,n_.jsx)("li",{children:"\u2705 NFT is minted to the recipient address"}),(0,n_.jsx)("li",{children:"\u2705 Royalty splitter is automatically created"}),(0,n_.jsx)("li",{children:"\u2705 Creator gets 40% of future royalties (2% of sale price)"}),(0,n_.jsx)("li",{children:"\u2705 Treasury gets 60% of future royalties (3% of sale price)"}),(0,n_.jsx)("li",{children:"\u2705 Total royalty: 5% of sale price"})]})]}),(0,n_.jsxs)("div",{className:"example-uri",children:[(0,n_.jsx)("h4",{children:"Example Token URI:"}),(0,n_.jsx)("code",{children:"ipfs://QmYourHashHere/metadata.json"}),(0,n_.jsx)("p",{children:"Or use a test URI:"}),(0,n_.jsx)("code",{children:"https://example.com/nft/1.json"})]})]})]})}):(0,n_.jsx)("div",{className:"mint",children:(0,n_.jsxs)("div",{className:"no-access",children:[(0,n_.jsx)("h2",{children:"\u26a0\ufe0f Admin Access Required"}),(0,n_.jsx)("p",{children:"You need MINTER_ROLE to mint NFTs."}),(0,n_.jsxs)("p",{className:"address",children:["Your address: ",e]}),(0,n_.jsxs)("div",{className:"info-box",children:[(0,n_.jsx)("h3",{children:"How to get minting access:"}),(0,n_.jsxs)("ol",{children:[(0,n_.jsx)("li",{children:"Contact the contract owner"}),(0,n_.jsx)("li",{children:"Request MINTER_ROLE for your address"}),(0,n_.jsx)("li",{children:"Or connect with an admin wallet"})]})]})]})}):(0,n_.jsx)("div",{className:"mint",children:(0,n_.jsxs)("div",{className:"connect-prompt",children:[(0,n_.jsx)("h2",{children:"Connect Your Wallet"}),(0,n_.jsx)("p",{children:"Please connect your wallet to mint NFTs"})]})})},iU=()=>{const{account:e,chainId:n,provider:r,signer:i}=i_(),s=JL(),[o,a]=(0,t.useState)([]),[c,l]=(0,t.useState)(!1),u=e=>{a(t=>[...t,"[".concat((new Date).toLocaleTimeString(),"] ").concat(e)])};return(0,n_.jsx)("div",{className:"debug",children:(0,n_.jsxs)("div",{className:"debug-container",children:[(0,n_.jsxs)("div",{className:"page-header",children:[(0,n_.jsx)("h1",{children:"\ud83d\udd27 Diagnostics"}),(0,n_.jsx)("p",{children:"Debug your marketplace connection"})]}),(0,n_.jsxs)("div",{className:"debug-card",children:[(0,n_.jsx)("button",{className:"run-button",onClick:async()=>{a([]),l(!0);try{if(u("\ud83d\udd0d Starting Diagnostics...\n"),u("\ud83d\udccb Environment Variables:"),u("MARKETPLACE_ADDRESS: ".concat("0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43")),u("NFT_COLLECTION: ".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MARKETPLACE_ADDRESS:"0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43",REACT_APP_NFT_COLLECTION_ADDRESS:"0x6f2835F12EcD1e60655f219Be6Fcb1dC50A9e972",REACT_APP_ROYALTY_SPLITTER_FACTORY_ADDRESS:"0x70E1c43fDc72a35fF5671a1e40f2673ED16fdB40",REACT_APP_CHAIN_ID:"80002",REACT_APP_NETWORK_NAME:"Polygon Amoy",REACT_APP_RPC_URL:"https://rpc-amoy.polygon.technology",REACT_APP_IPFS_GATEWAY:"https://ipfs.io/ipfs/",REACT_APP_WALLETCONNECT_PROJECT_ID:"5e467db3e55d357493c846de13b399fc"}.REACT_APP_STR_DOMAIN_NFT_COLLECTION)),u("CHAIN_ID: ".concat("80002")),u("RPC_URL: ".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MARKETPLACE_ADDRESS:"0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43",REACT_APP_NFT_COLLECTION_ADDRESS:"0x6f2835F12EcD1e60655f219Be6Fcb1dC50A9e972",REACT_APP_ROYALTY_SPLITTER_FACTORY_ADDRESS:"0x70E1c43fDc72a35fF5671a1e40f2673ED16fdB40",REACT_APP_CHAIN_ID:"80002",REACT_APP_NETWORK_NAME:"Polygon Amoy",REACT_APP_RPC_URL:"https://rpc-amoy.polygon.technology",REACT_APP_IPFS_GATEWAY:"https://ipfs.io/ipfs/",REACT_APP_WALLETCONNECT_PROJECT_ID:"5e467db3e55d357493c846de13b399fc"}.REACT_APP_AMOY_RPC_URL,"\n")),u("\ud83d\udc5b Wallet Status:"),u("Connected: ".concat(e?"Yes \u2705":"No \u274c")),u("Address: ".concat(e||"Not connected")),u("Chain ID: ".concat(n||"Unknown")),u("Expected Chain: 80002 (Polygon Amoy)"),u("Match: ".concat(80002===n?"\u2705":"\u274c","\n")),!s)return void u("\u274c SDK not initialized - wallet might not be connected");u("\ud83c\udfea Testing Marketplace Contract...");const a="0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43";if(u("Address: ".concat(a)),r){const e=await r.getCode(a||"");"0x"===e?(u("\u274c NO CONTRACT at ".concat(a," on current network!")),u("\u26a0\ufe0f Are you on the RIGHT network?"),u("\u26a0\ufe0f This contract should be on Polygon Amoy (Chain ID: 80002)")):u("\u2705 Contract exists at ".concat(a," (").concat(e.length," bytes)"))}try{const e=await s.marketplaceContract.lastListingId();if(u("\u2705 lastListingId() works! Value: ".concat(e.toString())),Number(e)>0){u("\n\ud83d\udcdd Testing getListing(1)...");const e=await s.marketplaceContract.getListing(1);u("\u2705 Listing 1: Seller=".concat(e.seller,", TokenId=").concat(e.tokenId,", Price=").concat(be(e.price)," MATIC, Active=").concat(e.active))}else u("\u26a0\ufe0f lastListingId is 0 - no listings created yet")}catch(c){u("\u274c Marketplace error: ".concat(c.message)),u("\u26a0\ufe0f Check: Are you on Polygon Amoy network?")}u("\n\ud83c\udfa8 Testing NFT Contract...");const l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MARKETPLACE_ADDRESS:"0xaaa7CCA80d0Fc5c06c216CBC012681084dF8AB43",REACT_APP_NFT_COLLECTION_ADDRESS:"0x6f2835F12EcD1e60655f219Be6Fcb1dC50A9e972",REACT_APP_ROYALTY_SPLITTER_FACTORY_ADDRESS:"0x70E1c43fDc72a35fF5671a1e40f2673ED16fdB40",REACT_APP_CHAIN_ID:"80002",REACT_APP_NETWORK_NAME:"Polygon Amoy",REACT_APP_RPC_URL:"https://rpc-amoy.polygon.technology",REACT_APP_IPFS_GATEWAY:"https://ipfs.io/ipfs/",REACT_APP_WALLETCONNECT_PROJECT_ID:"5e467db3e55d357493c846de13b399fc"}.REACT_APP_STR_DOMAIN_NFT_COLLECTION;if(u("Address: ".concat(l)),r){const e=await r.getCode(l||"");if("0x"===e)return u("\u274c NO CONTRACT at ".concat(l," on current network!")),void u("\u26a0\ufe0f Your NFT contract is NOT on the network you're connected to!");u("\u2705 NFT Contract exists (".concat(e.length," bytes)"))}try{const e=await s.nftContract.ownerOf(1);u("\u2705 Token 1 exists! Owner: ".concat(e));const t=await s.getStrDomainFromCollection(1);t&&u("\u2705 Token 1 data: Creator=".concat(t.creator,", URI=").concat(t.uri))}catch(c){var t,i,o;null!==(t=c.message)&&void 0!==t&&t.includes("ERC721NonexistentToken")||null!==(i=c.message)&&void 0!==i&&i.includes("nonexistent")?u("\u26a0\ufe0f Token 1 doesn't exist - no NFTs minted yet"):null!==(o=c.message)&&void 0!==o&&o.includes("could not decode")?u("\u274c Decode error - contract might not exist on this network"):u("\u274c NFT error: ".concat(c.message))}if(u("\n\ud83c\udf10 Testing Network Connection..."),r)try{const e=await r.getNetwork();u("\u2705 Connected to: ".concat(e.name)),u("Chain ID: ".concat(e.chainId.toString()));const t=await r.getBlockNumber();u("\u2705 Latest block: ".concat(t))}catch(c){u("\u274c Network error: ".concat(c.message))}u("\n\u2705 Diagnostics Complete!")}catch(c){u("\n\u274c Fatal error: ".concat(c.message))}finally{l(!1)}},disabled:c||!e,children:c?"Running Tests...":"Run Diagnostics"}),!e&&(0,n_.jsx)("div",{className:"warning",children:"\u26a0\ufe0f Connect your wallet first"}),o.length>0&&(0,n_.jsxs)("div",{className:"results",children:[(0,n_.jsx)("h3",{children:"Test Results:"}),(0,n_.jsx)("div",{className:"console",children:o.map((e,t)=>(0,n_.jsx)("div",{className:"log-line",children:e},t))})]})]}),(0,n_.jsxs)("div",{className:"info-card",children:[(0,n_.jsx)("h3",{children:"\ud83d\udca1 What This Tests:"}),(0,n_.jsxs)("ul",{children:[(0,n_.jsx)("li",{children:"\u2705 Environment variables loaded correctly"}),(0,n_.jsx)("li",{children:"\u2705 Wallet connected to right network"}),(0,n_.jsx)("li",{children:"\u2705 Contract addresses valid"}),(0,n_.jsx)("li",{children:"\u2705 lastListingId() function works"}),(0,n_.jsx)("li",{children:"\u2705 NFT contract accessible"}),(0,n_.jsx)("li",{children:"\u2705 Network connection active"})]})]})]})})};const sU=function(){const[e,n]=(0,t.useState)("home");return(0,n_.jsx)(s_,{children:(0,n_.jsxs)("div",{className:"App",children:[(0,n_.jsx)(a_,{currentPage:e,onNavigate:n}),(0,n_.jsx)(l_,{}),(()=>{switch(e){case"home":default:return(0,n_.jsx)(YL,{onNavigate:n});case"marketplace":return(0,n_.jsx)(XL,{});case"my-domains":return(0,n_.jsx)($L,{});case"my-listings":return(0,n_.jsx)(tU,{});case"royalties":return(0,n_.jsx)(nU,{});case"mint":return(0,n_.jsx)(rU,{});case"debug":return(0,n_.jsx)(iU,{})}})()]})})},oU=e=>{e&&e instanceof Function&&n.e(6453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};r.createRoot(document.getElementById("root")).render((0,n_.jsx)(t.StrictMode,{children:(0,n_.jsx)(sU,{})})),oU()})()})();
//# sourceMappingURL=main.7a6cb76b.js.map